2025-06-12 14:40:07,676 - __main__ - INFO - 🚀 Initializing Trading Application...
2025-06-12 14:40:07,676 - __main__ - INFO - Feature Flags:
2025-06-12 14:40:07,676 - __main__ - INFO -   RECONCILIATION_ENABLED: False
2025-06-12 14:40:07,677 - __main__ - INFO - Connecting to TWS...
2025-06-12 14:40:07,677 - src.tws_connection - INFO - Connecting to TWS at 127.0.0.1:7497
2025-06-12 14:40:07,678 - src.tws_connection - INFO - Connection thread: Connecting to 127.0.0.1:7497 (client ID: 1)
2025-06-12 14:40:17,686 - src.tws_connection - ERROR - ❌ Connection failed or timed out
2025-06-12 14:40:17,687 - src.tws_connection - ERROR - Connected: False, Next ID: None
2025-06-12 14:40:17,687 - src.tws_connection - INFO - Forcing connection cleanup
2025-06-12 14:40:17,689 - ibapi.client - WARNING - Disconnected; resetting connection
2025-06-12 14:40:17,689 - src.tws_connection - INFO - ⚠️ Connection to TWS closed
2025-06-12 14:40:17,689 - src.tws_connection - INFO - Connection thread: Socket connected, starting message loop
2025-06-12 14:40:17,689 - __main__ - ERROR - ❌ Fatal error: Failed to connect to TWS
2025-06-12 14:40:17,690 - src.tws_connection - WARNING - Not connected to TWS
2025-06-12 14:40:17,690 - __main__ - INFO - ⏹️ Stopping trading system...
2025-06-12 14:40:17,690 - src.tws_connection - INFO - Connection thread: Message loop ended
2025-06-12 14:40:17,690 - __main__ - INFO - ✅ Trading system stopped
2025-06-12 14:53:16,575 - __main__ - INFO - 🚀 Initializing Trading Application...
2025-06-12 14:53:16,576 - __main__ - INFO - Feature Flags:
2025-06-12 14:53:16,576 - __main__ - INFO -   RECONCILIATION_ENABLED: False
2025-06-12 14:53:16,576 - __main__ - INFO - Connecting to TWS...
2025-06-12 14:53:16,577 - src.tws_connection - INFO - Connecting to TWS at 127.0.0.1:7497
2025-06-12 14:53:16,577 - src.tws_connection - INFO - Connection thread: Connecting to 127.0.0.1:7497 (client ID: 100)
2025-06-12 14:53:26,589 - src.tws_connection - ERROR - ❌ Connection failed or timed out
2025-06-12 14:53:26,590 - src.tws_connection - ERROR - Connected: False, Next ID: None
2025-06-12 14:53:26,590 - src.tws_connection - INFO - Forcing connection cleanup
2025-06-12 14:53:26,591 - ibapi.client - WARNING - Disconnected; resetting connection
2025-06-12 14:53:26,591 - src.tws_connection - INFO - ⚠️ Connection to TWS closed
2025-06-12 14:53:26,592 - src.tws_connection - INFO - Connection thread: Socket connected, starting message loop
2025-06-12 14:53:26,592 - __main__ - ERROR - ❌ Fatal error: Failed to connect to TWS
2025-06-12 14:53:26,592 - src.tws_connection - WARNING - Not connected to TWS
2025-06-12 14:53:26,593 - __main__ - INFO - ⏹️ Stopping trading system...
2025-06-12 14:53:26,593 - src.tws_connection - INFO - Connection thread: Message loop ended
2025-06-12 14:53:26,593 - __main__ - INFO - ✅ Trading system stopped
2025-06-12 14:54:18,759 - __main__ - INFO - 🚀 Initializing Trading Application...
2025-06-12 14:54:18,759 - __main__ - INFO - Feature Flags:
2025-06-12 14:54:18,759 - __main__ - INFO -   RECONCILIATION_ENABLED: False
2025-06-12 14:54:18,760 - __main__ - INFO - Connecting to TWS...
2025-06-12 14:54:18,760 - src.tws_connection - INFO - Connecting to TWS at 127.0.0.1:7497
2025-06-12 14:54:18,760 - src.tws_connection - INFO - Connection thread: Connecting to 127.0.0.1:7497 (client ID: 100)
2025-06-12 14:54:19,970 - src.tws_connection - INFO - ✅ Connection acknowledged by TWS
2025-06-12 14:54:19,971 - src.tws_connection - INFO - Connection thread: Socket connected, starting message loop
2025-06-12 14:54:19,981 - src.tws_connection - INFO - ✅ Next valid order ID received: 1
2025-06-12 14:54:19,981 - src.tws_connection - INFO - ✅ TWS connection fully established
2025-06-12 14:54:19,981 - src.tws_connection - INFO - Requesting additional order IDs from TWS
2025-06-12 14:54:19,982 - src.tws_connection - INFO - ✅ Successfully connected to TWS
2025-06-12 14:54:19,982 - __main__ - INFO - ✅ Connected to TWS
2025-06-12 14:54:19,982 - src.position.position_manager - INFO - PositionManager initialized
2025-06-12 14:54:19,983 - __main__ - INFO - ✅ PositionManager initialized (dual-write enabled)
2025-06-12 14:54:19,983 - src.order.manager - INFO - OrderManager callbacks set up with TWSConnection
2025-06-12 14:54:19,983 - src.position.tracker - INFO - PositionTracker async initialization completed
2025-06-12 14:54:19,984 - UnifiedFillManager - INFO - UnifiedFillManager initialized with concurrency control
2025-06-12 14:54:19,984 - __main__ - INFO - ✅ UnifiedFillManager initialized - handles all fill events and protective order updates
2025-06-12 14:54:19,984 - src.rule.linked_order_actions - INFO - CooldownResetManager initialized - monitoring for stop loss fills
2025-06-12 14:54:19,984 - __main__ - ERROR - Failed to initialize API client: Base URL is required. Provide it directly or set API_BASE_URL environment variable.
2025-06-12 14:54:19,984 - __main__ - ERROR - ❌ Fatal error: Base URL is required. Provide it directly or set API_BASE_URL environment variable.
2025-06-12 14:54:19,984 - __main__ - INFO - ⏹️ Stopping trading system...
2025-06-12 14:54:19,984 - src.rule.engine - WARNING - Rule engine is not running
2025-06-12 14:54:19,985 - UnifiedFillManager - INFO - UnifiedFillManager cleanup completed
2025-06-12 14:54:19,985 - src.tws_connection - INFO - Disconnecting from TWS
2025-06-12 14:54:19,985 - src.tws_connection - INFO - ⚠️ Connection to TWS closed
2025-06-12 14:54:19,986 - src.tws_connection - INFO - ✅ Disconnect request sent
2025-06-12 14:54:19,986 - __main__ - INFO - ✅ Trading system stopped
2025-06-12 14:56:18,354 - __main__ - INFO - 🚀 Initializing Trading Application...
2025-06-12 14:56:18,354 - __main__ - INFO - Feature Flags:
2025-06-12 14:56:18,354 - __main__ - INFO -   RECONCILIATION_ENABLED: False
2025-06-12 14:56:18,355 - __main__ - INFO - Connecting to TWS...
2025-06-12 14:56:18,355 - src.tws_connection - INFO - Connecting to TWS at 127.0.0.1:7497
2025-06-12 14:56:18,356 - src.tws_connection - INFO - Connection thread: Connecting to 127.0.0.1:7497 (client ID: 100)
2025-06-12 14:56:19,778 - src.tws_connection - INFO - ✅ Connection acknowledged by TWS
2025-06-12 14:56:19,778 - src.tws_connection - INFO - Connection thread: Socket connected, starting message loop
2025-06-12 14:56:19,820 - src.tws_connection - INFO - ✅ Next valid order ID received: 1
2025-06-12 14:56:19,821 - src.tws_connection - INFO - ✅ TWS connection fully established
2025-06-12 14:56:19,821 - src.tws_connection - INFO - Requesting additional order IDs from TWS
2025-06-12 14:56:19,822 - src.tws_connection - INFO - ✅ Successfully connected to TWS
2025-06-12 14:56:19,823 - __main__ - INFO - ✅ Connected to TWS
2025-06-12 14:56:19,823 - src.position.position_manager - INFO - PositionManager initialized
2025-06-12 14:56:19,823 - __main__ - INFO - ✅ PositionManager initialized (dual-write enabled)
2025-06-12 14:56:19,823 - src.order.manager - INFO - OrderManager callbacks set up with TWSConnection
2025-06-12 14:56:19,824 - src.position.tracker - INFO - PositionTracker async initialization completed
2025-06-12 14:56:19,824 - UnifiedFillManager - INFO - UnifiedFillManager initialized with concurrency control
2025-06-12 14:56:19,824 - __main__ - INFO - ✅ UnifiedFillManager initialized - handles all fill events and protective order updates
2025-06-12 14:56:19,825 - src.rule.linked_order_actions - INFO - CooldownResetManager initialized - monitoring for stop loss fills
2025-06-12 14:56:19,890 - src.tws_connection - INFO - ✅ Next valid order ID received: 1
2025-06-12 14:56:19,978 - src.tws_connection - INFO - ✅ Next valid order ID received: 1
2025-06-12 14:56:20,173 - __main__ - INFO - ✅ API client initialized
2025-06-12 14:56:20,174 - __main__ - INFO - ✅ All components initialized
2025-06-12 14:56:20,174 - __main__ - INFO - 📋 Setting up trading strategies...
2025-06-12 14:56:20,174 - __main__ - INFO - 📊 Created strategy for CVNA (confidence >= 0.5, auto double down @ 50% to stop)
2025-06-12 14:56:20,175 - __main__ - INFO - 📊 Created strategy for UVXY (confidence >= 0.5, auto double down @ 50% to stop)
2025-06-12 14:56:20,175 - __main__ - INFO - 📊 Created strategy for SOXL (confidence >= 0.5, auto double down @ 50% to stop)
2025-06-12 14:56:20,175 - __main__ - INFO - 📊 Created strategy for SOXS (confidence >= 0.5, auto double down @ 50% to stop)
2025-06-12 14:56:20,175 - __main__ - INFO - 📊 Created strategy for TQQQ (confidence >= 0.5, auto double down @ 50% to stop)
2025-06-12 14:56:20,176 - __main__ - INFO - 📊 Created strategy for SQQQ (confidence >= 0.5, auto double down @ 50% to stop)
2025-06-12 14:56:20,176 - __main__ - INFO - 📊 Created strategy for GLD (confidence >= 0.5, auto double down @ 50% to stop)
2025-06-12 14:56:20,176 - __main__ - INFO - 📊 Created strategy for SLV (confidence >= 0.5, auto double down @ 50% to stop)
2025-06-12 14:56:20,176 - __main__ - INFO - 📅 Created end-of-day closure rule (3:59 PM)
2025-06-12 14:56:20,176 - __main__ - INFO - ✅ Created strategies for 8 tickers
2025-06-12 14:56:20,176 - __main__ - INFO - 🔥 Starting trading system...
2025-06-12 14:56:20,177 - src.api.monitor - INFO - OptionsFlowMonitor configured with tickers: CVNA, UVXY, SOXL, SOXS, TQQQ, SQQQ, GLD, SLV
2025-06-12 14:56:20,177 - src.rule.engine - INFO - Rule engine started
2025-06-12 14:56:20,177 - src.api.monitor - INFO - OptionsFlowMonitor started
2025-06-12 14:56:20,177 - __main__ - INFO - 🚀 TRADING SYSTEM ACTIVE!
2025-06-12 14:56:20,177 - __main__ - INFO - 📊 Monitoring tickers: CVNA, UVXY, SOXL, SOXS, TQQQ, SQQQ, GLD, SLV
2025-06-12 14:56:20,177 - __main__ - INFO - 📋 Rules registered: 24
2025-06-12 14:56:20,178 - __main__ - INFO - ⚡ Waiting for prediction signals...
2025-06-12 14:56:20,178 - __main__ - INFO - 💰 Current positions: 0
2025-06-12 14:56:20,178 - __main__ - INFO - 💰 Total value: $0.00
2025-06-12 14:56:20,178 - __main__ - INFO - 💰 Unrealized P&L: $0.00
2025-06-12 14:56:20,877 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.61)
2025-06-12 14:56:21,238 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.73)
2025-06-12 14:56:21,496 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.66)
2025-06-12 14:56:21,737 - src.api.monitor - INFO - New prediction: SOXL BUY (0.60)
2025-06-12 14:56:21,738 - src.trade_tracker - INFO - TradeTracker initialized
2025-06-12 14:56:21,739 - src.trade_tracker - INFO - Started tracking BUY trade for SOXL
2025-06-12 14:56:21,739 - src.position.position_manager - INFO - Opened BUY position for SOXL
2025-06-12 14:56:21,979 - src.position.sizer - INFO - BUY position size: 1387 shares @ $21.62 = $29986.94 (100.0% of $30000.00 allocation)
2025-06-12 14:56:21,980 - src.order.base - INFO - Order bd632366-1b71-40dd-84c6-1bc99b46276e status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:56:21,980 - src.order.manager - INFO - Submitting order bd632366-1b71-40dd-84c6-1bc99b46276e to TWS
2025-06-12 14:56:21,981 - src.order.manager - INFO - Got broker order ID 1 for order bd632366-1b71-40dd-84c6-1bc99b46276e
2025-06-12 14:56:21,981 - src.order.manager - INFO - Calling placeOrder with ID 1, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 1387@0.000000 DAY
2025-06-12 14:56:21,982 - src.order.manager - INFO - placeOrder called successfully for order bd632366-1b71-40dd-84c6-1bc99b46276e
2025-06-12 14:56:21,982 - src.order.base - INFO - Order bd632366-1b71-40dd-84c6-1bc99b46276e status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:56:21,983 - src.position.position_manager - INFO - Added 1 main orders to SOXL position
2025-06-12 14:56:21,985 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.51)
2025-06-12 14:56:22,136 - src.tws_connection - INFO - Open Order - ID: 1, Symbol: SOXL, Action: BUY, Quantity: 1387.0
2025-06-12 14:56:22,137 - src.order.base - INFO - Order bd632366-1b71-40dd-84c6-1bc99b46276e status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 14:56:22,143 - src.order.base - INFO - Order bd632366-1b71-40dd-84c6-1bc99b46276e status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 14:56:22,142 - src.tws_connection - INFO - Open Order - ID: 1, Symbol: SOXL, Action: BUY, Quantity: 1387.0
2025-06-12 14:56:22,143 - src.order.base - INFO - Order bd632366-1b71-40dd-84c6-1bc99b46276e filled: 787.0 @ 21.61 (787.0/1387)
2025-06-12 14:56:22,145 - UnifiedFillManager - INFO - Processing fill for SOXL: 787.0 shares on order bd632366-1b71-40dd-84c6-1bc99b46276e
2025-06-12 14:56:22,145 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 14:56:22,145 - UnifiedFillManager - INFO - Order bd632366-1b71-40dd-84c6-1bc99b46276e fill status: partially_filled, is_fully_filled: False
2025-06-12 14:56:22,146 - UnifiedFillManager - INFO - Main order filled for SOXL
2025-06-12 14:56:22,146 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 14:56:22,146 - UnifiedFillManager - INFO -   Main orders: {'bd632366-1b71-40dd-84c6-1bc99b46276e'}
2025-06-12 14:56:22,147 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 14:56:22,147 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 14:56:22,148 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 14:56:22,148 - src.tws_connection - INFO - Open Order - ID: 1, Symbol: SOXL, Action: BUY, Quantity: 1387.0
2025-06-12 14:56:22,148 - UnifiedFillManager - INFO -   Current position size: 1387.0
2025-06-12 14:56:22,149 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1387.0
2025-06-12 14:56:22,149 - UnifiedFillManager - INFO - Updating protective orders for SOXL: position=1387.0, protective_qty=-1387.0
2025-06-12 14:56:22,150 - UnifiedFillManager - INFO - Checking protective orders to update for SOXL
2025-06-12 14:56:22,150 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 14:56:22,150 - src.tws_connection - INFO - Open Order - ID: 1, Symbol: SOXL, Action: BUY, Quantity: 1387.0
2025-06-12 14:56:22,151 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 14:56:22,152 - src.order.base - INFO - Order bd632366-1b71-40dd-84c6-1bc99b46276e status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 14:56:22,151 - src.tws_connection - INFO - Open Order - ID: 1, Symbol: SOXL, Action: BUY, Quantity: 1387.0
2025-06-12 14:56:22,153 - UnifiedFillManager - INFO - Started order queue processor for SOXL
2025-06-12 14:56:22,154 - src.order.base - INFO - Order bd632366-1b71-40dd-84c6-1bc99b46276e status changed: accepted -> filled (Order fully filled)
2025-06-12 14:56:22,155 - src.order.base - INFO - Order bd632366-1b71-40dd-84c6-1bc99b46276e filled: 600.0 @ 21.61 (1387.0/1387)
2025-06-12 14:56:22,156 - UnifiedFillManager - INFO - Processing fill for SOXL: 600.0 shares on order bd632366-1b71-40dd-84c6-1bc99b46276e
2025-06-12 14:56:22,156 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 14:56:22,156 - UnifiedFillManager - INFO - Order bd632366-1b71-40dd-84c6-1bc99b46276e fill status: filled, is_fully_filled: True
2025-06-12 14:56:22,156 - UnifiedFillManager - INFO - Main order filled for SOXL
2025-06-12 14:56:22,157 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 14:56:22,157 - UnifiedFillManager - INFO -   Main orders: {'bd632366-1b71-40dd-84c6-1bc99b46276e'}
2025-06-12 14:56:22,157 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 14:56:22,157 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 14:56:22,158 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 14:56:22,158 - UnifiedFillManager - INFO -   Current position size: 1387.0
2025-06-12 14:56:22,158 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1387.0
2025-06-12 14:56:22,158 - UnifiedFillManager - INFO - Updating protective orders for SOXL: position=1387.0, protective_qty=-1387.0
2025-06-12 14:56:22,159 - UnifiedFillManager - INFO - Checking protective orders to update for SOXL
2025-06-12 14:56:22,159 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 14:56:22,160 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 14:56:22,244 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.58)
2025-06-12 14:56:22,764 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.52)
2025-06-12 14:56:22,831 - src.tws_connection - WARNING - ⚠️ TWS Error 2176: Warning: Your API version does not support fractional share size rules. Please upgrade to a minimum version 163. Trimmed value 8220.72 to 8220 (reqId: 1000)
2025-06-12 14:56:23,154 - src.rule.linked_order_actions - INFO - ATR for SOXL: 0.0186
2025-06-12 14:56:23,155 - src.rule.linked_order_actions - INFO - ATR-based stop: SOXL stop at $21.48 (ATR: 0.0186 * 6.5 = 0.1207)
2025-06-12 14:56:23,156 - src.order.base - INFO - Order eac6c3e2-871d-4ff5-b570-f5c440d4a593 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:56:23,156 - src.order.manager - INFO - Submitting order eac6c3e2-871d-4ff5-b570-f5c440d4a593 to TWS
2025-06-12 14:56:23,156 - src.order.manager - INFO - Got broker order ID 2 for order eac6c3e2-871d-4ff5-b570-f5c440d4a593
2025-06-12 14:56:23,156 - src.order.manager - INFO - Calling placeOrder with ID 2, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 1387@0.000000 DAY
2025-06-12 14:56:23,157 - src.order.manager - INFO - placeOrder called successfully for order eac6c3e2-871d-4ff5-b570-f5c440d4a593
2025-06-12 14:56:23,157 - src.order.base - INFO - Order eac6c3e2-871d-4ff5-b570-f5c440d4a593 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:56:23,157 - src.position.position_manager - INFO - Added 1 stop orders to SOXL position
2025-06-12 14:56:23,157 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss eac6c3e2-871d-4ff5-b570-f5c440d4a593 at $21.48
2025-06-12 14:56:23,158 - src.rule.linked_order_actions - INFO - ATR-based target: SOXL target at $21.66 (ATR: 0.0186 * 3.0 = 0.0557)
2025-06-12 14:56:23,158 - src.order.base - INFO - Order d2966672-2a9d-44b7-8bd5-d732fd7b74a9 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:56:23,158 - src.order.manager - INFO - Submitting order d2966672-2a9d-44b7-8bd5-d732fd7b74a9 to TWS
2025-06-12 14:56:23,158 - src.order.manager - INFO - Got broker order ID 3 for order d2966672-2a9d-44b7-8bd5-d732fd7b74a9
2025-06-12 14:56:23,158 - src.order.manager - INFO - Calling placeOrder with ID 3, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1387@21.660000 DAY
2025-06-12 14:56:23,159 - src.order.manager - INFO - placeOrder called successfully for order d2966672-2a9d-44b7-8bd5-d732fd7b74a9
2025-06-12 14:56:23,159 - src.order.base - INFO - Order d2966672-2a9d-44b7-8bd5-d732fd7b74a9 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:56:23,159 - src.position.position_manager - INFO - Added 1 target orders to SOXL position
2025-06-12 14:56:23,160 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit d2966672-2a9d-44b7-8bd5-d732fd7b74a9 at $21.66
2025-06-12 14:56:23,160 - src.rule.linked_order_actions - INFO - Starting double down order creation for SOXL
2025-06-12 14:56:23,161 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.76)
2025-06-12 14:56:23,242 - src.tws_connection - INFO - Open Order - ID: 2, Symbol: SOXL, Action: SELL, Quantity: 1387.0
2025-06-12 14:56:23,243 - src.order.base - INFO - Order eac6c3e2-871d-4ff5-b570-f5c440d4a593 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 14:56:23,364 - src.tws_connection - INFO - Open Order - ID: 3, Symbol: SOXL, Action: SELL, Quantity: 1387.0
2025-06-12 14:56:23,660 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SOXL: ['eac6c3e2-871d-4ff5-b570-f5c440d4a593']
2025-06-12 14:56:23,661 - src.rule.linked_order_actions - INFO - Executing double down action for SOXL
2025-06-12 14:56:28,720 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SOXL: 0.1207
2025-06-12 14:56:28,721 - src.rule.linked_order_actions - INFO - Double down calc for SOXL (BUY): current=$21.60, stop_distance=$0.12, dd_distance=$0.06, dd_price=$21.54, original_qty=1387, dd_qty=1387
2025-06-12 14:56:28,721 - src.order.base - INFO - Order fb9b423f-c9d4-4aee-9e43-be8c0aef9d8f status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:56:28,721 - src.order.manager - INFO - Submitting order fb9b423f-c9d4-4aee-9e43-be8c0aef9d8f to TWS
2025-06-12 14:56:28,722 - src.order.manager - INFO - Got broker order ID 4 for order fb9b423f-c9d4-4aee-9e43-be8c0aef9d8f
2025-06-12 14:56:28,722 - src.order.manager - INFO - Calling placeOrder with ID 4, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1387@21.540000 DAY
2025-06-12 14:56:28,722 - src.order.manager - INFO - placeOrder called successfully for order fb9b423f-c9d4-4aee-9e43-be8c0aef9d8f
2025-06-12 14:56:28,722 - src.order.base - INFO - Order fb9b423f-c9d4-4aee-9e43-be8c0aef9d8f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:56:28,722 - src.position.position_manager - INFO - Added 1 doubledown orders to SOXL position
2025-06-12 14:56:28,723 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for SOXL: 1387 shares @ $21.54
2025-06-12 14:56:28,723 - src.rule.linked_order_actions - INFO - Auto-created double down order for SOXL
2025-06-12 14:56:28,723 - src.rule.linked_order_actions - INFO - Created and linked BUY main order bd632366-1b71-40dd-84c6-1bc99b46276e for SOXL
2025-06-12 14:56:28,723 - src.trade_tracker - INFO - Started tracking SELL trade for TQQQ
2025-06-12 14:56:28,724 - src.position.position_manager - INFO - Opened SELL position for TQQQ
2025-06-12 14:56:28,845 - src.tws_connection - INFO - Open Order - ID: 4, Symbol: SOXL, Action: BUY, Quantity: 1387.0
2025-06-12 14:56:29,732 - src.position.sizer - INFO - SELL position size: 396 shares @ $75.57 = $29925.72 (99.8% of $30000.00 allocation)
2025-06-12 14:56:29,733 - src.order.base - INFO - Order 9936546c-b297-423c-a9d2-41bd0c25d592 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:56:29,733 - src.order.manager - INFO - Submitting order 9936546c-b297-423c-a9d2-41bd0c25d592 to TWS
2025-06-12 14:56:29,734 - src.order.manager - INFO - Got broker order ID 5 for order 9936546c-b297-423c-a9d2-41bd0c25d592
2025-06-12 14:56:29,734 - src.order.manager - INFO - Calling placeOrder with ID 5, contract 0,TQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 396@0.000000 DAY
2025-06-12 14:56:29,734 - src.order.manager - INFO - placeOrder called successfully for order 9936546c-b297-423c-a9d2-41bd0c25d592
2025-06-12 14:56:29,735 - src.order.base - INFO - Order 9936546c-b297-423c-a9d2-41bd0c25d592 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:56:29,735 - src.position.position_manager - INFO - Added 1 main orders to TQQQ position
2025-06-12 14:56:29,921 - src.tws_connection - INFO - Open Order - ID: 5, Symbol: TQQQ, Action: SELL, Quantity: 396.0
2025-06-12 14:56:29,923 - src.order.base - INFO - Order 9936546c-b297-423c-a9d2-41bd0c25d592 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 14:56:29,925 - src.order.base - INFO - Order 9936546c-b297-423c-a9d2-41bd0c25d592 status changed: accepted -> filled (Order fully filled)
2025-06-12 14:56:29,925 - src.order.base - INFO - Order 9936546c-b297-423c-a9d2-41bd0c25d592 filled: 396.0 @ 75.56 (396.0/396)
2025-06-12 14:56:29,926 - UnifiedFillManager - INFO - Processing fill for TQQQ: 396.0 shares on order 9936546c-b297-423c-a9d2-41bd0c25d592
2025-06-12 14:56:29,926 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 14:56:29,926 - UnifiedFillManager - INFO - Order 9936546c-b297-423c-a9d2-41bd0c25d592 fill status: filled, is_fully_filled: True
2025-06-12 14:56:29,927 - UnifiedFillManager - INFO - Main order filled for TQQQ
2025-06-12 14:56:29,927 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 14:56:29,928 - UnifiedFillManager - INFO -   Main orders: {'9936546c-b297-423c-a9d2-41bd0c25d592'}
2025-06-12 14:56:29,928 - src.tws_connection - INFO - Open Order - ID: 5, Symbol: TQQQ, Action: SELL, Quantity: 396.0
2025-06-12 14:56:29,928 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 14:56:29,929 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 14:56:29,929 - src.tws_connection - INFO - Open Order - ID: 5, Symbol: TQQQ, Action: SELL, Quantity: 396.0
2025-06-12 14:56:29,930 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 14:56:29,930 - UnifiedFillManager - INFO -   Current position size: -396.0
2025-06-12 14:56:29,930 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -396.0
2025-06-12 14:56:29,931 - UnifiedFillManager - INFO - Updating protective orders for TQQQ: position=-396.0, protective_qty=396.0
2025-06-12 14:56:29,931 - UnifiedFillManager - INFO - Checking protective orders to update for TQQQ
2025-06-12 14:56:29,931 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 14:56:29,932 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 14:56:29,932 - UnifiedFillManager - INFO - Started order queue processor for TQQQ
2025-06-12 14:56:35,130 - src.tws_connection - WARNING - ⚠️ TWS Error 2176: Warning: Your API version does not support fractional share size rules. Please upgrade to a minimum version 163. Trimmed value 2374.43 to 2374 (reqId: 1001)
2025-06-12 14:57:23,153 - src.rule.linked_order_actions - INFO - ATR for TQQQ: 0.0293
2025-06-12 14:57:23,154 - src.rule.linked_order_actions - INFO - ATR-based stop: TQQQ stop at $75.74 (ATR: 0.0293 * 6.5 = 0.1904)
2025-06-12 14:57:23,154 - src.order.base - INFO - Order 036af130-7cb8-499f-91e6-7de278862473 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:57:23,154 - src.order.manager - INFO - Submitting order 036af130-7cb8-499f-91e6-7de278862473 to TWS
2025-06-12 14:57:23,155 - src.order.manager - INFO - Got broker order ID 6 for order 036af130-7cb8-499f-91e6-7de278862473
2025-06-12 14:57:23,155 - src.order.manager - INFO - Calling placeOrder with ID 6, contract 0,TQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 396@0.000000 DAY
2025-06-12 14:57:23,155 - src.order.manager - INFO - placeOrder called successfully for order 036af130-7cb8-499f-91e6-7de278862473
2025-06-12 14:57:23,156 - src.order.base - INFO - Order 036af130-7cb8-499f-91e6-7de278862473 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:57:23,157 - src.position.position_manager - INFO - Added 1 stop orders to TQQQ position
2025-06-12 14:57:23,157 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss 036af130-7cb8-499f-91e6-7de278862473 at $75.74
2025-06-12 14:57:23,157 - src.rule.linked_order_actions - INFO - ATR-based target: TQQQ target at $75.46 (ATR: 0.0293 * 3.0 = 0.0879)
2025-06-12 14:57:23,157 - src.order.base - INFO - Order 491e6e45-c101-45ad-9965-187f9a93aa66 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:57:23,157 - src.order.manager - INFO - Submitting order 491e6e45-c101-45ad-9965-187f9a93aa66 to TWS
2025-06-12 14:57:23,158 - src.order.manager - INFO - Got broker order ID 7 for order 491e6e45-c101-45ad-9965-187f9a93aa66
2025-06-12 14:57:23,158 - src.order.manager - INFO - Calling placeOrder with ID 7, contract 0,TQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 396@75.460000 DAY
2025-06-12 14:57:23,158 - src.order.manager - INFO - placeOrder called successfully for order 491e6e45-c101-45ad-9965-187f9a93aa66
2025-06-12 14:57:23,158 - src.order.base - INFO - Order 491e6e45-c101-45ad-9965-187f9a93aa66 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:57:23,159 - src.position.position_manager - INFO - Added 1 target orders to TQQQ position
2025-06-12 14:57:23,159 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit 491e6e45-c101-45ad-9965-187f9a93aa66 at $75.46
2025-06-12 14:57:23,159 - src.rule.linked_order_actions - INFO - Starting double down order creation for TQQQ
2025-06-12 14:57:23,234 - src.tws_connection - INFO - Open Order - ID: 6, Symbol: TQQQ, Action: BUY, Quantity: 396.0
2025-06-12 14:57:23,235 - src.order.base - INFO - Order 036af130-7cb8-499f-91e6-7de278862473 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 14:57:23,285 - src.tws_connection - INFO - Open Order - ID: 7, Symbol: TQQQ, Action: BUY, Quantity: 396.0
2025-06-12 14:57:23,663 - src.rule.linked_order_actions - INFO - Found 1 stop orders for TQQQ: ['036af130-7cb8-499f-91e6-7de278862473']
2025-06-12 14:57:23,663 - src.rule.linked_order_actions - INFO - Executing double down action for TQQQ
2025-06-12 14:57:23,862 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for TQQQ: 0.1904
2025-06-12 14:57:23,862 - src.rule.linked_order_actions - INFO - Double down calc for TQQQ (SELL): current=$75.58, stop_distance=$0.19, dd_distance=$0.10, dd_price=$75.68, original_qty=396, dd_qty=-396
2025-06-12 14:57:23,863 - src.order.base - INFO - Order 0aaa4416-cab3-4586-bce7-69861198ebad status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:57:23,863 - src.order.manager - INFO - Submitting order 0aaa4416-cab3-4586-bce7-69861198ebad to TWS
2025-06-12 14:57:23,864 - src.order.manager - INFO - Got broker order ID 8 for order 0aaa4416-cab3-4586-bce7-69861198ebad
2025-06-12 14:57:23,864 - src.order.manager - INFO - Calling placeOrder with ID 8, contract 0,TQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 396@75.680000 DAY
2025-06-12 14:57:23,865 - src.order.manager - INFO - placeOrder called successfully for order 0aaa4416-cab3-4586-bce7-69861198ebad
2025-06-12 14:57:23,865 - src.order.base - INFO - Order 0aaa4416-cab3-4586-bce7-69861198ebad status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:57:23,866 - src.position.position_manager - INFO - Added 1 doubledown orders to TQQQ position
2025-06-12 14:57:23,866 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for TQQQ: -396 shares @ $75.68
2025-06-12 14:57:23,866 - src.rule.linked_order_actions - INFO - Auto-created double down order for TQQQ
2025-06-12 14:57:23,866 - src.rule.linked_order_actions - INFO - Created and linked SELL main order 9936546c-b297-423c-a9d2-41bd0c25d592 for TQQQ
2025-06-12 14:57:23,955 - src.tws_connection - INFO - Open Order - ID: 8, Symbol: TQQQ, Action: SELL, Quantity: 396.0
2025-06-12 14:57:24,261 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.77)
2025-06-12 14:57:24,652 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.81)
2025-06-12 14:57:25,023 - src.api.monitor - INFO - New prediction: SOXL BUY (0.70)
2025-06-12 14:57:25,437 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.59)
2025-06-12 14:57:25,438 - src.trade_tracker - INFO - Started tracking BUY trade for SQQQ
2025-06-12 14:57:25,438 - src.position.position_manager - INFO - Opened BUY position for SQQQ
2025-06-12 14:57:25,879 - src.position.sizer - INFO - BUY position size: 1366 shares @ $21.96 = $29997.36 (100.0% of $30000.00 allocation)
2025-06-12 14:57:25,879 - src.order.base - INFO - Order 3284b668-1c90-42b8-984b-671ee835ae5d status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:57:25,880 - src.order.manager - INFO - Submitting order 3284b668-1c90-42b8-984b-671ee835ae5d to TWS
2025-06-12 14:57:25,880 - src.order.manager - INFO - Got broker order ID 9 for order 3284b668-1c90-42b8-984b-671ee835ae5d
2025-06-12 14:57:25,880 - src.order.manager - INFO - Calling placeOrder with ID 9, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 1366@0.000000 DAY
2025-06-12 14:57:25,881 - src.order.manager - INFO - placeOrder called successfully for order 3284b668-1c90-42b8-984b-671ee835ae5d
2025-06-12 14:57:25,881 - src.order.base - INFO - Order 3284b668-1c90-42b8-984b-671ee835ae5d status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:57:25,882 - src.position.position_manager - INFO - Added 1 main orders to SQQQ position
2025-06-12 14:57:26,036 - src.tws_connection - INFO - Open Order - ID: 9, Symbol: SQQQ, Action: BUY, Quantity: 1366.0
2025-06-12 14:57:26,037 - src.order.base - INFO - Order 3284b668-1c90-42b8-984b-671ee835ae5d status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 14:57:26,038 - src.order.base - INFO - Order 3284b668-1c90-42b8-984b-671ee835ae5d status changed: accepted -> filled (Order fully filled)
2025-06-12 14:57:26,039 - src.order.base - INFO - Order 3284b668-1c90-42b8-984b-671ee835ae5d filled: 1366.0 @ 21.96 (1366.0/1366)
2025-06-12 14:57:26,039 - UnifiedFillManager - INFO - Processing fill for SQQQ: 1366.0 shares on order 3284b668-1c90-42b8-984b-671ee835ae5d
2025-06-12 14:57:26,040 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 14:57:26,039 - src.tws_connection - INFO - Open Order - ID: 9, Symbol: SQQQ, Action: BUY, Quantity: 1366.0
2025-06-12 14:57:26,040 - UnifiedFillManager - INFO - Order 3284b668-1c90-42b8-984b-671ee835ae5d fill status: filled, is_fully_filled: True
2025-06-12 14:57:26,041 - UnifiedFillManager - INFO - Main order filled for SQQQ
2025-06-12 14:57:26,042 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 14:57:26,042 - UnifiedFillManager - INFO -   Main orders: {'3284b668-1c90-42b8-984b-671ee835ae5d'}
2025-06-12 14:57:26,043 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 14:57:26,043 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 14:57:26,043 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 14:57:26,043 - UnifiedFillManager - INFO -   Current position size: 1366.0
2025-06-12 14:57:26,044 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1366.0
2025-06-12 14:57:26,044 - UnifiedFillManager - INFO - Updating protective orders for SQQQ: position=1366.0, protective_qty=-1366.0
2025-06-12 14:57:26,044 - UnifiedFillManager - INFO - Checking protective orders to update for SQQQ
2025-06-12 14:57:26,045 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 14:57:26,045 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 14:57:26,046 - UnifiedFillManager - INFO - Started order queue processor for SQQQ
2025-06-12 14:57:26,078 - src.tws_connection - INFO - Open Order - ID: 9, Symbol: SQQQ, Action: BUY, Quantity: 1366.0
2025-06-12 14:57:26,496 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.58)
2025-06-12 14:57:26,731 - src.tws_connection - WARNING - ⚠️ TWS Error 2176: Warning: Your API version does not support fractional share size rules. Please upgrade to a minimum version 163. Trimmed value 3744.99 to 3744 (reqId: 1002)
2025-06-12 14:57:27,591 - src.rule.linked_order_actions - INFO - ATR for SQQQ: 0.0143
2025-06-12 14:57:27,592 - src.rule.linked_order_actions - INFO - ATR-based stop: SQQQ stop at $21.86 (ATR: 0.0143 * 6.5 = 0.0929)
2025-06-12 14:57:27,592 - src.order.base - INFO - Order 49eb0e45-abcd-4bab-8c31-33c3fd87c841 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:57:27,592 - src.order.manager - INFO - Submitting order 49eb0e45-abcd-4bab-8c31-33c3fd87c841 to TWS
2025-06-12 14:57:27,592 - src.order.manager - INFO - Got broker order ID 10 for order 49eb0e45-abcd-4bab-8c31-33c3fd87c841
2025-06-12 14:57:27,592 - src.order.manager - INFO - Calling placeOrder with ID 10, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 1366@0.000000 DAY
2025-06-12 14:57:27,593 - src.order.manager - INFO - placeOrder called successfully for order 49eb0e45-abcd-4bab-8c31-33c3fd87c841
2025-06-12 14:57:27,593 - src.order.base - INFO - Order 49eb0e45-abcd-4bab-8c31-33c3fd87c841 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:57:27,593 - src.position.position_manager - INFO - Added 1 stop orders to SQQQ position
2025-06-12 14:57:27,593 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss 49eb0e45-abcd-4bab-8c31-33c3fd87c841 at $21.86
2025-06-12 14:57:27,593 - src.rule.linked_order_actions - INFO - ATR-based target: SQQQ target at $21.99 (ATR: 0.0143 * 3.0 = 0.0429)
2025-06-12 14:57:27,594 - src.order.base - INFO - Order cc5fe16e-b3d1-4f67-9f56-d267884f269a status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:57:27,594 - src.order.manager - INFO - Submitting order cc5fe16e-b3d1-4f67-9f56-d267884f269a to TWS
2025-06-12 14:57:27,594 - src.order.manager - INFO - Got broker order ID 11 for order cc5fe16e-b3d1-4f67-9f56-d267884f269a
2025-06-12 14:57:27,594 - src.order.manager - INFO - Calling placeOrder with ID 11, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1366@21.990000 DAY
2025-06-12 14:57:27,594 - src.order.manager - INFO - placeOrder called successfully for order cc5fe16e-b3d1-4f67-9f56-d267884f269a
2025-06-12 14:57:27,594 - src.order.base - INFO - Order cc5fe16e-b3d1-4f67-9f56-d267884f269a status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:57:27,595 - src.position.position_manager - INFO - Added 1 target orders to SQQQ position
2025-06-12 14:57:27,595 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit cc5fe16e-b3d1-4f67-9f56-d267884f269a at $21.99
2025-06-12 14:57:27,596 - src.rule.linked_order_actions - INFO - Starting double down order creation for SQQQ
2025-06-12 14:57:27,597 - src.api.monitor - INFO - New prediction: CVNA SELL (0.77)
2025-06-12 14:57:27,597 - src.trade_tracker - INFO - Started tracking SELL trade for CVNA
2025-06-12 14:57:27,597 - src.position.position_manager - INFO - Opened SELL position for CVNA
2025-06-12 14:57:27,702 - src.tws_connection - INFO - Open Order - ID: 10, Symbol: SQQQ, Action: SELL, Quantity: 1366.0
2025-06-12 14:57:27,703 - src.order.base - INFO - Order 49eb0e45-abcd-4bab-8c31-33c3fd87c841 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 14:57:27,754 - src.tws_connection - INFO - Open Order - ID: 11, Symbol: SQQQ, Action: SELL, Quantity: 1366.0
2025-06-12 14:57:28,108 - src.position.sizer - INFO - SELL position size: 92 shares @ $322.85 = $29702.20 (99.0% of $30000.00 allocation)
2025-06-12 14:57:28,108 - src.order.base - INFO - Order 4c740488-c3ac-43a5-9618-fbbd92330410 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:57:28,109 - src.order.manager - INFO - Submitting order 4c740488-c3ac-43a5-9618-fbbd92330410 to TWS
2025-06-12 14:57:28,109 - src.order.manager - INFO - Got broker order ID 12 for order 4c740488-c3ac-43a5-9618-fbbd92330410
2025-06-12 14:57:28,110 - src.order.manager - INFO - Calling placeOrder with ID 12, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 92@0.000000 DAY
2025-06-12 14:57:28,111 - src.order.manager - INFO - placeOrder called successfully for order 4c740488-c3ac-43a5-9618-fbbd92330410
2025-06-12 14:57:28,112 - src.order.base - INFO - Order 4c740488-c3ac-43a5-9618-fbbd92330410 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:57:28,112 - src.position.position_manager - INFO - Added 1 main orders to CVNA position
2025-06-12 14:57:28,112 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SQQQ: ['49eb0e45-abcd-4bab-8c31-33c3fd87c841']
2025-06-12 14:57:28,112 - src.rule.linked_order_actions - INFO - Executing double down action for SQQQ
2025-06-12 14:57:28,266 - src.tws_connection - INFO - Open Order - ID: 12, Symbol: CVNA, Action: SELL, Quantity: 92.0
2025-06-12 14:57:28,845 - src.tws_connection - INFO - Open Order - ID: 12, Symbol: CVNA, Action: SELL, Quantity: 92.0
2025-06-12 14:57:28,847 - src.tws_connection - INFO - Open Order - ID: 12, Symbol: CVNA, Action: SELL, Quantity: 92.0
2025-06-12 14:57:28,911 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SQQQ: 0.0929
2025-06-12 14:57:28,911 - src.rule.linked_order_actions - INFO - Double down calc for SQQQ (BUY): current=$21.95, stop_distance=$0.09, dd_distance=$0.05, dd_price=$21.90, original_qty=1366, dd_qty=1366
2025-06-12 14:57:28,912 - src.order.base - INFO - Order 90619eb4-0022-4464-86f0-96d0bb8c7a18 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:57:28,912 - src.order.manager - INFO - Submitting order 90619eb4-0022-4464-86f0-96d0bb8c7a18 to TWS
2025-06-12 14:57:28,912 - src.order.manager - INFO - Got broker order ID 13 for order 90619eb4-0022-4464-86f0-96d0bb8c7a18
2025-06-12 14:57:28,912 - src.order.manager - INFO - Calling placeOrder with ID 13, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1366@21.900000 DAY
2025-06-12 14:57:28,913 - src.order.manager - INFO - placeOrder called successfully for order 90619eb4-0022-4464-86f0-96d0bb8c7a18
2025-06-12 14:57:28,913 - src.order.base - INFO - Order 90619eb4-0022-4464-86f0-96d0bb8c7a18 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:57:28,913 - src.position.position_manager - INFO - Added 1 doubledown orders to SQQQ position
2025-06-12 14:57:28,914 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for SQQQ: 1366 shares @ $21.90
2025-06-12 14:57:28,914 - src.rule.linked_order_actions - INFO - Auto-created double down order for SQQQ
2025-06-12 14:57:28,914 - src.rule.linked_order_actions - INFO - Created and linked BUY main order 3284b668-1c90-42b8-984b-671ee835ae5d for SQQQ
2025-06-12 14:57:28,915 - src.order.base - INFO - Order 4c740488-c3ac-43a5-9618-fbbd92330410 status changed: submitted -> filled (Order fully filled)
2025-06-12 14:57:28,915 - src.order.base - INFO - Order 4c740488-c3ac-43a5-9618-fbbd92330410 filled: 92.0 @ 322.72 (92.0/92)
2025-06-12 14:57:28,915 - UnifiedFillManager - INFO - Processing fill for CVNA: 92.0 shares on order 4c740488-c3ac-43a5-9618-fbbd92330410
2025-06-12 14:57:28,916 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 14:57:28,916 - UnifiedFillManager - INFO - Order 4c740488-c3ac-43a5-9618-fbbd92330410 fill status: filled, is_fully_filled: True
2025-06-12 14:57:28,916 - UnifiedFillManager - INFO - Main order filled for CVNA
2025-06-12 14:57:28,916 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 14:57:28,916 - UnifiedFillManager - INFO -   Main orders: {'4c740488-c3ac-43a5-9618-fbbd92330410'}
2025-06-12 14:57:28,917 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 14:57:28,917 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 14:57:28,917 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 14:57:28,918 - UnifiedFillManager - INFO -   Current position size: -92.0
2025-06-12 14:57:28,918 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -92.0
2025-06-12 14:57:28,918 - UnifiedFillManager - INFO - Updating protective orders for CVNA: position=-92.0, protective_qty=92.0
2025-06-12 14:57:28,918 - UnifiedFillManager - INFO - Checking protective orders to update for CVNA
2025-06-12 14:57:28,919 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 14:57:28,919 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 14:57:28,919 - UnifiedFillManager - INFO - Started order queue processor for CVNA
2025-06-12 14:57:29,165 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.76)
2025-06-12 14:57:29,201 - src.tws_connection - WARNING - ⚠️ TWS Error 2176: Warning: Your API version does not support fractional share size rules. Please upgrade to a minimum version 163. Trimmed value 166.06 to 166 (reqId: 1003)
2025-06-12 14:57:29,290 - src.tws_connection - INFO - Open Order - ID: 13, Symbol: SQQQ, Action: BUY, Quantity: 1366.0
2025-06-12 14:57:29,291 - src.rule.linked_order_actions - INFO - ATR for CVNA: 0.1343
2025-06-12 14:57:29,291 - src.rule.linked_order_actions - INFO - ATR-based stop: CVNA stop at $323.72 (ATR: 0.1343 * 6.5 = 0.8729)
2025-06-12 14:57:29,292 - src.order.base - INFO - Order 9c8b76fd-24ea-4588-a26c-530715361b4b status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:57:29,292 - src.order.manager - INFO - Submitting order 9c8b76fd-24ea-4588-a26c-530715361b4b to TWS
2025-06-12 14:57:29,292 - src.order.manager - INFO - Got broker order ID 14 for order 9c8b76fd-24ea-4588-a26c-530715361b4b
2025-06-12 14:57:29,292 - src.order.manager - INFO - Calling placeOrder with ID 14, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 92@0.000000 DAY
2025-06-12 14:57:29,293 - src.order.manager - INFO - placeOrder called successfully for order 9c8b76fd-24ea-4588-a26c-530715361b4b
2025-06-12 14:57:29,293 - src.order.base - INFO - Order 9c8b76fd-24ea-4588-a26c-530715361b4b status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:57:29,293 - src.position.position_manager - INFO - Added 1 stop orders to CVNA position
2025-06-12 14:57:29,293 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss 9c8b76fd-24ea-4588-a26c-530715361b4b at $323.72
2025-06-12 14:57:29,293 - src.rule.linked_order_actions - INFO - ATR-based target: CVNA target at $322.45 (ATR: 0.1343 * 3.0 = 0.4029)
2025-06-12 14:57:29,294 - src.order.base - INFO - Order d8cae850-f234-4168-89a5-c4cef530c451 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:57:29,294 - src.order.manager - INFO - Submitting order d8cae850-f234-4168-89a5-c4cef530c451 to TWS
2025-06-12 14:57:29,294 - src.order.manager - INFO - Got broker order ID 15 for order d8cae850-f234-4168-89a5-c4cef530c451
2025-06-12 14:57:29,294 - src.order.manager - INFO - Calling placeOrder with ID 15, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 92@322.450000 DAY
2025-06-12 14:57:29,295 - src.order.manager - INFO - placeOrder called successfully for order d8cae850-f234-4168-89a5-c4cef530c451
2025-06-12 14:57:29,295 - src.order.base - INFO - Order d8cae850-f234-4168-89a5-c4cef530c451 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:57:29,295 - src.position.position_manager - INFO - Added 1 target orders to CVNA position
2025-06-12 14:57:29,296 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit d8cae850-f234-4168-89a5-c4cef530c451 at $322.45
2025-06-12 14:57:29,296 - src.rule.linked_order_actions - INFO - Starting double down order creation for CVNA
2025-06-12 14:57:29,367 - src.tws_connection - INFO - Open Order - ID: 14, Symbol: CVNA, Action: BUY, Quantity: 92.0
2025-06-12 14:57:29,368 - src.order.base - INFO - Order 9c8b76fd-24ea-4588-a26c-530715361b4b status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 14:57:29,416 - src.tws_connection - INFO - Open Order - ID: 15, Symbol: CVNA, Action: BUY, Quantity: 92.0
2025-06-12 14:57:29,617 - src.order.base - INFO - Order d8cae850-f234-4168-89a5-c4cef530c451 status changed: submitted -> filled (Order fully filled)
2025-06-12 14:57:29,617 - src.order.base - INFO - Order d8cae850-f234-4168-89a5-c4cef530c451 filled: 92.0 @ 322.45 (92.0/92)
2025-06-12 14:57:29,617 - src.tws_connection - INFO - Open Order - ID: 15, Symbol: CVNA, Action: BUY, Quantity: 92.0
2025-06-12 14:57:29,618 - UnifiedFillManager - INFO - Processing fill for CVNA: 92.0 shares on order d8cae850-f234-4168-89a5-c4cef530c451
2025-06-12 14:57:29,618 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 14:57:29,618 - src.tws_connection - INFO - Open Order - ID: 15, Symbol: CVNA, Action: BUY, Quantity: 92.0
2025-06-12 14:57:29,619 - UnifiedFillManager - INFO - Order d8cae850-f234-4168-89a5-c4cef530c451 fill status: filled, is_fully_filled: True
2025-06-12 14:57:29,619 - UnifiedFillManager - INFO - Closing position for CVNA: Target order fully filled
2025-06-12 14:57:29,620 - src.position.position_manager - INFO - Closed position for CVNA
2025-06-12 14:57:29,620 - src.trade_tracker - INFO - Closed trade for CVNA
2025-06-12 14:57:29,620 - UnifiedFillManager - INFO - Position closed for CVNA: cancellation queued, trackers updated
2025-06-12 14:57:29,620 - UnifiedFillManager - INFO - Processing operation for CVNA: cancel_all
2025-06-12 14:57:29,620 - src.order.base - INFO - Order 9c8b76fd-24ea-4588-a26c-530715361b4b status changed: accepted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 14:57:29,621 - src.order.manager - INFO - Cancelling order 9c8b76fd-24ea-4588-a26c-530715361b4b with broker ID 14
2025-06-12 14:57:29,621 - UnifiedFillManager - INFO - Cancelled 1 orders for CVNA
2025-06-12 14:57:29,621 - UnifiedFillManager - INFO - Completed operation for CVNA: cancel_all
2025-06-12 14:57:29,656 - src.order.base - INFO - Order 9c8b76fd-24ea-4588-a26c-530715361b4b status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 14:57:29,655 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 14)
2025-06-12 14:57:29,809 - src.rule.linked_order_actions - INFO - Found 1 stop orders for CVNA: ['9c8b76fd-24ea-4588-a26c-530715361b4b']
2025-06-12 14:57:29,810 - src.rule.linked_order_actions - INFO - Executing double down action for CVNA
2025-06-12 14:57:29,810 - src.rule.linked_order_actions - INFO - No active position for CVNA - cannot create double down order
2025-06-12 14:57:29,810 - src.rule.linked_order_actions - WARNING - Failed to create double down order for CVNA
2025-06-12 14:57:29,810 - src.rule.linked_order_actions - INFO - Created and linked SELL main order 4c740488-c3ac-43a5-9618-fbbd92330410 for CVNA
2025-06-12 14:57:44,978 - src.tws_connection - INFO - Open Order - ID: 7, Symbol: TQQQ, Action: BUY, Quantity: 396.0
2025-06-12 14:58:09,630 - src.order.base - INFO - Order 0aaa4416-cab3-4586-bce7-69861198ebad status changed: submitted -> filled (Order fully filled)
2025-06-12 14:58:09,630 - src.tws_connection - INFO - Open Order - ID: 8, Symbol: TQQQ, Action: SELL, Quantity: 396.0
2025-06-12 14:58:09,631 - src.order.base - INFO - Order 0aaa4416-cab3-4586-bce7-69861198ebad filled: 396.0 @ 75.68 (396.0/396)
2025-06-12 14:58:09,632 - UnifiedFillManager - INFO - Processing fill for TQQQ: 396.0 shares on order 0aaa4416-cab3-4586-bce7-69861198ebad
2025-06-12 14:58:09,631 - src.tws_connection - INFO - Open Order - ID: 8, Symbol: TQQQ, Action: SELL, Quantity: 396.0
2025-06-12 14:58:09,632 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-12 14:58:09,632 - UnifiedFillManager - INFO - Order 0aaa4416-cab3-4586-bce7-69861198ebad fill status: filled, is_fully_filled: True
2025-06-12 14:58:09,632 - UnifiedFillManager - WARNING - Position for TQQQ is flat after double down
2025-06-12 14:58:09,632 - UnifiedFillManager - INFO - Closing position for TQQQ: Position flat after double down
2025-06-12 14:58:09,633 - src.position.position_manager - INFO - Closed position for TQQQ
2025-06-12 14:58:09,633 - src.trade_tracker - INFO - Closed trade for TQQQ
2025-06-12 14:58:09,633 - UnifiedFillManager - INFO - Position closed for TQQQ: cancellation queued, trackers updated
2025-06-12 14:58:09,633 - UnifiedFillManager - INFO - Processing operation for TQQQ: cancel_all
2025-06-12 14:58:09,633 - src.order.base - INFO - Order 036af130-7cb8-499f-91e6-7de278862473 status changed: accepted -> pending_cancel (Position closed: Position flat after double down)
2025-06-12 14:58:09,634 - src.order.manager - INFO - Cancelling order 036af130-7cb8-499f-91e6-7de278862473 with broker ID 6
2025-06-12 14:58:09,634 - src.order.base - INFO - Order 491e6e45-c101-45ad-9965-187f9a93aa66 status changed: submitted -> pending_cancel (Position closed: Position flat after double down)
2025-06-12 14:58:09,634 - src.order.manager - INFO - Cancelling order 491e6e45-c101-45ad-9965-187f9a93aa66 with broker ID 7
2025-06-12 14:58:09,634 - UnifiedFillManager - INFO - Cancelled 2 orders for TQQQ
2025-06-12 14:58:09,635 - UnifiedFillManager - INFO - Completed operation for TQQQ: cancel_all
2025-06-12 14:58:09,667 - src.order.base - INFO - Order 036af130-7cb8-499f-91e6-7de278862473 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 14:58:09,666 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 6)
2025-06-12 14:58:09,782 - src.order.base - INFO - Order 491e6e45-c101-45ad-9965-187f9a93aa66 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 14:58:09,782 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 7)
2025-06-12 14:58:29,803 - src.api.monitor - INFO - New prediction: UVXY BUY (0.55)
2025-06-12 14:58:29,804 - src.trade_tracker - INFO - Started tracking BUY trade for UVXY
2025-06-12 14:58:29,804 - src.position.position_manager - INFO - Opened BUY position for UVXY
2025-06-12 14:58:30,238 - src.position.sizer - INFO - BUY position size: 1452 shares @ $20.65 = $29983.80 (99.9% of $30000.00 allocation)
2025-06-12 14:58:30,238 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:58:30,238 - src.order.manager - INFO - Submitting order 9584e944-428b-4402-a8a4-a11b20d8fea1 to TWS
2025-06-12 14:58:30,238 - src.order.manager - INFO - Got broker order ID 16 for order 9584e944-428b-4402-a8a4-a11b20d8fea1
2025-06-12 14:58:30,239 - src.order.manager - INFO - Calling placeOrder with ID 16, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 1452@0.000000 DAY
2025-06-12 14:58:30,239 - src.order.manager - INFO - placeOrder called successfully for order 9584e944-428b-4402-a8a4-a11b20d8fea1
2025-06-12 14:58:30,239 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:58:30,239 - src.position.position_manager - INFO - Added 1 main orders to UVXY position
2025-06-12 14:58:30,240 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.76)
2025-06-12 14:58:30,390 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:30,391 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 14:58:30,394 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 14:58:30,395 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 filled: 200.0 @ 20.65 (200.0/1452)
2025-06-12 14:58:30,395 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:30,395 - UnifiedFillManager - INFO - Processing fill for UVXY: 200.0 shares on order 9584e944-428b-4402-a8a4-a11b20d8fea1
2025-06-12 14:58:30,396 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 14:58:30,396 - UnifiedFillManager - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 fill status: partially_filled, is_fully_filled: False
2025-06-12 14:58:30,396 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 14:58:30,397 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 14:58:30,397 - UnifiedFillManager - INFO -   Main orders: {'9584e944-428b-4402-a8a4-a11b20d8fea1'}
2025-06-12 14:58:30,397 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 14:58:30,397 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 14:58:30,397 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 14:58:30,398 - UnifiedFillManager - INFO -   Current position size: 1452.0
2025-06-12 14:58:30,398 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1452.0
2025-06-12 14:58:30,398 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1452.0, protective_qty=-1452.0
2025-06-12 14:58:30,399 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 14:58:30,399 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 14:58:30,399 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 14:58:30,399 - UnifiedFillManager - INFO - Started order queue processor for UVXY
2025-06-12 14:58:30,400 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 14:58:30,403 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 14:58:30,403 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 filled: 400.0 @ 20.65 (600.0/1452)
2025-06-12 14:58:30,403 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:30,404 - UnifiedFillManager - INFO - Processing fill for UVXY: 400.0 shares on order 9584e944-428b-4402-a8a4-a11b20d8fea1
2025-06-12 14:58:30,404 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 14:58:30,404 - UnifiedFillManager - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 fill status: partially_filled, is_fully_filled: False
2025-06-12 14:58:30,405 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 14:58:30,405 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 14:58:30,405 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:30,405 - UnifiedFillManager - INFO -   Main orders: {'9584e944-428b-4402-a8a4-a11b20d8fea1'}
2025-06-12 14:58:30,406 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 14:58:30,406 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 14:58:30,406 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 14:58:30,407 - UnifiedFillManager - INFO -   Current position size: 1452.0
2025-06-12 14:58:30,407 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1452.0
2025-06-12 14:58:30,408 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1452.0, protective_qty=-1452.0
2025-06-12 14:58:30,408 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 14:58:30,408 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 14:58:30,408 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 14:58:30,409 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:30,410 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 14:58:30,410 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 14:58:30,410 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 filled: 100.0 @ 20.65 (700.0/1452)
2025-06-12 14:58:30,410 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 14:58:30,410 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 14:58:30,411 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 filled: 100.0 @ 20.65 (800.0/1452)
2025-06-12 14:58:30,411 - UnifiedFillManager - INFO - Processing fill for UVXY: 100.0 shares on order 9584e944-428b-4402-a8a4-a11b20d8fea1
2025-06-12 14:58:30,411 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:30,411 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 14:58:30,412 - UnifiedFillManager - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 fill status: partially_filled, is_fully_filled: False
2025-06-12 14:58:30,412 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 14:58:30,413 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 14:58:30,413 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:30,413 - UnifiedFillManager - INFO -   Main orders: {'9584e944-428b-4402-a8a4-a11b20d8fea1'}
2025-06-12 14:58:30,415 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:30,416 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 14:58:30,417 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 14:58:30,417 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 14:58:30,417 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:30,418 - UnifiedFillManager - INFO -   Current position size: 1452.0
2025-06-12 14:58:30,419 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1452.0
2025-06-12 14:58:30,419 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:30,419 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1452.0, protective_qty=-1452.0
2025-06-12 14:58:30,420 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:30,420 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 14:58:30,420 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:30,421 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 14:58:30,422 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 14:58:30,422 - UnifiedFillManager - INFO - Processing fill for UVXY: 100.0 shares on order 9584e944-428b-4402-a8a4-a11b20d8fea1
2025-06-12 14:58:30,423 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 14:58:30,423 - UnifiedFillManager - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 fill status: partially_filled, is_fully_filled: False
2025-06-12 14:58:30,423 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 14:58:30,423 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 14:58:30,423 - UnifiedFillManager - INFO -   Main orders: {'9584e944-428b-4402-a8a4-a11b20d8fea1'}
2025-06-12 14:58:30,424 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 14:58:30,424 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 14:58:30,424 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 14:58:30,424 - UnifiedFillManager - INFO -   Current position size: 1452.0
2025-06-12 14:58:30,425 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1452.0
2025-06-12 14:58:30,425 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1452.0, protective_qty=-1452.0
2025-06-12 14:58:30,425 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 14:58:30,425 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 14:58:30,425 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 14:58:30,426 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 14:58:30,426 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 14:58:30,427 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 filled: 642.0 @ 20.65 (1442.0/1452)
2025-06-12 14:58:30,427 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 14:58:30,427 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: accepted -> submitted (IB status: Submitted)
2025-06-12 14:58:30,427 - UnifiedFillManager - INFO - Processing fill for UVXY: 642.0 shares on order 9584e944-428b-4402-a8a4-a11b20d8fea1
2025-06-12 14:58:30,427 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 14:58:30,428 - UnifiedFillManager - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 fill status: partially_filled, is_fully_filled: False
2025-06-12 14:58:30,428 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 14:58:30,428 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 14:58:30,428 - UnifiedFillManager - INFO -   Main orders: {'9584e944-428b-4402-a8a4-a11b20d8fea1'}
2025-06-12 14:58:30,428 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 14:58:30,428 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 14:58:30,429 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 14:58:30,429 - UnifiedFillManager - INFO -   Current position size: 1452.0
2025-06-12 14:58:30,429 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1452.0
2025-06-12 14:58:30,429 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1452.0, protective_qty=-1452.0
2025-06-12 14:58:30,429 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 14:58:30,430 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 14:58:30,430 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 14:58:30,621 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.82)
2025-06-12 14:58:30,933 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.80)
2025-06-12 14:58:30,934 - src.tws_connection - WARNING - ⚠️ TWS Error 2176: Warning: Your API version does not support fractional share size rules. Please upgrade to a minimum version 163. Trimmed value 1004.06 to 1004 (reqId: 1004)
2025-06-12 14:58:31,060 - src.rule.linked_order_actions - INFO - ATR for UVXY: 0.0136
2025-06-12 14:58:31,061 - src.rule.linked_order_actions - INFO - ATR-based stop: UVXY stop at $20.56 (ATR: 0.0136 * 6.5 = 0.0882)
2025-06-12 14:58:31,061 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:31,061 - src.order.base - INFO - Order 136cb541-644a-439f-94a9-b2241809add6 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:58:31,062 - src.order.manager - INFO - Submitting order 136cb541-644a-439f-94a9-b2241809add6 to TWS
2025-06-12 14:58:31,062 - src.order.manager - INFO - Got broker order ID 17 for order 136cb541-644a-439f-94a9-b2241809add6
2025-06-12 14:58:31,062 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:58:31,063 - src.order.manager - INFO - Calling placeOrder with ID 17, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 1452@0.000000 DAY
2025-06-12 14:58:31,063 - src.order.manager - INFO - placeOrder called successfully for order 136cb541-644a-439f-94a9-b2241809add6
2025-06-12 14:58:31,064 - src.order.base - INFO - Order 136cb541-644a-439f-94a9-b2241809add6 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:58:31,064 - src.position.position_manager - INFO - Added 1 stop orders to UVXY position
2025-06-12 14:58:31,064 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss 136cb541-644a-439f-94a9-b2241809add6 at $20.56
2025-06-12 14:58:31,064 - src.rule.linked_order_actions - INFO - ATR-based target: UVXY target at $20.69 (ATR: 0.0136 * 3.0 = 0.0407)
2025-06-12 14:58:31,064 - src.order.base - INFO - Order 50f0e93d-0300-42da-8c27-ba1dba2fb1df status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:58:31,064 - src.order.manager - INFO - Submitting order 50f0e93d-0300-42da-8c27-ba1dba2fb1df to TWS
2025-06-12 14:58:31,065 - src.order.manager - INFO - Got broker order ID 18 for order 50f0e93d-0300-42da-8c27-ba1dba2fb1df
2025-06-12 14:58:31,065 - src.order.manager - INFO - Calling placeOrder with ID 18, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1452@20.690000 DAY
2025-06-12 14:58:31,065 - src.order.manager - INFO - placeOrder called successfully for order 50f0e93d-0300-42da-8c27-ba1dba2fb1df
2025-06-12 14:58:31,066 - src.order.base - INFO - Order 50f0e93d-0300-42da-8c27-ba1dba2fb1df status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:58:31,066 - src.position.position_manager - INFO - Added 1 target orders to UVXY position
2025-06-12 14:58:31,066 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit 50f0e93d-0300-42da-8c27-ba1dba2fb1df at $20.69
2025-06-12 14:58:31,066 - src.rule.linked_order_actions - INFO - Starting double down order creation for UVXY
2025-06-12 14:58:31,067 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 status changed: submitted -> filled (Order fully filled)
2025-06-12 14:58:31,067 - src.order.base - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 filled: 10.0 @ 20.65 (1452.0/1452)
2025-06-12 14:58:31,067 - UnifiedFillManager - INFO - Processing fill for UVXY: 10.0 shares on order 9584e944-428b-4402-a8a4-a11b20d8fea1
2025-06-12 14:58:31,067 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 14:58:31,068 - UnifiedFillManager - INFO - Order 9584e944-428b-4402-a8a4-a11b20d8fea1 fill status: filled, is_fully_filled: True
2025-06-12 14:58:31,068 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 14:58:31,068 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 14:58:31,068 - UnifiedFillManager - INFO -   Main orders: {'9584e944-428b-4402-a8a4-a11b20d8fea1'}
2025-06-12 14:58:31,068 - UnifiedFillManager - INFO -   Stop orders: {'136cb541-644a-439f-94a9-b2241809add6'}
2025-06-12 14:58:31,068 - UnifiedFillManager - INFO -   Target orders: {'50f0e93d-0300-42da-8c27-ba1dba2fb1df'}
2025-06-12 14:58:31,069 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 14:58:31,069 - UnifiedFillManager - INFO -   Current position size: 1452.0
2025-06-12 14:58:31,069 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1452.0
2025-06-12 14:58:31,069 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1452.0, protective_qty=-1452.0
2025-06-12 14:58:31,069 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 14:58:31,069 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 14:58:31,070 - UnifiedFillManager - INFO - Stop order 136cb541-644a-439f-94a9-b2241809add6 already has correct quantity -1452, no update needed
2025-06-12 14:58:31,070 - UnifiedFillManager - INFO - Checking 1 target orders
2025-06-12 14:58:31,070 - UnifiedFillManager - INFO - Target order 50f0e93d-0300-42da-8c27-ba1dba2fb1df already has correct quantity -1452, no update needed
2025-06-12 14:58:31,144 - src.tws_connection - INFO - Open Order - ID: 17, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 14:58:31,146 - src.order.base - INFO - Order 136cb541-644a-439f-94a9-b2241809add6 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 14:58:31,178 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.55)
2025-06-12 14:58:31,190 - src.tws_connection - INFO - Open Order - ID: 18, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 14:58:31,447 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.52)
2025-06-12 14:58:31,573 - src.rule.linked_order_actions - INFO - Found 1 stop orders for UVXY: ['136cb541-644a-439f-94a9-b2241809add6']
2025-06-12 14:58:31,573 - src.rule.linked_order_actions - INFO - Executing double down action for UVXY
2025-06-12 14:58:31,691 - src.api.monitor - INFO - New prediction: CVNA SELL (0.76)
2025-06-12 14:58:32,005 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for UVXY: 0.0882
2025-06-12 14:58:32,005 - src.rule.linked_order_actions - INFO - Double down calc for UVXY (BUY): current=$20.64, stop_distance=$0.09, dd_distance=$0.04, dd_price=$20.60, original_qty=1452, dd_qty=1452
2025-06-12 14:58:32,006 - src.order.base - INFO - Order 55fae314-20dd-4096-ab4c-1c823ba68ef8 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 14:58:32,006 - src.order.manager - INFO - Submitting order 55fae314-20dd-4096-ab4c-1c823ba68ef8 to TWS
2025-06-12 14:58:32,007 - src.order.manager - INFO - Got broker order ID 19 for order 55fae314-20dd-4096-ab4c-1c823ba68ef8
2025-06-12 14:58:32,007 - src.order.manager - INFO - Calling placeOrder with ID 19, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1452@20.600000 DAY
2025-06-12 14:58:32,007 - src.order.manager - INFO - placeOrder called successfully for order 55fae314-20dd-4096-ab4c-1c823ba68ef8
2025-06-12 14:58:32,008 - src.order.base - INFO - Order 55fae314-20dd-4096-ab4c-1c823ba68ef8 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 14:58:32,008 - src.position.position_manager - INFO - Added 1 doubledown orders to UVXY position
2025-06-12 14:58:32,008 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for UVXY: 1452 shares @ $20.60
2025-06-12 14:58:32,008 - src.rule.linked_order_actions - INFO - Auto-created double down order for UVXY
2025-06-12 14:58:32,009 - src.rule.linked_order_actions - INFO - Created and linked BUY main order 9584e944-428b-4402-a8a4-a11b20d8fea1 for UVXY
2025-06-12 14:58:32,010 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.94)
2025-06-12 14:58:32,110 - src.tws_connection - INFO - Open Order - ID: 19, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 14:59:22,014 - src.order.base - INFO - Order d2966672-2a9d-44b7-8bd5-d732fd7b74a9 status changed: submitted -> filled (Order fully filled)
2025-06-12 14:59:22,014 - src.tws_connection - INFO - Open Order - ID: 3, Symbol: SOXL, Action: SELL, Quantity: 1387.0
2025-06-12 14:59:22,015 - src.order.base - INFO - Order d2966672-2a9d-44b7-8bd5-d732fd7b74a9 filled: 1387.0 @ 21.66 (1387.0/1387)
2025-06-12 14:59:22,015 - UnifiedFillManager - INFO - Processing fill for SOXL: 1387.0 shares on order d2966672-2a9d-44b7-8bd5-d732fd7b74a9
2025-06-12 14:59:22,016 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 14:59:22,016 - UnifiedFillManager - INFO - Order d2966672-2a9d-44b7-8bd5-d732fd7b74a9 fill status: filled, is_fully_filled: True
2025-06-12 14:59:22,016 - UnifiedFillManager - INFO - Closing position for SOXL: Target order fully filled
2025-06-12 14:59:22,016 - src.position.position_manager - INFO - Closed position for SOXL
2025-06-12 14:59:22,017 - src.trade_tracker - INFO - Closed trade for SOXL
2025-06-12 14:59:22,017 - UnifiedFillManager - INFO - Position closed for SOXL: cancellation queued, trackers updated
2025-06-12 14:59:22,017 - UnifiedFillManager - INFO - Processing operation for SOXL: cancel_all
2025-06-12 14:59:22,017 - src.tws_connection - INFO - Open Order - ID: 3, Symbol: SOXL, Action: SELL, Quantity: 1387.0
2025-06-12 14:59:22,017 - src.order.base - INFO - Order eac6c3e2-871d-4ff5-b570-f5c440d4a593 status changed: accepted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 14:59:22,018 - src.order.manager - INFO - Cancelling order eac6c3e2-871d-4ff5-b570-f5c440d4a593 with broker ID 2
2025-06-12 14:59:22,018 - src.order.base - INFO - Order fb9b423f-c9d4-4aee-9e43-be8c0aef9d8f status changed: submitted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 14:59:22,018 - src.order.manager - INFO - Cancelling order fb9b423f-c9d4-4aee-9e43-be8c0aef9d8f with broker ID 4
2025-06-12 14:59:22,019 - UnifiedFillManager - INFO - Cancelled 2 orders for SOXL
2025-06-12 14:59:22,019 - UnifiedFillManager - INFO - Completed operation for SOXL: cancel_all
2025-06-12 14:59:22,056 - src.order.base - INFO - Order eac6c3e2-871d-4ff5-b570-f5c440d4a593 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 14:59:22,055 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 2)
2025-06-12 14:59:22,171 - src.order.base - INFO - Order fb9b423f-c9d4-4aee-9e43-be8c0aef9d8f status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 14:59:22,171 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 4)
2025-06-12 14:59:32,747 - src.api.monitor - INFO - New prediction: UVXY BUY (0.58)
2025-06-12 14:59:33,198 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.80)
2025-06-12 14:59:33,690 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.92)
2025-06-12 14:59:33,941 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.88)
2025-06-12 14:59:34,231 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.52)
2025-06-12 14:59:34,936 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.57)
2025-06-12 14:59:35,477 - src.api.monitor - INFO - New prediction: CVNA SELL (0.73)
2025-06-12 14:59:35,833 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.95)
2025-06-12 15:00:36,711 - src.api.monitor - INFO - New prediction: UVXY BUY (0.57)
2025-06-12 15:00:37,361 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.64)
2025-06-12 15:00:38,006 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.90)
2025-06-12 15:00:39,250 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.93)
2025-06-12 15:00:40,378 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.70)
2025-06-12 15:00:40,379 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SQQQ - already have active BUY trade
2025-06-12 15:00:41,096 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.81)
2025-06-12 15:00:41,097 - src.trade_tracker - INFO - Started tracking SELL trade for TQQQ
2025-06-12 15:00:41,097 - src.position.position_manager - INFO - Opened SELL position for TQQQ
2025-06-12 15:00:41,826 - src.position.sizer - INFO - SELL position size: 396 shares @ $75.72 = $29985.12 (100.0% of $30000.00 allocation)
2025-06-12 15:00:41,826 - src.order.base - INFO - Order 04b6a673-2cb8-49d1-8789-dac49fb1e485 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:00:41,827 - src.order.manager - INFO - Submitting order 04b6a673-2cb8-49d1-8789-dac49fb1e485 to TWS
2025-06-12 15:00:41,827 - src.order.manager - INFO - Got broker order ID 20 for order 04b6a673-2cb8-49d1-8789-dac49fb1e485
2025-06-12 15:00:41,828 - src.order.manager - INFO - Calling placeOrder with ID 20, contract 0,TQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 396@0.000000 DAY
2025-06-12 15:00:41,828 - src.order.manager - INFO - placeOrder called successfully for order 04b6a673-2cb8-49d1-8789-dac49fb1e485
2025-06-12 15:00:41,828 - src.order.base - INFO - Order 04b6a673-2cb8-49d1-8789-dac49fb1e485 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:00:41,829 - src.position.position_manager - INFO - Added 1 main orders to TQQQ position
2025-06-12 15:00:41,829 - src.api.monitor - INFO - New prediction: CVNA SELL (0.59)
2025-06-12 15:00:41,830 - src.trade_tracker - INFO - Started tracking SELL trade for CVNA
2025-06-12 15:00:41,830 - src.position.position_manager - INFO - Opened SELL position for CVNA
2025-06-12 15:00:41,920 - src.tws_connection - INFO - Open Order - ID: 20, Symbol: TQQQ, Action: SELL, Quantity: 396.0
2025-06-12 15:00:41,921 - src.order.base - INFO - Order 04b6a673-2cb8-49d1-8789-dac49fb1e485 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:00:41,963 - src.order.base - INFO - Order 04b6a673-2cb8-49d1-8789-dac49fb1e485 status changed: accepted -> filled (Order fully filled)
2025-06-12 15:00:41,963 - src.tws_connection - INFO - Open Order - ID: 20, Symbol: TQQQ, Action: SELL, Quantity: 396.0
2025-06-12 15:00:41,964 - src.order.base - INFO - Order 04b6a673-2cb8-49d1-8789-dac49fb1e485 filled: 396.0 @ 75.71 (396.0/396)
2025-06-12 15:00:41,965 - UnifiedFillManager - INFO - Processing fill for TQQQ: 396.0 shares on order 04b6a673-2cb8-49d1-8789-dac49fb1e485
2025-06-12 15:00:41,965 - src.tws_connection - INFO - Open Order - ID: 20, Symbol: TQQQ, Action: SELL, Quantity: 396.0
2025-06-12 15:00:41,966 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:00:41,966 - UnifiedFillManager - INFO - Order 04b6a673-2cb8-49d1-8789-dac49fb1e485 fill status: filled, is_fully_filled: True
2025-06-12 15:00:41,967 - UnifiedFillManager - INFO - Main order filled for TQQQ
2025-06-12 15:00:41,967 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:00:41,968 - UnifiedFillManager - INFO -   Main orders: {'04b6a673-2cb8-49d1-8789-dac49fb1e485'}
2025-06-12 15:00:41,968 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:00:41,969 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:00:41,970 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:00:41,970 - UnifiedFillManager - INFO -   Current position size: -396.0
2025-06-12 15:00:41,970 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -396.0
2025-06-12 15:00:41,971 - UnifiedFillManager - INFO - Updating protective orders for TQQQ: position=-396.0, protective_qty=396.0
2025-06-12 15:00:41,971 - UnifiedFillManager - INFO - Checking protective orders to update for TQQQ
2025-06-12 15:00:41,972 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:00:41,973 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:00:42,398 - src.rule.linked_order_actions - INFO - ATR for TQQQ: 0.0293
2025-06-12 15:00:42,398 - src.rule.linked_order_actions - INFO - ATR-based stop: TQQQ stop at $75.90 (ATR: 0.0293 * 6.5 = 0.1904)
2025-06-12 15:00:42,399 - src.order.base - INFO - Order 2c249ea1-8c6e-4199-86ba-f32c3b09686e status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:00:42,399 - src.order.manager - INFO - Submitting order 2c249ea1-8c6e-4199-86ba-f32c3b09686e to TWS
2025-06-12 15:00:42,399 - src.order.manager - INFO - Got broker order ID 21 for order 2c249ea1-8c6e-4199-86ba-f32c3b09686e
2025-06-12 15:00:42,399 - src.order.manager - INFO - Calling placeOrder with ID 21, contract 0,TQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 396@0.000000 DAY
2025-06-12 15:00:42,399 - src.order.manager - INFO - placeOrder called successfully for order 2c249ea1-8c6e-4199-86ba-f32c3b09686e
2025-06-12 15:00:42,400 - src.order.base - INFO - Order 2c249ea1-8c6e-4199-86ba-f32c3b09686e status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:00:42,400 - src.position.position_manager - INFO - Added 1 stop orders to TQQQ position
2025-06-12 15:00:42,400 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss 2c249ea1-8c6e-4199-86ba-f32c3b09686e at $75.90
2025-06-12 15:00:42,400 - src.rule.linked_order_actions - INFO - ATR-based target: TQQQ target at $75.62 (ATR: 0.0293 * 3.0 = 0.0879)
2025-06-12 15:00:42,400 - src.order.base - INFO - Order 37e2f79f-ffd8-4509-9493-6882a7dd8337 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:00:42,400 - src.order.manager - INFO - Submitting order 37e2f79f-ffd8-4509-9493-6882a7dd8337 to TWS
2025-06-12 15:00:42,401 - src.order.manager - INFO - Got broker order ID 22 for order 37e2f79f-ffd8-4509-9493-6882a7dd8337
2025-06-12 15:00:42,401 - src.order.manager - INFO - Calling placeOrder with ID 22, contract 0,TQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 396@75.620000 DAY
2025-06-12 15:00:42,401 - src.order.manager - INFO - placeOrder called successfully for order 37e2f79f-ffd8-4509-9493-6882a7dd8337
2025-06-12 15:00:42,401 - src.order.base - INFO - Order 37e2f79f-ffd8-4509-9493-6882a7dd8337 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:00:42,401 - src.position.position_manager - INFO - Added 1 target orders to TQQQ position
2025-06-12 15:00:42,402 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit 37e2f79f-ffd8-4509-9493-6882a7dd8337 at $75.62
2025-06-12 15:00:42,403 - src.rule.linked_order_actions - INFO - Starting double down order creation for TQQQ
2025-06-12 15:00:42,403 - src.position.sizer - INFO - SELL position size: 93 shares @ $322.39 = $29982.27 (99.9% of $30000.00 allocation)
2025-06-12 15:00:42,404 - src.order.base - INFO - Order b60ea5e7-b872-475d-b006-02956d4dda74 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:00:42,405 - src.order.manager - INFO - Submitting order b60ea5e7-b872-475d-b006-02956d4dda74 to TWS
2025-06-12 15:00:42,406 - src.order.manager - INFO - Got broker order ID 23 for order b60ea5e7-b872-475d-b006-02956d4dda74
2025-06-12 15:00:42,406 - src.order.manager - INFO - Calling placeOrder with ID 23, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 93@0.000000 DAY
2025-06-12 15:00:42,406 - src.order.manager - INFO - placeOrder called successfully for order b60ea5e7-b872-475d-b006-02956d4dda74
2025-06-12 15:00:42,407 - src.order.base - INFO - Order b60ea5e7-b872-475d-b006-02956d4dda74 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:00:42,408 - src.position.position_manager - INFO - Added 1 main orders to CVNA position
2025-06-12 15:00:42,410 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.94)
2025-06-12 15:00:42,483 - src.tws_connection - INFO - Open Order - ID: 21, Symbol: TQQQ, Action: BUY, Quantity: 396.0
2025-06-12 15:00:42,483 - src.order.base - INFO - Order 2c249ea1-8c6e-4199-86ba-f32c3b09686e status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:00:42,533 - src.tws_connection - INFO - Open Order - ID: 22, Symbol: TQQQ, Action: BUY, Quantity: 396.0
2025-06-12 15:00:42,700 - src.tws_connection - INFO - Open Order - ID: 23, Symbol: CVNA, Action: SELL, Quantity: 93.0
2025-06-12 15:00:42,840 - src.tws_connection - INFO - Open Order - ID: 23, Symbol: CVNA, Action: SELL, Quantity: 93.0
2025-06-12 15:00:42,842 - src.tws_connection - INFO - Open Order - ID: 23, Symbol: CVNA, Action: SELL, Quantity: 93.0
2025-06-12 15:00:42,914 - src.rule.linked_order_actions - INFO - ATR for CVNA: 0.1343
2025-06-12 15:00:42,915 - src.rule.linked_order_actions - INFO - ATR-based stop: CVNA stop at $322.87 (ATR: 0.1343 * 6.5 = 0.8729)
2025-06-12 15:00:42,915 - src.order.base - INFO - Order dd8d4df7-4be8-4506-a620-9e1ae2754124 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:00:42,916 - src.order.manager - INFO - Submitting order dd8d4df7-4be8-4506-a620-9e1ae2754124 to TWS
2025-06-12 15:00:42,916 - src.order.manager - INFO - Got broker order ID 24 for order dd8d4df7-4be8-4506-a620-9e1ae2754124
2025-06-12 15:00:42,916 - src.order.manager - INFO - Calling placeOrder with ID 24, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 93@0.000000 DAY
2025-06-12 15:00:42,917 - src.order.manager - INFO - placeOrder called successfully for order dd8d4df7-4be8-4506-a620-9e1ae2754124
2025-06-12 15:00:42,917 - src.order.base - INFO - Order dd8d4df7-4be8-4506-a620-9e1ae2754124 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:00:42,917 - src.position.position_manager - INFO - Added 1 stop orders to CVNA position
2025-06-12 15:00:42,918 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss dd8d4df7-4be8-4506-a620-9e1ae2754124 at $322.87
2025-06-12 15:00:42,918 - src.rule.linked_order_actions - INFO - ATR-based target: CVNA target at $321.60 (ATR: 0.1343 * 3.0 = 0.4029)
2025-06-12 15:00:42,919 - src.order.base - INFO - Order 70cb2076-ac9d-44a0-8071-2b3c056ab67e status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:00:42,919 - src.order.manager - INFO - Submitting order 70cb2076-ac9d-44a0-8071-2b3c056ab67e to TWS
2025-06-12 15:00:42,919 - src.order.manager - INFO - Got broker order ID 25 for order 70cb2076-ac9d-44a0-8071-2b3c056ab67e
2025-06-12 15:00:42,920 - src.order.manager - INFO - Calling placeOrder with ID 25, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 93@321.600000 DAY
2025-06-12 15:00:42,920 - src.order.manager - INFO - placeOrder called successfully for order 70cb2076-ac9d-44a0-8071-2b3c056ab67e
2025-06-12 15:00:42,920 - src.order.base - INFO - Order 70cb2076-ac9d-44a0-8071-2b3c056ab67e status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:00:42,921 - src.position.position_manager - INFO - Added 1 target orders to CVNA position
2025-06-12 15:00:42,922 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit 70cb2076-ac9d-44a0-8071-2b3c056ab67e at $321.60
2025-06-12 15:00:42,922 - src.rule.linked_order_actions - INFO - Starting double down order creation for CVNA
2025-06-12 15:00:42,922 - src.order.base - INFO - Order b60ea5e7-b872-475d-b006-02956d4dda74 status changed: submitted -> filled (Order fully filled)
2025-06-12 15:00:42,922 - src.order.base - INFO - Order b60ea5e7-b872-475d-b006-02956d4dda74 filled: 93.0 @ 321.95 (93.0/93)
2025-06-12 15:00:42,923 - UnifiedFillManager - INFO - Processing fill for CVNA: 93.0 shares on order b60ea5e7-b872-475d-b006-02956d4dda74
2025-06-12 15:00:42,923 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:00:42,923 - UnifiedFillManager - INFO - Order b60ea5e7-b872-475d-b006-02956d4dda74 fill status: filled, is_fully_filled: True
2025-06-12 15:00:42,924 - UnifiedFillManager - INFO - Main order filled for CVNA
2025-06-12 15:00:42,924 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:00:42,924 - UnifiedFillManager - INFO -   Main orders: {'b60ea5e7-b872-475d-b006-02956d4dda74'}
2025-06-12 15:00:42,924 - UnifiedFillManager - INFO -   Stop orders: {'dd8d4df7-4be8-4506-a620-9e1ae2754124'}
2025-06-12 15:00:42,925 - UnifiedFillManager - INFO -   Target orders: {'70cb2076-ac9d-44a0-8071-2b3c056ab67e'}
2025-06-12 15:00:42,925 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:00:42,926 - UnifiedFillManager - INFO -   Current position size: -93.0
2025-06-12 15:00:42,926 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -93.0
2025-06-12 15:00:42,926 - UnifiedFillManager - INFO - Updating protective orders for CVNA: position=-93.0, protective_qty=93.0
2025-06-12 15:00:42,926 - UnifiedFillManager - INFO - Checking protective orders to update for CVNA
2025-06-12 15:00:42,927 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:00:42,927 - UnifiedFillManager - INFO - Stop order dd8d4df7-4be8-4506-a620-9e1ae2754124 already has correct quantity 93, no update needed
2025-06-12 15:00:42,927 - UnifiedFillManager - INFO - Checking 1 target orders
2025-06-12 15:00:42,927 - UnifiedFillManager - INFO - Target order 70cb2076-ac9d-44a0-8071-2b3c056ab67e already has correct quantity 93, no update needed
2025-06-12 15:00:42,928 - src.rule.linked_order_actions - INFO - Found 1 stop orders for TQQQ: ['2c249ea1-8c6e-4199-86ba-f32c3b09686e']
2025-06-12 15:00:42,928 - src.rule.linked_order_actions - INFO - Executing double down action for TQQQ
2025-06-12 15:00:43,024 - src.tws_connection - INFO - Open Order - ID: 24, Symbol: CVNA, Action: BUY, Quantity: 93.0
2025-06-12 15:00:43,063 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for TQQQ: 0.1904
2025-06-12 15:00:43,063 - src.rule.linked_order_actions - INFO - Double down calc for TQQQ (SELL): current=$75.71, stop_distance=$0.19, dd_distance=$0.10, dd_price=$75.81, original_qty=396, dd_qty=-396
2025-06-12 15:00:43,063 - src.order.base - INFO - Order ddb09e70-d9ba-496b-9075-2729f3066dee status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:00:43,064 - src.order.manager - INFO - Submitting order ddb09e70-d9ba-496b-9075-2729f3066dee to TWS
2025-06-12 15:00:43,064 - src.order.manager - INFO - Got broker order ID 26 for order ddb09e70-d9ba-496b-9075-2729f3066dee
2025-06-12 15:00:43,065 - src.order.manager - INFO - Calling placeOrder with ID 26, contract 0,TQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 396@75.810000 DAY
2025-06-12 15:00:43,064 - src.tws_connection - INFO - Open Order - ID: 25, Symbol: CVNA, Action: BUY, Quantity: 93.0
2025-06-12 15:00:43,065 - src.order.manager - INFO - placeOrder called successfully for order ddb09e70-d9ba-496b-9075-2729f3066dee
2025-06-12 15:00:43,066 - src.order.base - INFO - Order ddb09e70-d9ba-496b-9075-2729f3066dee status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:00:43,066 - src.position.position_manager - INFO - Added 1 doubledown orders to TQQQ position
2025-06-12 15:00:43,066 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for TQQQ: -396 shares @ $75.81
2025-06-12 15:00:43,066 - src.rule.linked_order_actions - INFO - Auto-created double down order for TQQQ
2025-06-12 15:00:43,067 - src.rule.linked_order_actions - INFO - Created and linked SELL main order 04b6a673-2cb8-49d1-8789-dac49fb1e485 for TQQQ
2025-06-12 15:00:43,067 - src.order.base - INFO - Order dd8d4df7-4be8-4506-a620-9e1ae2754124 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:00:43,163 - src.tws_connection - INFO - Open Order - ID: 26, Symbol: TQQQ, Action: SELL, Quantity: 396.0
2025-06-12 15:00:43,437 - src.rule.linked_order_actions - INFO - Found 1 stop orders for CVNA: ['dd8d4df7-4be8-4506-a620-9e1ae2754124']
2025-06-12 15:00:43,438 - src.rule.linked_order_actions - INFO - Executing double down action for CVNA
2025-06-12 15:00:48,473 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for CVNA: 0.8729
2025-06-12 15:00:48,474 - src.rule.linked_order_actions - INFO - Double down calc for CVNA (SELL): current=$322.17, stop_distance=$0.87, dd_distance=$0.44, dd_price=$322.61, original_qty=93, dd_qty=-93
2025-06-12 15:00:48,474 - src.order.base - INFO - Order 7ea471d4-10ea-4587-81c9-288e822eb277 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:00:48,474 - src.order.manager - INFO - Submitting order 7ea471d4-10ea-4587-81c9-288e822eb277 to TWS
2025-06-12 15:00:48,474 - src.order.manager - INFO - Got broker order ID 27 for order 7ea471d4-10ea-4587-81c9-288e822eb277
2025-06-12 15:00:48,475 - src.order.manager - INFO - Calling placeOrder with ID 27, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 93@322.610000 DAY
2025-06-12 15:00:48,475 - src.order.manager - INFO - placeOrder called successfully for order 7ea471d4-10ea-4587-81c9-288e822eb277
2025-06-12 15:00:48,475 - src.order.base - INFO - Order 7ea471d4-10ea-4587-81c9-288e822eb277 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:00:48,476 - src.position.position_manager - INFO - Added 1 doubledown orders to CVNA position
2025-06-12 15:00:48,476 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for CVNA: -93 shares @ $322.61
2025-06-12 15:00:48,477 - src.rule.linked_order_actions - INFO - Auto-created double down order for CVNA
2025-06-12 15:00:48,477 - src.rule.linked_order_actions - INFO - Created and linked SELL main order b60ea5e7-b872-475d-b006-02956d4dda74 for CVNA
2025-06-12 15:00:48,584 - src.tws_connection - INFO - Open Order - ID: 27, Symbol: CVNA, Action: SELL, Quantity: 93.0
2025-06-12 15:01:42,944 - src.api.monitor - INFO - New prediction: UVXY BUY (0.73)
2025-06-12 15:01:42,945 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for UVXY - already have active BUY trade
2025-06-12 15:01:43,358 - src.api.monitor - INFO - New prediction: GLD SELL (0.78)
2025-06-12 15:01:43,359 - src.trade_tracker - INFO - Started tracking SELL trade for GLD
2025-06-12 15:01:43,359 - src.position.position_manager - INFO - Opened SELL position for GLD
2025-06-12 15:01:43,747 - src.position.sizer - INFO - SELL position size: 96 shares @ $311.87 = $29939.52 (99.8% of $30000.00 allocation)
2025-06-12 15:01:43,748 - src.order.base - INFO - Order a284b6c6-ccfb-4acd-9d0a-e1808c25c3bc status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:01:43,748 - src.order.manager - INFO - Submitting order a284b6c6-ccfb-4acd-9d0a-e1808c25c3bc to TWS
2025-06-12 15:01:43,748 - src.order.manager - INFO - Got broker order ID 28 for order a284b6c6-ccfb-4acd-9d0a-e1808c25c3bc
2025-06-12 15:01:43,748 - src.order.manager - INFO - Calling placeOrder with ID 28, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 96@0.000000 DAY
2025-06-12 15:01:43,749 - src.order.manager - INFO - placeOrder called successfully for order a284b6c6-ccfb-4acd-9d0a-e1808c25c3bc
2025-06-12 15:01:43,749 - src.order.base - INFO - Order a284b6c6-ccfb-4acd-9d0a-e1808c25c3bc status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:01:43,749 - src.position.position_manager - INFO - Added 1 main orders to GLD position
2025-06-12 15:01:43,751 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.71)
2025-06-12 15:01:43,840 - src.tws_connection - INFO - Open Order - ID: 28, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:01:43,842 - src.order.base - INFO - Order a284b6c6-ccfb-4acd-9d0a-e1808c25c3bc status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:01:43,881 - src.order.base - INFO - Order a284b6c6-ccfb-4acd-9d0a-e1808c25c3bc status changed: accepted -> filled (Order fully filled)
2025-06-12 15:01:43,880 - src.tws_connection - INFO - Open Order - ID: 28, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:01:43,881 - src.order.base - INFO - Order a284b6c6-ccfb-4acd-9d0a-e1808c25c3bc filled: 96.0 @ 311.86 (96.0/96)
2025-06-12 15:01:43,882 - src.tws_connection - INFO - Open Order - ID: 28, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:01:43,883 - UnifiedFillManager - INFO - Processing fill for GLD: 96.0 shares on order a284b6c6-ccfb-4acd-9d0a-e1808c25c3bc
2025-06-12 15:01:43,884 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:01:43,884 - UnifiedFillManager - INFO - Order a284b6c6-ccfb-4acd-9d0a-e1808c25c3bc fill status: filled, is_fully_filled: True
2025-06-12 15:01:43,884 - UnifiedFillManager - INFO - Main order filled for GLD
2025-06-12 15:01:43,885 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:01:43,885 - UnifiedFillManager - INFO -   Main orders: {'a284b6c6-ccfb-4acd-9d0a-e1808c25c3bc'}
2025-06-12 15:01:43,885 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:01:43,886 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:01:43,886 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:01:43,886 - UnifiedFillManager - INFO -   Current position size: -96.0
2025-06-12 15:01:43,886 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -96.0
2025-06-12 15:01:43,887 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=-96.0, protective_qty=96.0
2025-06-12 15:01:43,887 - UnifiedFillManager - INFO - Checking protective orders to update for GLD
2025-06-12 15:01:43,887 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:01:43,887 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:01:43,888 - UnifiedFillManager - INFO - Started order queue processor for GLD
2025-06-12 15:01:44,205 - src.rule.linked_order_actions - INFO - ATR for GLD: 0.0236
2025-06-12 15:01:44,206 - src.rule.linked_order_actions - INFO - ATR-based stop: GLD stop at $312.02 (ATR: 0.0236 * 6.5 = 0.1532)
2025-06-12 15:01:44,206 - src.order.base - INFO - Order fe403447-3a3d-454b-86ce-7335acb3504f status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:01:44,207 - src.order.manager - INFO - Submitting order fe403447-3a3d-454b-86ce-7335acb3504f to TWS
2025-06-12 15:01:44,207 - src.order.manager - INFO - Got broker order ID 29 for order fe403447-3a3d-454b-86ce-7335acb3504f
2025-06-12 15:01:44,207 - src.order.manager - INFO - Calling placeOrder with ID 29, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 96@0.000000 DAY
2025-06-12 15:01:44,207 - src.order.manager - INFO - placeOrder called successfully for order fe403447-3a3d-454b-86ce-7335acb3504f
2025-06-12 15:01:44,208 - src.order.base - INFO - Order fe403447-3a3d-454b-86ce-7335acb3504f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:01:44,208 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-12 15:01:44,208 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss fe403447-3a3d-454b-86ce-7335acb3504f at $312.02
2025-06-12 15:01:44,209 - src.rule.linked_order_actions - INFO - ATR-based target: GLD target at $311.80 (ATR: 0.0236 * 3.0 = 0.0707)
2025-06-12 15:01:44,209 - src.order.base - INFO - Order 9aa8ab27-755b-48e3-a08d-f88ee3b7793b status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:01:44,210 - src.order.manager - INFO - Submitting order 9aa8ab27-755b-48e3-a08d-f88ee3b7793b to TWS
2025-06-12 15:01:44,210 - src.order.manager - INFO - Got broker order ID 30 for order 9aa8ab27-755b-48e3-a08d-f88ee3b7793b
2025-06-12 15:01:44,210 - src.order.manager - INFO - Calling placeOrder with ID 30, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 96@311.800000 DAY
2025-06-12 15:01:44,211 - src.order.manager - INFO - placeOrder called successfully for order 9aa8ab27-755b-48e3-a08d-f88ee3b7793b
2025-06-12 15:01:44,211 - src.order.base - INFO - Order 9aa8ab27-755b-48e3-a08d-f88ee3b7793b status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:01:44,211 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-12 15:01:44,212 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit 9aa8ab27-755b-48e3-a08d-f88ee3b7793b at $311.80
2025-06-12 15:01:44,212 - src.rule.linked_order_actions - INFO - Starting double down order creation for GLD
2025-06-12 15:01:44,214 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.94)
2025-06-12 15:01:44,288 - src.tws_connection - INFO - Open Order - ID: 29, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 15:01:44,289 - src.order.base - INFO - Order fe403447-3a3d-454b-86ce-7335acb3504f status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:01:44,337 - src.tws_connection - INFO - Open Order - ID: 30, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 15:01:44,522 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.78)
2025-06-12 15:01:44,716 - src.rule.linked_order_actions - INFO - Found 1 stop orders for GLD: ['fe403447-3a3d-454b-86ce-7335acb3504f']
2025-06-12 15:01:44,716 - src.rule.linked_order_actions - INFO - Executing double down action for GLD
2025-06-12 15:01:44,870 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for GLD: 0.1532
2025-06-12 15:01:44,870 - src.rule.linked_order_actions - INFO - Double down calc for GLD (SELL): current=$311.87, stop_distance=$0.15, dd_distance=$0.08, dd_price=$311.95, original_qty=96, dd_qty=-96
2025-06-12 15:01:44,871 - src.order.base - INFO - Order 2f66c8b7-b170-4ced-98d2-dbc742ca25aa status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:01:44,871 - src.order.manager - INFO - Submitting order 2f66c8b7-b170-4ced-98d2-dbc742ca25aa to TWS
2025-06-12 15:01:44,871 - src.order.manager - INFO - Got broker order ID 31 for order 2f66c8b7-b170-4ced-98d2-dbc742ca25aa
2025-06-12 15:01:44,871 - src.order.manager - INFO - Calling placeOrder with ID 31, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 96@311.950000 DAY
2025-06-12 15:01:44,872 - src.order.manager - INFO - placeOrder called successfully for order 2f66c8b7-b170-4ced-98d2-dbc742ca25aa
2025-06-12 15:01:44,872 - src.order.base - INFO - Order 2f66c8b7-b170-4ced-98d2-dbc742ca25aa status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:01:44,872 - src.position.position_manager - INFO - Added 1 doubledown orders to GLD position
2025-06-12 15:01:44,873 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for GLD: -96 shares @ $311.95
2025-06-12 15:01:44,873 - src.rule.linked_order_actions - INFO - Auto-created double down order for GLD
2025-06-12 15:01:44,873 - src.rule.linked_order_actions - INFO - Created and linked SELL main order a284b6c6-ccfb-4acd-9d0a-e1808c25c3bc for GLD
2025-06-12 15:01:44,874 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.84)
2025-06-12 15:01:44,963 - src.tws_connection - INFO - Open Order - ID: 31, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:01:45,133 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.86)
2025-06-12 15:01:45,397 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.94)
2025-06-12 15:02:45,991 - src.api.monitor - INFO - New prediction: UVXY BUY (0.58)
2025-06-12 15:02:47,004 - src.order.base - INFO - Order 70cb2076-ac9d-44a0-8071-2b3c056ab67e status changed: submitted -> filled (Order fully filled)
2025-06-12 15:02:47,004 - src.tws_connection - INFO - Open Order - ID: 25, Symbol: CVNA, Action: BUY, Quantity: 93.0
2025-06-12 15:02:47,005 - src.order.base - INFO - Order 70cb2076-ac9d-44a0-8071-2b3c056ab67e filled: 93.0 @ 321.6 (93.0/93)
2025-06-12 15:02:47,005 - UnifiedFillManager - INFO - Processing fill for CVNA: 93.0 shares on order 70cb2076-ac9d-44a0-8071-2b3c056ab67e
2025-06-12 15:02:47,006 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:02:47,006 - UnifiedFillManager - INFO - Order 70cb2076-ac9d-44a0-8071-2b3c056ab67e fill status: filled, is_fully_filled: True
2025-06-12 15:02:47,006 - UnifiedFillManager - INFO - Closing position for CVNA: Target order fully filled
2025-06-12 15:02:47,007 - src.position.position_manager - INFO - Closed position for CVNA
2025-06-12 15:02:47,007 - src.trade_tracker - INFO - Closed trade for CVNA
2025-06-12 15:02:47,007 - UnifiedFillManager - INFO - Position closed for CVNA: cancellation queued, trackers updated
2025-06-12 15:02:47,007 - UnifiedFillManager - INFO - Processing operation for CVNA: cancel_all
2025-06-12 15:02:47,008 - src.order.base - INFO - Order 7ea471d4-10ea-4587-81c9-288e822eb277 status changed: submitted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:02:47,008 - src.order.manager - INFO - Cancelling order 7ea471d4-10ea-4587-81c9-288e822eb277 with broker ID 27
2025-06-12 15:02:47,008 - src.order.base - INFO - Order dd8d4df7-4be8-4506-a620-9e1ae2754124 status changed: accepted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:02:47,009 - src.order.manager - INFO - Cancelling order dd8d4df7-4be8-4506-a620-9e1ae2754124 with broker ID 24
2025-06-12 15:02:47,009 - UnifiedFillManager - INFO - Cancelled 2 orders for CVNA
2025-06-12 15:02:47,010 - UnifiedFillManager - INFO - Completed operation for CVNA: cancel_all
2025-06-12 15:02:47,042 - src.tws_connection - INFO - Open Order - ID: 25, Symbol: CVNA, Action: BUY, Quantity: 93.0
2025-06-12 15:02:47,069 - src.order.base - INFO - Order 7ea471d4-10ea-4587-81c9-288e822eb277 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:02:47,069 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 27)
2025-06-12 15:02:47,143 - src.order.base - INFO - Order dd8d4df7-4be8-4506-a620-9e1ae2754124 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:02:47,143 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 24)
2025-06-12 15:02:47,307 - src.api.monitor - INFO - New prediction: GLD SELL (0.81)
2025-06-12 15:02:49,127 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.55)
2025-06-12 15:02:50,351 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.95)
2025-06-12 15:02:51,306 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.77)
2025-06-12 15:02:52,177 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.79)
2025-06-12 15:02:53,013 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.86)
2025-06-12 15:02:53,682 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.94)
2025-06-12 15:03:19,083 - src.order.base - INFO - Order 55fae314-20dd-4096-ab4c-1c823ba68ef8 status changed: submitted -> filled (Order fully filled)
2025-06-12 15:03:19,084 - src.order.base - INFO - Order 55fae314-20dd-4096-ab4c-1c823ba68ef8 filled: 1452.0 @ 20.6 (1452.0/1452)
2025-06-12 15:03:19,083 - src.tws_connection - INFO - Open Order - ID: 19, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:03:19,085 - UnifiedFillManager - INFO - Processing fill for UVXY: 1452.0 shares on order 55fae314-20dd-4096-ab4c-1c823ba68ef8
2025-06-12 15:03:19,086 - src.tws_connection - INFO - Open Order - ID: 19, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:03:19,087 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-12 15:03:19,089 - UnifiedFillManager - INFO - Order 55fae314-20dd-4096-ab4c-1c823ba68ef8 fill status: filled, is_fully_filled: True
2025-06-12 15:03:19,089 - UnifiedFillManager - INFO - Double down fill for UVXY, new position size: 2904.0
2025-06-12 15:03:19,089 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=2904.0, protective_qty=-2904.0
2025-06-12 15:03:19,090 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:03:19,090 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:03:19,090 - UnifiedFillManager - INFO - Queueing update for stop order 136cb541-644a-439f-94a9-b2241809add6: current qty=-1452, new qty=-2904.0
2025-06-12 15:03:19,090 - UnifiedFillManager - INFO - Checking 1 target orders
2025-06-12 15:03:19,090 - UnifiedFillManager - INFO - Queueing update for target order 50f0e93d-0300-42da-8c27-ba1dba2fb1df: current qty=-1452, new qty=-2904.0
2025-06-12 15:03:19,091 - UnifiedFillManager - INFO - Processing operation for UVXY: replace_stop
2025-06-12 15:03:19,091 - src.order.base - INFO - Order 136cb541-644a-439f-94a9-b2241809add6 status changed: accepted -> pending_cancel (Updating quantity to -2904.0)
2025-06-12 15:03:19,091 - src.order.manager - INFO - Cancelling order 136cb541-644a-439f-94a9-b2241809add6 with broker ID 17
2025-06-12 15:03:19,128 - src.order.base - INFO - Order 136cb541-644a-439f-94a9-b2241809add6 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:03:19,127 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 17)
2025-06-12 15:03:19,198 - src.order.base - INFO - Order b3618196-79c5-48ac-97f8-d8933ea8edb8 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:03:19,199 - src.order.manager - INFO - Submitting order b3618196-79c5-48ac-97f8-d8933ea8edb8 to TWS
2025-06-12 15:03:19,199 - src.order.manager - INFO - Got broker order ID 32 for order b3618196-79c5-48ac-97f8-d8933ea8edb8
2025-06-12 15:03:19,199 - src.order.manager - INFO - Calling placeOrder with ID 32, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 2904@0.000000 DAY
2025-06-12 15:03:19,199 - src.order.manager - INFO - placeOrder called successfully for order b3618196-79c5-48ac-97f8-d8933ea8edb8
2025-06-12 15:03:19,200 - src.order.base - INFO - Order b3618196-79c5-48ac-97f8-d8933ea8edb8 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:03:19,200 - src.position.position_manager - INFO - Added 1 stop orders to UVXY position
2025-06-12 15:03:19,200 - UnifiedFillManager - INFO - Created updated stop order b3618196-79c5-48ac-97f8-d8933ea8edb8 for UVXY at $20.56 for -2904.0 shares
2025-06-12 15:03:19,201 - UnifiedFillManager - INFO - Completed operation for UVXY: replace_stop
2025-06-12 15:03:19,201 - UnifiedFillManager - INFO - Processing operation for UVXY: replace_target
2025-06-12 15:03:19,201 - src.order.base - INFO - Order 50f0e93d-0300-42da-8c27-ba1dba2fb1df status changed: submitted -> pending_cancel (Updating quantity to -2904.0)
2025-06-12 15:03:19,202 - src.order.manager - INFO - Cancelling order 50f0e93d-0300-42da-8c27-ba1dba2fb1df with broker ID 18
2025-06-12 15:03:19,290 - src.order.base - INFO - Order 50f0e93d-0300-42da-8c27-ba1dba2fb1df status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:03:19,290 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 18)
2025-06-12 15:03:19,293 - src.tws_connection - INFO - Open Order - ID: 32, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:03:19,293 - src.order.base - INFO - Order b3618196-79c5-48ac-97f8-d8933ea8edb8 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:03:19,305 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:03:19,305 - src.order.manager - INFO - Submitting order e078267f-71a0-4e81-998a-666418cca83f to TWS
2025-06-12 15:03:19,306 - src.order.manager - INFO - Got broker order ID 33 for order e078267f-71a0-4e81-998a-666418cca83f
2025-06-12 15:03:19,306 - src.order.manager - INFO - Calling placeOrder with ID 33, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 2904@20.690000 DAY
2025-06-12 15:03:19,307 - src.order.manager - INFO - placeOrder called successfully for order e078267f-71a0-4e81-998a-666418cca83f
2025-06-12 15:03:19,307 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:03:19,307 - src.position.position_manager - INFO - Added 1 target orders to UVXY position
2025-06-12 15:03:19,307 - UnifiedFillManager - INFO - Created updated target order e078267f-71a0-4e81-998a-666418cca83f for UVXY at $20.69 for -2904.0 shares
2025-06-12 15:03:19,307 - UnifiedFillManager - INFO - Completed operation for UVXY: replace_target
2025-06-12 15:03:19,385 - src.order.base - INFO - Order 90619eb4-0022-4464-86f0-96d0bb8c7a18 status changed: submitted -> filled (Order fully filled)
2025-06-12 15:03:19,385 - src.tws_connection - INFO - Open Order - ID: 13, Symbol: SQQQ, Action: BUY, Quantity: 1366.0
2025-06-12 15:03:19,386 - src.order.base - INFO - Order 90619eb4-0022-4464-86f0-96d0bb8c7a18 filled: 1366.0 @ 21.9 (1366.0/1366)
2025-06-12 15:03:19,386 - UnifiedFillManager - INFO - Processing fill for SQQQ: 1366.0 shares on order 90619eb4-0022-4464-86f0-96d0bb8c7a18
2025-06-12 15:03:19,387 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-12 15:03:19,387 - UnifiedFillManager - INFO - Order 90619eb4-0022-4464-86f0-96d0bb8c7a18 fill status: filled, is_fully_filled: True
2025-06-12 15:03:19,387 - UnifiedFillManager - INFO - Double down fill for SQQQ, new position size: 2732.0
2025-06-12 15:03:19,388 - UnifiedFillManager - INFO - Updating protective orders for SQQQ: position=2732.0, protective_qty=-2732.0
2025-06-12 15:03:19,388 - UnifiedFillManager - INFO - Checking protective orders to update for SQQQ
2025-06-12 15:03:19,388 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:03:19,388 - UnifiedFillManager - INFO - Queueing update for stop order 49eb0e45-abcd-4bab-8c31-33c3fd87c841: current qty=-1366, new qty=-2732.0
2025-06-12 15:03:19,388 - UnifiedFillManager - INFO - Checking 1 target orders
2025-06-12 15:03:19,389 - UnifiedFillManager - INFO - Queueing update for target order cc5fe16e-b3d1-4f67-9f56-d267884f269a: current qty=-1366, new qty=-2732.0
2025-06-12 15:03:19,389 - UnifiedFillManager - INFO - Processing operation for SQQQ: replace_stop
2025-06-12 15:03:19,389 - src.order.base - INFO - Order 49eb0e45-abcd-4bab-8c31-33c3fd87c841 status changed: accepted -> pending_cancel (Updating quantity to -2732.0)
2025-06-12 15:03:19,389 - src.order.manager - INFO - Cancelling order 49eb0e45-abcd-4bab-8c31-33c3fd87c841 with broker ID 10
2025-06-12 15:03:19,420 - src.tws_connection - INFO - Open Order - ID: 13, Symbol: SQQQ, Action: BUY, Quantity: 1366.0
2025-06-12 15:03:19,462 - src.order.base - INFO - Order 49eb0e45-abcd-4bab-8c31-33c3fd87c841 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:03:19,462 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 10)
2025-06-12 15:03:19,464 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:03:19,493 - src.order.base - INFO - Order 8229b3d1-d63c-44ea-a080-f1b49b16013e status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:03:19,494 - src.order.manager - INFO - Submitting order 8229b3d1-d63c-44ea-a080-f1b49b16013e to TWS
2025-06-12 15:03:19,494 - src.order.manager - INFO - Got broker order ID 34 for order 8229b3d1-d63c-44ea-a080-f1b49b16013e
2025-06-12 15:03:19,494 - src.order.manager - INFO - Calling placeOrder with ID 34, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 2732@0.000000 DAY
2025-06-12 15:03:19,495 - src.order.manager - INFO - placeOrder called successfully for order 8229b3d1-d63c-44ea-a080-f1b49b16013e
2025-06-12 15:03:19,495 - src.order.base - INFO - Order 8229b3d1-d63c-44ea-a080-f1b49b16013e status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:03:19,495 - src.position.position_manager - INFO - Added 1 stop orders to SQQQ position
2025-06-12 15:03:19,496 - UnifiedFillManager - INFO - Created updated stop order 8229b3d1-d63c-44ea-a080-f1b49b16013e for SQQQ at $21.86 for -2732.0 shares
2025-06-12 15:03:19,496 - UnifiedFillManager - INFO - Completed operation for SQQQ: replace_stop
2025-06-12 15:03:19,496 - UnifiedFillManager - INFO - Processing operation for SQQQ: replace_target
2025-06-12 15:03:19,496 - src.order.base - INFO - Order cc5fe16e-b3d1-4f67-9f56-d267884f269a status changed: submitted -> pending_cancel (Updating quantity to -2732.0)
2025-06-12 15:03:19,496 - src.order.manager - INFO - Cancelling order cc5fe16e-b3d1-4f67-9f56-d267884f269a with broker ID 11
2025-06-12 15:03:19,579 - src.order.base - INFO - Order cc5fe16e-b3d1-4f67-9f56-d267884f269a status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:03:19,579 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 11)
2025-06-12 15:03:19,593 - src.tws_connection - INFO - Open Order - ID: 34, Symbol: SQQQ, Action: SELL, Quantity: 2732.0
2025-06-12 15:03:19,593 - src.order.base - INFO - Order 8229b3d1-d63c-44ea-a080-f1b49b16013e status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:03:19,602 - src.order.base - INFO - Order 35b951d6-3b79-4e00-8a7e-a7b0a8f770ea status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:03:19,602 - src.order.manager - INFO - Submitting order 35b951d6-3b79-4e00-8a7e-a7b0a8f770ea to TWS
2025-06-12 15:03:19,603 - src.order.manager - INFO - Got broker order ID 35 for order 35b951d6-3b79-4e00-8a7e-a7b0a8f770ea
2025-06-12 15:03:19,604 - src.order.manager - INFO - Calling placeOrder with ID 35, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 2732@21.990000 DAY
2025-06-12 15:03:19,605 - src.order.manager - INFO - placeOrder called successfully for order 35b951d6-3b79-4e00-8a7e-a7b0a8f770ea
2025-06-12 15:03:19,605 - src.order.base - INFO - Order 35b951d6-3b79-4e00-8a7e-a7b0a8f770ea status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:03:19,605 - src.position.position_manager - INFO - Added 1 target orders to SQQQ position
2025-06-12 15:03:19,606 - UnifiedFillManager - INFO - Created updated target order 35b951d6-3b79-4e00-8a7e-a7b0a8f770ea for SQQQ at $21.99 for -2732.0 shares
2025-06-12 15:03:19,606 - UnifiedFillManager - INFO - Completed operation for SQQQ: replace_target
2025-06-12 15:03:19,704 - src.tws_connection - INFO - Open Order - ID: 35, Symbol: SQQQ, Action: SELL, Quantity: 2732.0
2025-06-12 15:03:54,017 - src.api.monitor - INFO - New prediction: UVXY BUY (0.59)
2025-06-12 15:03:54,251 - src.api.monitor - INFO - New prediction: GLD SELL (0.77)
2025-06-12 15:03:54,519 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.88)
2025-06-12 15:03:54,762 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.96)
2025-06-12 15:03:54,990 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.71)
2025-06-12 15:03:54,991 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SQQQ - already have active BUY trade
2025-06-12 15:03:55,229 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.72)
2025-06-12 15:03:55,231 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for TQQQ - already have active SELL trade
2025-06-12 15:03:55,488 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.88)
2025-06-12 15:03:55,760 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.89)
2025-06-12 15:04:56,128 - src.api.monitor - INFO - New prediction: UVXY BUY (0.78)
2025-06-12 15:04:56,130 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for UVXY - already have active BUY trade
2025-06-12 15:04:56,384 - src.api.monitor - INFO - New prediction: GLD SELL (0.57)
2025-06-12 15:04:56,386 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for GLD - already have active SELL trade
2025-06-12 15:04:56,610 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.83)
2025-06-12 15:04:56,862 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.95)
2025-06-12 15:04:57,100 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.82)
2025-06-12 15:04:57,532 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.76)
2025-06-12 15:04:58,549 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.85)
2025-06-12 15:04:59,465 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.89)
2025-06-12 15:06:00,521 - src.api.monitor - INFO - New prediction: UVXY BUY (0.55)
2025-06-12 15:06:01,380 - src.api.monitor - INFO - New prediction: GLD SELL (0.61)
2025-06-12 15:06:02,435 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.86)
2025-06-12 15:06:03,107 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.70)
2025-06-12 15:06:03,628 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.82)
2025-06-12 15:06:04,634 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.76)
2025-06-12 15:06:05,901 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.86)
2025-06-12 15:06:07,353 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.66)
2025-06-12 15:06:20,180 - __main__ - INFO - 💰 Current positions: 0
2025-06-12 15:06:20,181 - __main__ - INFO - 💰 Total value: $0.00
2025-06-12 15:06:20,181 - __main__ - INFO - 💰 Unrealized P&L: $0.00
2025-06-12 15:07:08,610 - src.api.monitor - INFO - New prediction: UVXY BUY (0.70)
2025-06-12 15:07:09,320 - src.api.monitor - INFO - New prediction: GLD SELL (0.66)
2025-06-12 15:07:10,014 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.83)
2025-06-12 15:07:10,567 - src.api.monitor - INFO - New prediction: SOXL SELL (0.51)
2025-06-12 15:07:10,568 - src.trade_tracker - INFO - Started tracking SELL trade for SOXL
2025-06-12 15:07:10,569 - src.position.position_manager - INFO - Opened SELL position for SOXL
2025-06-12 15:07:11,427 - src.position.sizer - INFO - SELL position size: 1378 shares @ $21.77 = $29999.06 (100.0% of $30000.00 allocation)
2025-06-12 15:07:11,428 - src.order.base - INFO - Order 1948b8b7-8905-42de-9252-9bcbe06b1c80 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:07:11,429 - src.order.manager - INFO - Submitting order 1948b8b7-8905-42de-9252-9bcbe06b1c80 to TWS
2025-06-12 15:07:11,430 - src.order.manager - INFO - Got broker order ID 36 for order 1948b8b7-8905-42de-9252-9bcbe06b1c80
2025-06-12 15:07:11,430 - src.order.manager - INFO - Calling placeOrder with ID 36, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 1378@0.000000 DAY
2025-06-12 15:07:11,431 - src.order.manager - INFO - placeOrder called successfully for order 1948b8b7-8905-42de-9252-9bcbe06b1c80
2025-06-12 15:07:11,431 - src.order.base - INFO - Order 1948b8b7-8905-42de-9252-9bcbe06b1c80 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:07:11,432 - src.position.position_manager - INFO - Added 1 main orders to SOXL position
2025-06-12 15:07:11,434 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.83)
2025-06-12 15:07:11,559 - src.tws_connection - INFO - Open Order - ID: 36, Symbol: SOXL, Action: SELL, Quantity: 1378.0
2025-06-12 15:07:11,560 - src.order.base - INFO - Order 1948b8b7-8905-42de-9252-9bcbe06b1c80 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:07:11,602 - src.order.base - INFO - Order 1948b8b7-8905-42de-9252-9bcbe06b1c80 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:07:11,603 - src.order.base - INFO - Order 1948b8b7-8905-42de-9252-9bcbe06b1c80 filled: 700.0 @ 21.76 (700.0/1378)
2025-06-12 15:07:11,603 - src.tws_connection - INFO - Open Order - ID: 36, Symbol: SOXL, Action: SELL, Quantity: 1378.0
2025-06-12 15:07:11,604 - UnifiedFillManager - INFO - Processing fill for SOXL: 700.0 shares on order 1948b8b7-8905-42de-9252-9bcbe06b1c80
2025-06-12 15:07:11,605 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:07:11,605 - UnifiedFillManager - INFO - Order 1948b8b7-8905-42de-9252-9bcbe06b1c80 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:07:11,606 - UnifiedFillManager - INFO - Main order filled for SOXL
2025-06-12 15:07:11,606 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:07:11,606 - UnifiedFillManager - INFO -   Main orders: {'1948b8b7-8905-42de-9252-9bcbe06b1c80'}
2025-06-12 15:07:11,606 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:07:11,606 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:07:11,607 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:07:11,607 - UnifiedFillManager - INFO -   Current position size: -1378.0
2025-06-12 15:07:11,607 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -1378.0
2025-06-12 15:07:11,607 - UnifiedFillManager - INFO - Updating protective orders for SOXL: position=-1378.0, protective_qty=1378.0
2025-06-12 15:07:11,608 - UnifiedFillManager - INFO - Checking protective orders to update for SOXL
2025-06-12 15:07:11,608 - src.tws_connection - INFO - Open Order - ID: 36, Symbol: SOXL, Action: SELL, Quantity: 1378.0
2025-06-12 15:07:11,608 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:07:11,609 - src.tws_connection - INFO - Open Order - ID: 36, Symbol: SOXL, Action: SELL, Quantity: 1378.0
2025-06-12 15:07:11,609 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:07:11,609 - src.order.base - INFO - Order 1948b8b7-8905-42de-9252-9bcbe06b1c80 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:07:11,610 - src.order.base - INFO - Order 1948b8b7-8905-42de-9252-9bcbe06b1c80 status changed: accepted -> filled (Order fully filled)
2025-06-12 15:07:11,610 - src.tws_connection - INFO - Open Order - ID: 36, Symbol: SOXL, Action: SELL, Quantity: 1378.0
2025-06-12 15:07:11,611 - src.order.base - INFO - Order 1948b8b7-8905-42de-9252-9bcbe06b1c80 filled: 678.0 @ 21.76 (1378.0/1378)
2025-06-12 15:07:11,612 - UnifiedFillManager - INFO - Processing fill for SOXL: 678.0 shares on order 1948b8b7-8905-42de-9252-9bcbe06b1c80
2025-06-12 15:07:11,613 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:07:11,614 - UnifiedFillManager - INFO - Order 1948b8b7-8905-42de-9252-9bcbe06b1c80 fill status: filled, is_fully_filled: True
2025-06-12 15:07:11,614 - UnifiedFillManager - INFO - Main order filled for SOXL
2025-06-12 15:07:11,614 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:07:11,615 - UnifiedFillManager - INFO -   Main orders: {'1948b8b7-8905-42de-9252-9bcbe06b1c80'}
2025-06-12 15:07:11,615 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:07:11,616 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:07:11,616 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:07:11,617 - UnifiedFillManager - INFO -   Current position size: -1378.0
2025-06-12 15:07:11,617 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -1378.0
2025-06-12 15:07:11,618 - UnifiedFillManager - INFO - Updating protective orders for SOXL: position=-1378.0, protective_qty=1378.0
2025-06-12 15:07:11,618 - UnifiedFillManager - INFO - Checking protective orders to update for SOXL
2025-06-12 15:07:11,619 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:07:11,619 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:07:12,301 - src.rule.linked_order_actions - INFO - ATR for SOXL: 0.0186
2025-06-12 15:07:12,301 - src.rule.linked_order_actions - INFO - ATR-based stop: SOXL stop at $21.88 (ATR: 0.0186 * 6.5 = 0.1207)
2025-06-12 15:07:12,301 - src.order.base - INFO - Order 7be402e2-508c-433f-a872-b9def574f56b status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:07:12,302 - src.order.manager - INFO - Submitting order 7be402e2-508c-433f-a872-b9def574f56b to TWS
2025-06-12 15:07:12,302 - src.order.manager - INFO - Got broker order ID 37 for order 7be402e2-508c-433f-a872-b9def574f56b
2025-06-12 15:07:12,303 - src.order.manager - INFO - Calling placeOrder with ID 37, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 1378@0.000000 DAY
2025-06-12 15:07:12,303 - src.order.manager - INFO - placeOrder called successfully for order 7be402e2-508c-433f-a872-b9def574f56b
2025-06-12 15:07:12,304 - src.order.base - INFO - Order 7be402e2-508c-433f-a872-b9def574f56b status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:07:12,304 - src.position.position_manager - INFO - Added 1 stop orders to SOXL position
2025-06-12 15:07:12,305 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss 7be402e2-508c-433f-a872-b9def574f56b at $21.88
2025-06-12 15:07:12,306 - src.rule.linked_order_actions - INFO - ATR-based target: SOXL target at $21.70 (ATR: 0.0186 * 3.0 = 0.0557)
2025-06-12 15:07:12,306 - src.order.base - INFO - Order b0e018ed-9814-43ef-8119-e3339cc00984 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:07:12,306 - src.order.manager - INFO - Submitting order b0e018ed-9814-43ef-8119-e3339cc00984 to TWS
2025-06-12 15:07:12,307 - src.order.manager - INFO - Got broker order ID 38 for order b0e018ed-9814-43ef-8119-e3339cc00984
2025-06-12 15:07:12,307 - src.order.manager - INFO - Calling placeOrder with ID 38, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1378@21.700000 DAY
2025-06-12 15:07:12,308 - src.order.manager - INFO - placeOrder called successfully for order b0e018ed-9814-43ef-8119-e3339cc00984
2025-06-12 15:07:12,309 - src.order.base - INFO - Order b0e018ed-9814-43ef-8119-e3339cc00984 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:07:12,309 - src.position.position_manager - INFO - Added 1 target orders to SOXL position
2025-06-12 15:07:12,310 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit b0e018ed-9814-43ef-8119-e3339cc00984 at $21.70
2025-06-12 15:07:12,310 - src.rule.linked_order_actions - INFO - Starting double down order creation for SOXL
2025-06-12 15:07:12,312 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.72)
2025-06-12 15:07:12,375 - src.tws_connection - INFO - Open Order - ID: 37, Symbol: SOXL, Action: BUY, Quantity: 1378.0
2025-06-12 15:07:12,376 - src.order.base - INFO - Order 7be402e2-508c-433f-a872-b9def574f56b status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:07:12,425 - src.tws_connection - INFO - Open Order - ID: 38, Symbol: SOXL, Action: BUY, Quantity: 1378.0
2025-06-12 15:07:12,820 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SOXL: ['7be402e2-508c-433f-a872-b9def574f56b']
2025-06-12 15:07:12,820 - src.rule.linked_order_actions - INFO - Executing double down action for SOXL
2025-06-12 15:07:13,208 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SOXL: 0.1207
2025-06-12 15:07:13,208 - src.rule.linked_order_actions - INFO - Double down calc for SOXL (SELL): current=$21.76, stop_distance=$0.12, dd_distance=$0.06, dd_price=$21.82, original_qty=1378, dd_qty=-1378
2025-06-12 15:07:13,208 - src.order.base - INFO - Order 278dc893-f5b5-4bfa-92e5-dcebbeaf69b4 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:07:13,209 - src.order.manager - INFO - Submitting order 278dc893-f5b5-4bfa-92e5-dcebbeaf69b4 to TWS
2025-06-12 15:07:13,209 - src.order.manager - INFO - Got broker order ID 39 for order 278dc893-f5b5-4bfa-92e5-dcebbeaf69b4
2025-06-12 15:07:13,209 - src.order.manager - INFO - Calling placeOrder with ID 39, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1378@21.820000 DAY
2025-06-12 15:07:13,210 - src.order.manager - INFO - placeOrder called successfully for order 278dc893-f5b5-4bfa-92e5-dcebbeaf69b4
2025-06-12 15:07:13,210 - src.order.base - INFO - Order 278dc893-f5b5-4bfa-92e5-dcebbeaf69b4 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:07:13,210 - src.position.position_manager - INFO - Added 1 doubledown orders to SOXL position
2025-06-12 15:07:13,210 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for SOXL: -1378 shares @ $21.82
2025-06-12 15:07:13,210 - src.rule.linked_order_actions - INFO - Auto-created double down order for SOXL
2025-06-12 15:07:13,210 - src.rule.linked_order_actions - INFO - Created and linked SELL main order 1948b8b7-8905-42de-9252-9bcbe06b1c80 for SOXL
2025-06-12 15:07:13,211 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.91)
2025-06-12 15:07:13,212 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SQQQ - already have active BUY trade
2025-06-12 15:07:13,213 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for TQQQ - already have active SELL trade
2025-06-12 15:07:13,303 - src.tws_connection - INFO - Open Order - ID: 39, Symbol: SOXL, Action: SELL, Quantity: 1378.0
2025-06-12 15:07:13,889 - src.api.monitor - INFO - New prediction: SOXS BUY (0.51)
2025-06-12 15:07:13,889 - src.trade_tracker - INFO - Started tracking BUY trade for SOXS
2025-06-12 15:07:13,889 - src.position.position_manager - INFO - Opened BUY position for SOXS
2025-06-12 15:07:18,901 - src.position.sizer - INFO - BUY position size: 3174 shares @ $9.45 = $29994.30 (100.0% of $30000.00 allocation)
2025-06-12 15:07:18,902 - src.order.base - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:07:18,902 - src.order.manager - INFO - Submitting order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 to TWS
2025-06-12 15:07:18,903 - src.order.manager - INFO - Got broker order ID 40 for order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1
2025-06-12 15:07:18,903 - src.order.manager - INFO - Calling placeOrder with ID 40, contract 0,SOXS,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 3174@0.000000 DAY
2025-06-12 15:07:18,903 - src.order.manager - INFO - placeOrder called successfully for order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1
2025-06-12 15:07:18,904 - src.order.base - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:07:18,904 - src.position.position_manager - INFO - Added 1 main orders to SOXS position
2025-06-12 15:07:19,055 - src.tws_connection - INFO - Open Order - ID: 40, Symbol: SOXS, Action: BUY, Quantity: 3174.0
2025-06-12 15:07:19,055 - src.order.base - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:07:19,057 - src.order.base - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:07:19,058 - src.order.base - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 filled: 1700.0 @ 9.45 (1700.0/3174)
2025-06-12 15:07:19,057 - src.tws_connection - INFO - Open Order - ID: 40, Symbol: SOXS, Action: BUY, Quantity: 3174.0
2025-06-12 15:07:19,058 - UnifiedFillManager - INFO - Processing fill for SOXS: 1700.0 shares on order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1
2025-06-12 15:07:19,058 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:07:19,058 - UnifiedFillManager - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:07:19,059 - UnifiedFillManager - INFO - Main order filled for SOXS
2025-06-12 15:07:19,059 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:07:19,059 - UnifiedFillManager - INFO -   Main orders: {'6ee1d2e5-9aec-4f42-8303-ceff37f030b1'}
2025-06-12 15:07:19,060 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:07:19,060 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:07:19,062 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:07:19,061 - src.tws_connection - INFO - Open Order - ID: 40, Symbol: SOXS, Action: BUY, Quantity: 3174.0
2025-06-12 15:07:19,064 - UnifiedFillManager - INFO -   Current position size: 3174.0
2025-06-12 15:07:19,065 - src.tws_connection - INFO - Open Order - ID: 40, Symbol: SOXS, Action: BUY, Quantity: 3174.0
2025-06-12 15:07:19,065 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 3174.0
2025-06-12 15:07:19,066 - UnifiedFillManager - INFO - Updating protective orders for SOXS: position=3174.0, protective_qty=-3174.0
2025-06-12 15:07:19,066 - UnifiedFillManager - INFO - Checking protective orders to update for SOXS
2025-06-12 15:07:19,066 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:07:19,066 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:07:19,067 - UnifiedFillManager - INFO - Started order queue processor for SOXS
2025-06-12 15:07:19,067 - src.order.base - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:07:19,067 - src.order.base - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:07:19,067 - src.order.base - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 filled: 1400.0 @ 9.45 (3100.0/3174)
2025-06-12 15:07:19,067 - src.order.base - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:07:19,068 - src.order.base - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 status changed: accepted -> filled (Order fully filled)
2025-06-12 15:07:19,068 - src.order.base - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 filled: 74.0 @ 9.45 (3174.0/3174)
2025-06-12 15:07:19,068 - UnifiedFillManager - INFO - Processing fill for SOXS: 1400.0 shares on order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1
2025-06-12 15:07:19,069 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:07:19,069 - UnifiedFillManager - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:07:19,069 - UnifiedFillManager - INFO - Main order filled for SOXS
2025-06-12 15:07:19,069 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:07:19,069 - UnifiedFillManager - INFO -   Main orders: {'6ee1d2e5-9aec-4f42-8303-ceff37f030b1'}
2025-06-12 15:07:19,070 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:07:19,070 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:07:19,070 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:07:19,070 - UnifiedFillManager - INFO -   Current position size: 3174.0
2025-06-12 15:07:19,070 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 3174.0
2025-06-12 15:07:19,071 - UnifiedFillManager - INFO - Updating protective orders for SOXS: position=3174.0, protective_qty=-3174.0
2025-06-12 15:07:19,071 - UnifiedFillManager - INFO - Checking protective orders to update for SOXS
2025-06-12 15:07:19,071 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:07:19,071 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:07:19,071 - UnifiedFillManager - INFO - Processing fill for SOXS: 74.0 shares on order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1
2025-06-12 15:07:19,071 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:07:19,071 - UnifiedFillManager - INFO - Order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 fill status: filled, is_fully_filled: True
2025-06-12 15:07:19,072 - UnifiedFillManager - INFO - Main order filled for SOXS
2025-06-12 15:07:19,072 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:07:19,072 - UnifiedFillManager - INFO -   Main orders: {'6ee1d2e5-9aec-4f42-8303-ceff37f030b1'}
2025-06-12 15:07:19,072 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:07:19,072 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:07:19,072 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:07:19,072 - UnifiedFillManager - INFO -   Current position size: 3174.0
2025-06-12 15:07:19,073 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 3174.0
2025-06-12 15:07:19,073 - UnifiedFillManager - INFO - Updating protective orders for SOXS: position=3174.0, protective_qty=-3174.0
2025-06-12 15:07:19,073 - UnifiedFillManager - INFO - Checking protective orders to update for SOXS
2025-06-12 15:07:19,073 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:07:19,073 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:07:19,099 - src.tws_connection - INFO - Open Order - ID: 40, Symbol: SOXS, Action: BUY, Quantity: 3174.0
2025-06-12 15:07:19,101 - src.tws_connection - INFO - Open Order - ID: 40, Symbol: SOXS, Action: BUY, Quantity: 3174.0
2025-06-12 15:07:19,102 - src.tws_connection - INFO - Open Order - ID: 40, Symbol: SOXS, Action: BUY, Quantity: 3174.0
2025-06-12 15:07:24,254 - src.tws_connection - WARNING - ⚠️ TWS Error 2176: Warning: Your API version does not support fractional share size rules. Please upgrade to a minimum version 163. Trimmed value 4430.15 to 4430 (reqId: 1005)
2025-06-12 15:07:53,149 - src.rule.linked_order_actions - INFO - ATR for SOXS: 0.0114
2025-06-12 15:07:53,150 - src.rule.linked_order_actions - INFO - ATR-based stop: SOXS stop at $9.38 (ATR: 0.0114 * 6.5 = 0.0743)
2025-06-12 15:07:53,150 - src.tws_connection - INFO - Open Order - ID: 31, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:07:53,151 - src.order.base - INFO - Order 56e23eb1-4e77-4ced-8187-6d930bcb5a88 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:07:53,151 - src.order.manager - INFO - Submitting order 56e23eb1-4e77-4ced-8187-6d930bcb5a88 to TWS
2025-06-12 15:07:53,151 - src.order.manager - INFO - Got broker order ID 41 for order 56e23eb1-4e77-4ced-8187-6d930bcb5a88
2025-06-12 15:07:53,151 - src.order.manager - INFO - Calling placeOrder with ID 41, contract 0,SOXS,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 3174@0.000000 DAY
2025-06-12 15:07:53,152 - src.order.manager - INFO - placeOrder called successfully for order 56e23eb1-4e77-4ced-8187-6d930bcb5a88
2025-06-12 15:07:53,153 - src.order.base - INFO - Order 56e23eb1-4e77-4ced-8187-6d930bcb5a88 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:07:53,153 - src.position.position_manager - INFO - Added 1 stop orders to SOXS position
2025-06-12 15:07:53,153 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss 56e23eb1-4e77-4ced-8187-6d930bcb5a88 at $9.38
2025-06-12 15:07:53,154 - src.rule.linked_order_actions - INFO - ATR-based target: SOXS target at $9.48 (ATR: 0.0114 * 3.0 = 0.0343)
2025-06-12 15:07:53,154 - src.order.base - INFO - Order 4e158a92-092f-4715-986a-bb660512b216 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:07:53,154 - src.order.manager - INFO - Submitting order 4e158a92-092f-4715-986a-bb660512b216 to TWS
2025-06-12 15:07:53,154 - src.order.manager - INFO - Got broker order ID 42 for order 4e158a92-092f-4715-986a-bb660512b216
2025-06-12 15:07:53,154 - src.order.manager - INFO - Calling placeOrder with ID 42, contract 0,SOXS,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 3174@9.480000 DAY
2025-06-12 15:07:53,154 - src.order.manager - INFO - placeOrder called successfully for order 4e158a92-092f-4715-986a-bb660512b216
2025-06-12 15:07:53,155 - src.order.base - INFO - Order 4e158a92-092f-4715-986a-bb660512b216 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:07:53,155 - src.position.position_manager - INFO - Added 1 target orders to SOXS position
2025-06-12 15:07:53,156 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit 4e158a92-092f-4715-986a-bb660512b216 at $9.48
2025-06-12 15:07:53,156 - src.rule.linked_order_actions - INFO - Starting double down order creation for SOXS
2025-06-12 15:07:53,157 - src.order.base - INFO - Order 2f66c8b7-b170-4ced-98d2-dbc742ca25aa status changed: submitted -> filled (Order fully filled)
2025-06-12 15:07:53,158 - src.order.base - INFO - Order 2f66c8b7-b170-4ced-98d2-dbc742ca25aa filled: 96.0 @ 311.95 (96.0/96)
2025-06-12 15:07:53,159 - UnifiedFillManager - INFO - Processing fill for GLD: 96.0 shares on order 2f66c8b7-b170-4ced-98d2-dbc742ca25aa
2025-06-12 15:07:53,159 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-12 15:07:53,159 - UnifiedFillManager - INFO - Order 2f66c8b7-b170-4ced-98d2-dbc742ca25aa fill status: filled, is_fully_filled: True
2025-06-12 15:07:53,159 - UnifiedFillManager - WARNING - Position for GLD is flat after double down
2025-06-12 15:07:53,160 - UnifiedFillManager - INFO - Closing position for GLD: Position flat after double down
2025-06-12 15:07:53,160 - src.position.position_manager - INFO - Closed position for GLD
2025-06-12 15:07:53,160 - src.trade_tracker - INFO - Closed trade for GLD
2025-06-12 15:07:53,160 - UnifiedFillManager - INFO - Position closed for GLD: cancellation queued, trackers updated
2025-06-12 15:07:53,161 - UnifiedFillManager - INFO - Processing operation for GLD: cancel_all
2025-06-12 15:07:53,161 - src.order.base - INFO - Order fe403447-3a3d-454b-86ce-7335acb3504f status changed: accepted -> pending_cancel (Position closed: Position flat after double down)
2025-06-12 15:07:53,161 - src.order.manager - INFO - Cancelling order fe403447-3a3d-454b-86ce-7335acb3504f with broker ID 29
2025-06-12 15:07:53,161 - src.order.base - INFO - Order 9aa8ab27-755b-48e3-a08d-f88ee3b7793b status changed: submitted -> pending_cancel (Position closed: Position flat after double down)
2025-06-12 15:07:53,162 - src.order.manager - INFO - Cancelling order 9aa8ab27-755b-48e3-a08d-f88ee3b7793b with broker ID 30
2025-06-12 15:07:53,162 - UnifiedFillManager - INFO - Cancelled 2 orders for GLD
2025-06-12 15:07:53,163 - UnifiedFillManager - INFO - Completed operation for GLD: cancel_all
2025-06-12 15:07:53,185 - src.tws_connection - INFO - Open Order - ID: 31, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:07:53,257 - src.order.base - INFO - Order fe403447-3a3d-454b-86ce-7335acb3504f status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:07:53,256 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 29)
2025-06-12 15:07:53,285 - src.tws_connection - INFO - Open Order - ID: 41, Symbol: SOXS, Action: SELL, Quantity: 3174.0
2025-06-12 15:07:53,287 - src.order.base - INFO - Order 56e23eb1-4e77-4ced-8187-6d930bcb5a88 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:07:53,316 - src.tws_connection - INFO - Open Order - ID: 42, Symbol: SOXS, Action: SELL, Quantity: 3174.0
2025-06-12 15:07:53,348 - src.order.base - INFO - Order 9aa8ab27-755b-48e3-a08d-f88ee3b7793b status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:07:53,348 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 30)
2025-06-12 15:07:53,668 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SOXS: ['56e23eb1-4e77-4ced-8187-6d930bcb5a88']
2025-06-12 15:07:53,669 - src.rule.linked_order_actions - INFO - Executing double down action for SOXS
2025-06-12 15:07:58,742 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SOXS: 0.0743
2025-06-12 15:07:58,742 - src.rule.linked_order_actions - INFO - Double down calc for SOXS (BUY): current=$9.44, stop_distance=$0.07, dd_distance=$0.04, dd_price=$9.40, original_qty=3174, dd_qty=3174
2025-06-12 15:07:58,742 - src.order.base - INFO - Order c656c9bc-a678-4bfa-8f57-7ac9c34035cd status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:07:58,743 - src.order.manager - INFO - Submitting order c656c9bc-a678-4bfa-8f57-7ac9c34035cd to TWS
2025-06-12 15:07:58,743 - src.order.manager - INFO - Got broker order ID 43 for order c656c9bc-a678-4bfa-8f57-7ac9c34035cd
2025-06-12 15:07:58,743 - src.order.manager - INFO - Calling placeOrder with ID 43, contract 0,SOXS,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 3174@9.400000 DAY
2025-06-12 15:07:58,743 - src.order.manager - INFO - placeOrder called successfully for order c656c9bc-a678-4bfa-8f57-7ac9c34035cd
2025-06-12 15:07:58,743 - src.order.base - INFO - Order c656c9bc-a678-4bfa-8f57-7ac9c34035cd status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:07:58,744 - src.position.position_manager - INFO - Added 1 doubledown orders to SOXS position
2025-06-12 15:07:58,744 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for SOXS: 3174 shares @ $9.40
2025-06-12 15:07:58,744 - src.rule.linked_order_actions - INFO - Auto-created double down order for SOXS
2025-06-12 15:07:58,744 - src.rule.linked_order_actions - INFO - Created and linked BUY main order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 for SOXS
2025-06-12 15:07:58,844 - src.tws_connection - INFO - Open Order - ID: 43, Symbol: SOXS, Action: BUY, Quantity: 3174.0
2025-06-12 15:08:14,270 - src.api.monitor - INFO - New prediction: UVXY BUY (0.62)
2025-06-12 15:08:14,271 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for UVXY - already have active BUY trade
2025-06-12 15:08:14,546 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.75)
2025-06-12 15:08:14,797 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.92)
2025-06-12 15:08:15,046 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.57)
2025-06-12 15:08:15,280 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.83)
2025-06-12 15:08:15,578 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.68)
2025-06-12 15:08:15,829 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.83)
2025-06-12 15:08:16,144 - src.api.monitor - INFO - New prediction: SOXS BUY (0.75)
2025-06-12 15:09:16,665 - src.api.monitor - INFO - New prediction: UVXY BUY (0.51)
2025-06-12 15:09:17,026 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.78)
2025-06-12 15:09:17,290 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.89)
2025-06-12 15:09:17,573 - src.api.monitor - INFO - New prediction: SOXL SELL (0.56)
2025-06-12 15:09:18,360 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.73)
2025-06-12 15:09:19,108 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.70)
2025-06-12 15:09:19,374 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.87)
2025-06-12 15:09:19,643 - src.api.monitor - INFO - New prediction: SOXS BUY (0.58)
2025-06-12 15:10:19,991 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.53)
2025-06-12 15:10:20,230 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.80)
2025-06-12 15:10:20,476 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.91)
2025-06-12 15:10:20,718 - src.api.monitor - INFO - New prediction: SOXL SELL (0.66)
2025-06-12 15:10:20,719 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for SOXL - already have active SELL trade
2025-06-12 15:10:20,946 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.79)
2025-06-12 15:10:21,185 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.54)
2025-06-12 15:10:21,185 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for TQQQ - already have active SELL trade
2025-06-12 15:10:21,425 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.84)
2025-06-12 15:10:21,684 - src.api.monitor - INFO - New prediction: SOXS BUY (0.64)
2025-06-12 15:10:59,118 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SOXS - already have active BUY trade
2025-06-12 15:11:22,055 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.66)
2025-06-12 15:11:22,341 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.53)
2025-06-12 15:11:22,616 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.93)
2025-06-12 15:11:22,870 - src.api.monitor - INFO - New prediction: SOXL SELL (0.59)
2025-06-12 15:11:23,230 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.75)
2025-06-12 15:11:23,600 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.54)
2025-06-12 15:11:23,846 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.88)
2025-06-12 15:11:24,187 - src.api.monitor - INFO - New prediction: SOXS BUY (0.72)
2025-06-12 15:11:38,489 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:11:38,490 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f filled: 1000.0 @ 20.69 (1000.0/2904.0)
2025-06-12 15:11:38,491 - UnifiedFillManager - INFO - Processing fill for UVXY: 1000.0 shares on order e078267f-71a0-4e81-998a-666418cca83f
2025-06-12 15:11:38,490 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:38,491 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:11:38,492 - UnifiedFillManager - INFO - Order e078267f-71a0-4e81-998a-666418cca83f fill status: partially_filled, is_fully_filled: False
2025-06-12 15:11:38,492 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 3904.0
2025-06-12 15:11:38,493 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=3904.0, protective_qty=-3904.0
2025-06-12 15:11:38,493 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:11:38,493 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:11:38,493 - UnifiedFillManager - INFO - Queueing update for stop order b3618196-79c5-48ac-97f8-d8933ea8edb8: current qty=-2904.0, new qty=-3904.0
2025-06-12 15:11:38,494 - UnifiedFillManager - INFO - Processing operation for UVXY: replace_stop
2025-06-12 15:11:38,495 - src.order.base - INFO - Order b3618196-79c5-48ac-97f8-d8933ea8edb8 status changed: accepted -> pending_cancel (Updating quantity to -3904.0)
2025-06-12 15:11:38,494 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:38,496 - src.order.manager - INFO - Cancelling order b3618196-79c5-48ac-97f8-d8933ea8edb8 with broker ID 32
2025-06-12 15:11:38,497 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:11:38,547 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:11:38,547 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:38,548 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f filled: 100.0 @ 20.69 (1100.0/2904.0)
2025-06-12 15:11:38,548 - UnifiedFillManager - INFO - Processing fill for UVXY: 100.0 shares on order e078267f-71a0-4e81-998a-666418cca83f
2025-06-12 15:11:38,549 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:11:38,549 - UnifiedFillManager - INFO - Order e078267f-71a0-4e81-998a-666418cca83f fill status: partially_filled, is_fully_filled: False
2025-06-12 15:11:38,549 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 4004.0
2025-06-12 15:11:38,549 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=4004.0, protective_qty=-4004.0
2025-06-12 15:11:38,549 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:11:38,550 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:11:38,550 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:38,551 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:11:38,551 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:11:38,551 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f filled: 800.0 @ 20.69 (1900.0/2904.0)
2025-06-12 15:11:38,551 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:38,552 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:11:38,553 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:38,553 - UnifiedFillManager - INFO - Processing fill for UVXY: 800.0 shares on order e078267f-71a0-4e81-998a-666418cca83f
2025-06-12 15:11:38,554 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:11:38,554 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:38,554 - UnifiedFillManager - INFO - Order e078267f-71a0-4e81-998a-666418cca83f fill status: partially_filled, is_fully_filled: False
2025-06-12 15:11:38,554 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 4804.0
2025-06-12 15:11:38,555 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=4804.0, protective_qty=-4804.0
2025-06-12 15:11:38,555 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:11:38,555 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:11:38,587 - src.order.base - INFO - Order b3618196-79c5-48ac-97f8-d8933ea8edb8 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:11:38,587 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 32)
2025-06-12 15:11:38,606 - src.order.base - INFO - Order 4dc6487e-592e-4d02-97e8-791cb9201baf status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:11:38,607 - src.order.manager - INFO - Submitting order 4dc6487e-592e-4d02-97e8-791cb9201baf to TWS
2025-06-12 15:11:38,607 - src.order.manager - INFO - Got broker order ID 44 for order 4dc6487e-592e-4d02-97e8-791cb9201baf
2025-06-12 15:11:38,608 - src.order.manager - INFO - Calling placeOrder with ID 44, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 3904@0.000000 DAY
2025-06-12 15:11:38,608 - src.order.manager - INFO - placeOrder called successfully for order 4dc6487e-592e-4d02-97e8-791cb9201baf
2025-06-12 15:11:38,608 - src.order.base - INFO - Order 4dc6487e-592e-4d02-97e8-791cb9201baf status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:11:38,609 - src.position.position_manager - INFO - Added 1 stop orders to UVXY position
2025-06-12 15:11:38,609 - UnifiedFillManager - INFO - Created updated stop order 4dc6487e-592e-4d02-97e8-791cb9201baf for UVXY at $20.56 for -3904.0 shares
2025-06-12 15:11:38,609 - UnifiedFillManager - INFO - Completed operation for UVXY: replace_stop
2025-06-12 15:11:38,678 - src.tws_connection - INFO - Open Order - ID: 44, Symbol: UVXY, Action: SELL, Quantity: 3904.0
2025-06-12 15:11:38,678 - src.order.base - INFO - Order 4dc6487e-592e-4d02-97e8-791cb9201baf status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:11:39,235 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:11:39,236 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:39,237 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f filled: 19.0 @ 20.69 (1919.0/2904.0)
2025-06-12 15:11:39,238 - UnifiedFillManager - INFO - Processing fill for UVXY: 19.0 shares on order e078267f-71a0-4e81-998a-666418cca83f
2025-06-12 15:11:39,238 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:11:39,238 - UnifiedFillManager - INFO - Order e078267f-71a0-4e81-998a-666418cca83f fill status: partially_filled, is_fully_filled: False
2025-06-12 15:11:39,238 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 4823.0
2025-06-12 15:11:39,239 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=4823.0, protective_qty=-4823.0
2025-06-12 15:11:39,239 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:11:39,239 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:11:39,240 - UnifiedFillManager - INFO - Queueing update for stop order 4dc6487e-592e-4d02-97e8-791cb9201baf: current qty=-3904.0, new qty=-4823.0
2025-06-12 15:11:39,240 - UnifiedFillManager - INFO - Processing operation for UVXY: replace_stop
2025-06-12 15:11:39,240 - src.order.base - INFO - Order 4dc6487e-592e-4d02-97e8-791cb9201baf status changed: accepted -> pending_cancel (Updating quantity to -4823.0)
2025-06-12 15:11:39,239 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:39,241 - src.order.manager - INFO - Cancelling order 4dc6487e-592e-4d02-97e8-791cb9201baf with broker ID 44
2025-06-12 15:11:39,242 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:39,243 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:11:39,244 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:11:39,244 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f filled: 300.0 @ 20.69 (2219.0/2904.0)
2025-06-12 15:11:39,243 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:39,246 - UnifiedFillManager - INFO - Processing fill for UVXY: 300.0 shares on order e078267f-71a0-4e81-998a-666418cca83f
2025-06-12 15:11:39,247 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:39,247 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:11:39,247 - UnifiedFillManager - INFO - Order e078267f-71a0-4e81-998a-666418cca83f fill status: partially_filled, is_fully_filled: False
2025-06-12 15:11:39,248 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 5123.0
2025-06-12 15:11:39,248 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=5123.0, protective_qty=-5123.0
2025-06-12 15:11:39,249 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:11:39,249 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:11:39,249 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:11:39,248 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:39,250 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:11:39,250 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f filled: 281.0 @ 20.69 (2500.0/2904.0)
2025-06-12 15:11:39,251 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:11:39,250 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:39,251 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:11:39,252 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:39,252 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f filled: 66.0 @ 20.69 (2566.0/2904.0)
2025-06-12 15:11:39,253 - UnifiedFillManager - INFO - Processing fill for UVXY: 281.0 shares on order e078267f-71a0-4e81-998a-666418cca83f
2025-06-12 15:11:39,253 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:39,253 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:11:39,254 - UnifiedFillManager - INFO - Order e078267f-71a0-4e81-998a-666418cca83f fill status: partially_filled, is_fully_filled: False
2025-06-12 15:11:39,254 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 5470.0
2025-06-12 15:11:39,254 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=5470.0, protective_qty=-5470.0
2025-06-12 15:11:39,255 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:11:39,255 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:11:39,255 - UnifiedFillManager - INFO - Processing fill for UVXY: 66.0 shares on order e078267f-71a0-4e81-998a-666418cca83f
2025-06-12 15:11:39,255 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:11:39,255 - UnifiedFillManager - INFO - Order e078267f-71a0-4e81-998a-666418cca83f fill status: partially_filled, is_fully_filled: False
2025-06-12 15:11:39,255 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 5470.0
2025-06-12 15:11:39,256 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=5470.0, protective_qty=-5470.0
2025-06-12 15:11:39,256 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:11:39,256 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:11:39,256 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:11:39,285 - src.order.base - INFO - Order 4dc6487e-592e-4d02-97e8-791cb9201baf status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:11:39,284 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 44)
2025-06-12 15:11:39,351 - src.order.base - INFO - Order 2d30f156-9a26-495e-b33e-f2117b2197d1 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:11:39,352 - src.order.manager - INFO - Submitting order 2d30f156-9a26-495e-b33e-f2117b2197d1 to TWS
2025-06-12 15:11:39,353 - src.order.manager - INFO - Got broker order ID 45 for order 2d30f156-9a26-495e-b33e-f2117b2197d1
2025-06-12 15:11:39,353 - src.order.manager - INFO - Calling placeOrder with ID 45, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 4823@0.000000 DAY
2025-06-12 15:11:39,354 - src.order.manager - INFO - placeOrder called successfully for order 2d30f156-9a26-495e-b33e-f2117b2197d1
2025-06-12 15:11:39,355 - src.order.base - INFO - Order 2d30f156-9a26-495e-b33e-f2117b2197d1 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:11:39,356 - src.position.position_manager - INFO - Added 1 stop orders to UVXY position
2025-06-12 15:11:39,356 - UnifiedFillManager - INFO - Created updated stop order 2d30f156-9a26-495e-b33e-f2117b2197d1 for UVXY at $20.56 for -4823.0 shares
2025-06-12 15:11:39,356 - UnifiedFillManager - INFO - Completed operation for UVXY: replace_stop
2025-06-12 15:11:39,428 - src.tws_connection - INFO - Open Order - ID: 45, Symbol: UVXY, Action: SELL, Quantity: 4823.0
2025-06-12 15:11:39,429 - src.order.base - INFO - Order 2d30f156-9a26-495e-b33e-f2117b2197d1 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:11:39,981 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:11:39,982 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f filled: 38.0 @ 20.69 (2604.0/2904.0)
2025-06-12 15:11:39,982 - UnifiedFillManager - INFO - Processing fill for UVXY: 38.0 shares on order e078267f-71a0-4e81-998a-666418cca83f
2025-06-12 15:11:39,982 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:11:39,982 - UnifiedFillManager - INFO - Order e078267f-71a0-4e81-998a-666418cca83f fill status: partially_filled, is_fully_filled: False
2025-06-12 15:11:39,983 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 5508.0
2025-06-12 15:11:39,981 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:39,983 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=5508.0, protective_qty=-5508.0
2025-06-12 15:11:39,983 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:11:39,984 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:11:39,984 - UnifiedFillManager - INFO - Queueing update for stop order 2d30f156-9a26-495e-b33e-f2117b2197d1: current qty=-4823.0, new qty=-5508.0
2025-06-12 15:11:39,984 - UnifiedFillManager - INFO - Processing operation for UVXY: replace_stop
2025-06-12 15:11:39,984 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:39,985 - src.order.base - INFO - Order 2d30f156-9a26-495e-b33e-f2117b2197d1 status changed: accepted -> pending_cancel (Updating quantity to -5508.0)
2025-06-12 15:11:39,985 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:39,985 - src.order.manager - INFO - Cancelling order 2d30f156-9a26-495e-b33e-f2117b2197d1 with broker ID 45
2025-06-12 15:11:39,986 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:11:39,985 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: UVXY, Action: SELL, Quantity: 2904.0
2025-06-12 15:11:39,986 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f status changed: submitted -> filled (Order fully filled)
2025-06-12 15:11:39,986 - src.order.base - INFO - Order e078267f-71a0-4e81-998a-666418cca83f filled: 300.0 @ 20.69 (2904.0/2904.0)
2025-06-12 15:11:39,987 - UnifiedFillManager - INFO - Processing fill for UVXY: 300.0 shares on order e078267f-71a0-4e81-998a-666418cca83f
2025-06-12 15:11:39,987 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:11:39,987 - UnifiedFillManager - INFO - Order e078267f-71a0-4e81-998a-666418cca83f fill status: filled, is_fully_filled: True
2025-06-12 15:11:39,987 - UnifiedFillManager - INFO - Closing position for UVXY: Target order fully filled
2025-06-12 15:11:39,987 - src.position.position_manager - INFO - Closed position for UVXY
2025-06-12 15:11:39,988 - src.trade_tracker - INFO - Closed trade for UVXY
2025-06-12 15:11:39,988 - UnifiedFillManager - INFO - Position closed for UVXY: cancellation queued, trackers updated
2025-06-12 15:11:40,021 - src.order.base - INFO - Order 2d30f156-9a26-495e-b33e-f2117b2197d1 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:11:40,021 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 45)
2025-06-12 15:11:40,098 - src.order.base - INFO - Order 5b940dd7-a250-46f8-af44-0cdf41b11799 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:11:40,098 - src.order.manager - INFO - Submitting order 5b940dd7-a250-46f8-af44-0cdf41b11799 to TWS
2025-06-12 15:11:40,098 - src.order.manager - INFO - Got broker order ID 46 for order 5b940dd7-a250-46f8-af44-0cdf41b11799
2025-06-12 15:11:40,099 - src.order.manager - INFO - Calling placeOrder with ID 46, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 5508@0.000000 DAY
2025-06-12 15:11:40,099 - src.order.manager - INFO - placeOrder called successfully for order 5b940dd7-a250-46f8-af44-0cdf41b11799
2025-06-12 15:11:40,099 - src.order.base - INFO - Order 5b940dd7-a250-46f8-af44-0cdf41b11799 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:11:40,099 - src.position.position_manager - INFO - Added 1 stop orders to UVXY position
2025-06-12 15:11:40,099 - UnifiedFillManager - INFO - Created updated stop order 5b940dd7-a250-46f8-af44-0cdf41b11799 for UVXY at $20.56 for -5508.0 shares
2025-06-12 15:11:40,099 - UnifiedFillManager - INFO - Completed operation for UVXY: replace_stop
2025-06-12 15:11:40,100 - UnifiedFillManager - INFO - Processing operation for UVXY: cancel_all
2025-06-12 15:11:40,100 - src.order.base - INFO - Order 5b940dd7-a250-46f8-af44-0cdf41b11799 status changed: submitted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:11:40,100 - src.order.manager - INFO - Cancelling order 5b940dd7-a250-46f8-af44-0cdf41b11799 with broker ID 46
2025-06-12 15:11:40,100 - UnifiedFillManager - INFO - Cancelled 1 orders for UVXY
2025-06-12 15:11:40,100 - UnifiedFillManager - INFO - Completed operation for UVXY: cancel_all
2025-06-12 15:11:40,172 - src.tws_connection - INFO - Open Order - ID: 46, Symbol: UVXY, Action: SELL, Quantity: 5508.0
2025-06-12 15:11:40,173 - src.order.base - INFO - Order 5b940dd7-a250-46f8-af44-0cdf41b11799 status changed: pending_cancel -> accepted (IB status: PreSubmitted)
2025-06-12 15:11:40,231 - src.order.base - INFO - Order 5b940dd7-a250-46f8-af44-0cdf41b11799 status changed: accepted -> cancelled (IB status: Cancelled)
2025-06-12 15:11:40,231 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 46)
2025-06-12 15:12:24,638 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.78)
2025-06-12 15:12:25,127 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.64)
2025-06-12 15:12:25,498 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.82)
2025-06-12 15:12:25,862 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.52)
2025-06-12 15:12:26,218 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.77)
2025-06-12 15:12:26,571 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.62)
2025-06-12 15:12:26,873 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.89)
2025-06-12 15:12:27,195 - src.api.monitor - INFO - New prediction: SOXS BUY (0.53)
2025-06-12 15:12:57,545 - src.order.base - INFO - Order b0e018ed-9814-43ef-8119-e3339cc00984 status changed: submitted -> filled (Order fully filled)
2025-06-12 15:12:57,545 - src.tws_connection - INFO - Open Order - ID: 38, Symbol: SOXL, Action: BUY, Quantity: 1378.0
2025-06-12 15:12:57,546 - src.order.base - INFO - Order b0e018ed-9814-43ef-8119-e3339cc00984 filled: 1378.0 @ 21.7 (1378.0/1378)
2025-06-12 15:12:57,547 - src.tws_connection - INFO - Open Order - ID: 38, Symbol: SOXL, Action: BUY, Quantity: 1378.0
2025-06-12 15:12:57,548 - UnifiedFillManager - INFO - Processing fill for SOXL: 1378.0 shares on order b0e018ed-9814-43ef-8119-e3339cc00984
2025-06-12 15:12:57,548 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:12:57,548 - UnifiedFillManager - INFO - Order b0e018ed-9814-43ef-8119-e3339cc00984 fill status: filled, is_fully_filled: True
2025-06-12 15:12:57,549 - UnifiedFillManager - INFO - Closing position for SOXL: Target order fully filled
2025-06-12 15:12:57,549 - src.position.position_manager - INFO - Closed position for SOXL
2025-06-12 15:12:57,549 - src.trade_tracker - INFO - Closed trade for SOXL
2025-06-12 15:12:57,549 - UnifiedFillManager - INFO - Position closed for SOXL: cancellation queued, trackers updated
2025-06-12 15:12:57,549 - UnifiedFillManager - INFO - Processing operation for SOXL: cancel_all
2025-06-12 15:12:57,549 - src.order.base - INFO - Order 278dc893-f5b5-4bfa-92e5-dcebbeaf69b4 status changed: submitted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:12:57,550 - src.order.manager - INFO - Cancelling order 278dc893-f5b5-4bfa-92e5-dcebbeaf69b4 with broker ID 39
2025-06-12 15:12:57,550 - src.order.base - INFO - Order 7be402e2-508c-433f-a872-b9def574f56b status changed: accepted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:12:57,550 - src.order.manager - INFO - Cancelling order 7be402e2-508c-433f-a872-b9def574f56b with broker ID 37
2025-06-12 15:12:57,550 - UnifiedFillManager - INFO - Cancelled 2 orders for SOXL
2025-06-12 15:12:57,551 - UnifiedFillManager - INFO - Completed operation for SOXL: cancel_all
2025-06-12 15:12:57,637 - src.order.base - INFO - Order 278dc893-f5b5-4bfa-92e5-dcebbeaf69b4 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:12:57,637 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 39)
2025-06-12 15:12:57,683 - src.order.base - INFO - Order 7be402e2-508c-433f-a872-b9def574f56b status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:12:57,683 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 37)
2025-06-12 15:13:28,151 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.91)
2025-06-12 15:13:28,650 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.87)
2025-06-12 15:13:29,642 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.78)
2025-06-12 15:13:30,715 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.67)
2025-06-12 15:13:31,751 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.67)
2025-06-12 15:13:33,012 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.55)
2025-06-12 15:13:33,825 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.71)
2025-06-12 15:13:34,839 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.68)
2025-06-12 15:14:35,574 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.92)
2025-06-12 15:14:36,122 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.92)
2025-06-12 15:14:36,616 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.80)
2025-06-12 15:14:37,105 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.85)
2025-06-12 15:14:37,574 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.77)
2025-06-12 15:14:38,407 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.57)
2025-06-12 15:14:39,073 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.57)
2025-06-12 15:14:40,155 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.86)
2025-06-12 15:15:41,146 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.88)
2025-06-12 15:15:41,615 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.86)
2025-06-12 15:15:41,945 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.91)
2025-06-12 15:15:42,240 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.64)
2025-06-12 15:15:42,521 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.75)
2025-06-12 15:15:42,838 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.54)
2025-06-12 15:15:43,158 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.59)
2025-06-12 15:15:43,485 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.72)
2025-06-12 15:16:20,192 - __main__ - INFO - 💰 Current positions: 0
2025-06-12 15:16:20,192 - __main__ - INFO - 💰 Total value: $0.00
2025-06-12 15:16:20,193 - __main__ - INFO - 💰 Unrealized P&L: $0.00
2025-06-12 15:16:43,837 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.85)
2025-06-12 15:16:44,113 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.84)
2025-06-12 15:16:44,400 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.91)
2025-06-12 15:16:44,651 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.85)
2025-06-12 15:16:44,914 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.82)
2025-06-12 15:16:45,221 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.59)
2025-06-12 15:16:46,430 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.52)
2025-06-12 15:16:47,211 - src.api.monitor - INFO - New prediction: SOXS BUY (0.74)
2025-06-12 15:16:47,212 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SOXS - already have active BUY trade
2025-06-12 15:17:33,095 - src.order.base - INFO - Order ddb09e70-d9ba-496b-9075-2729f3066dee status changed: submitted -> filled (Order fully filled)
2025-06-12 15:17:33,095 - src.tws_connection - INFO - Open Order - ID: 26, Symbol: TQQQ, Action: SELL, Quantity: 396.0
2025-06-12 15:17:33,096 - src.order.base - INFO - Order ddb09e70-d9ba-496b-9075-2729f3066dee filled: 396.0 @ 75.81 (396.0/396)
2025-06-12 15:17:33,096 - UnifiedFillManager - INFO - Processing fill for TQQQ: 396.0 shares on order ddb09e70-d9ba-496b-9075-2729f3066dee
2025-06-12 15:17:33,097 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-12 15:17:33,097 - UnifiedFillManager - INFO - Order ddb09e70-d9ba-496b-9075-2729f3066dee fill status: filled, is_fully_filled: True
2025-06-12 15:17:33,097 - UnifiedFillManager - WARNING - Position for TQQQ is flat after double down
2025-06-12 15:17:33,098 - UnifiedFillManager - INFO - Closing position for TQQQ: Position flat after double down
2025-06-12 15:17:33,098 - src.position.position_manager - INFO - Closed position for TQQQ
2025-06-12 15:17:33,098 - src.trade_tracker - INFO - Closed trade for TQQQ
2025-06-12 15:17:33,098 - UnifiedFillManager - INFO - Position closed for TQQQ: cancellation queued, trackers updated
2025-06-12 15:17:33,098 - UnifiedFillManager - INFO - Processing operation for TQQQ: cancel_all
2025-06-12 15:17:33,097 - src.tws_connection - INFO - Open Order - ID: 26, Symbol: TQQQ, Action: SELL, Quantity: 396.0
2025-06-12 15:17:33,098 - src.order.base - INFO - Order 37e2f79f-ffd8-4509-9493-6882a7dd8337 status changed: submitted -> pending_cancel (Position closed: Position flat after double down)
2025-06-12 15:17:33,099 - src.order.manager - INFO - Cancelling order 37e2f79f-ffd8-4509-9493-6882a7dd8337 with broker ID 22
2025-06-12 15:17:33,099 - src.order.base - INFO - Order 2c249ea1-8c6e-4199-86ba-f32c3b09686e status changed: accepted -> pending_cancel (Position closed: Position flat after double down)
2025-06-12 15:17:33,100 - src.order.manager - INFO - Cancelling order 2c249ea1-8c6e-4199-86ba-f32c3b09686e with broker ID 21
2025-06-12 15:17:33,100 - UnifiedFillManager - INFO - Cancelled 2 orders for TQQQ
2025-06-12 15:17:33,100 - UnifiedFillManager - INFO - Completed operation for TQQQ: cancel_all
2025-06-12 15:17:33,153 - src.order.base - INFO - Order 37e2f79f-ffd8-4509-9493-6882a7dd8337 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:17:33,153 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 22)
2025-06-12 15:17:33,232 - src.order.base - INFO - Order 2c249ea1-8c6e-4199-86ba-f32c3b09686e status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:17:33,232 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 21)
2025-06-12 15:17:47,647 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.89)
2025-06-12 15:17:48,893 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.83)
2025-06-12 15:17:50,237 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.89)
2025-06-12 15:17:51,491 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.83)
2025-06-12 15:17:52,275 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.91)
2025-06-12 15:17:53,201 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.64)
2025-06-12 15:17:54,080 - src.api.monitor - INFO - New prediction: CVNA SELL (0.52)
2025-06-12 15:17:54,081 - src.trade_tracker - INFO - Started tracking SELL trade for CVNA
2025-06-12 15:17:54,081 - src.position.position_manager - INFO - Opened SELL position for CVNA
2025-06-12 15:17:54,262 - src.position.sizer - INFO - SELL position size: 92 shares @ $323.43 = $29755.56 (99.2% of $30000.00 allocation)
2025-06-12 15:17:54,263 - src.order.base - INFO - Order 1570524a-d713-4ece-8de1-919ac0b2e23a status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:17:54,264 - src.order.manager - INFO - Submitting order 1570524a-d713-4ece-8de1-919ac0b2e23a to TWS
2025-06-12 15:17:54,264 - src.order.manager - INFO - Got broker order ID 47 for order 1570524a-d713-4ece-8de1-919ac0b2e23a
2025-06-12 15:17:54,265 - src.order.manager - INFO - Calling placeOrder with ID 47, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 92@0.000000 DAY
2025-06-12 15:17:54,266 - src.order.manager - INFO - placeOrder called successfully for order 1570524a-d713-4ece-8de1-919ac0b2e23a
2025-06-12 15:17:54,266 - src.order.base - INFO - Order 1570524a-d713-4ece-8de1-919ac0b2e23a status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:17:54,267 - src.position.position_manager - INFO - Added 1 main orders to CVNA position
2025-06-12 15:17:54,361 - src.tws_connection - INFO - Open Order - ID: 47, Symbol: CVNA, Action: SELL, Quantity: 92.0
2025-06-12 15:17:54,833 - src.tws_connection - INFO - Open Order - ID: 47, Symbol: CVNA, Action: SELL, Quantity: 92.0
2025-06-12 15:17:54,869 - src.rule.linked_order_actions - INFO - ATR for CVNA: 0.1343
2025-06-12 15:17:54,870 - src.rule.linked_order_actions - INFO - ATR-based stop: CVNA stop at $324.30 (ATR: 0.1343 * 6.5 = 0.8729)
2025-06-12 15:17:54,870 - src.tws_connection - INFO - Open Order - ID: 47, Symbol: CVNA, Action: SELL, Quantity: 92.0
2025-06-12 15:17:54,870 - src.order.base - INFO - Order d903ce50-f30e-4e63-8c90-d95e333d8f3c status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:17:54,871 - src.order.manager - INFO - Submitting order d903ce50-f30e-4e63-8c90-d95e333d8f3c to TWS
2025-06-12 15:17:54,871 - src.tws_connection - INFO - Open Order - ID: 47, Symbol: CVNA, Action: SELL, Quantity: 92.0
2025-06-12 15:17:54,871 - src.order.manager - INFO - Got broker order ID 48 for order d903ce50-f30e-4e63-8c90-d95e333d8f3c
2025-06-12 15:17:54,872 - src.order.manager - INFO - Calling placeOrder with ID 48, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 92@0.000000 DAY
2025-06-12 15:17:54,872 - src.order.manager - INFO - placeOrder called successfully for order d903ce50-f30e-4e63-8c90-d95e333d8f3c
2025-06-12 15:17:54,872 - src.order.base - INFO - Order d903ce50-f30e-4e63-8c90-d95e333d8f3c status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:17:54,873 - src.position.position_manager - INFO - Added 1 stop orders to CVNA position
2025-06-12 15:17:54,873 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss d903ce50-f30e-4e63-8c90-d95e333d8f3c at $324.30
2025-06-12 15:17:54,873 - src.rule.linked_order_actions - INFO - ATR-based target: CVNA target at $323.03 (ATR: 0.1343 * 3.0 = 0.4029)
2025-06-12 15:17:54,873 - src.order.base - INFO - Order be4be3d0-a912-4344-99c4-bba72a31507b status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:17:54,873 - src.order.manager - INFO - Submitting order be4be3d0-a912-4344-99c4-bba72a31507b to TWS
2025-06-12 15:17:54,873 - src.order.manager - INFO - Got broker order ID 49 for order be4be3d0-a912-4344-99c4-bba72a31507b
2025-06-12 15:17:54,873 - src.order.manager - INFO - Calling placeOrder with ID 49, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 92@323.030000 DAY
2025-06-12 15:17:54,874 - src.order.manager - INFO - placeOrder called successfully for order be4be3d0-a912-4344-99c4-bba72a31507b
2025-06-12 15:17:54,874 - src.order.base - INFO - Order be4be3d0-a912-4344-99c4-bba72a31507b status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:17:54,874 - src.position.position_manager - INFO - Added 1 target orders to CVNA position
2025-06-12 15:17:54,875 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit be4be3d0-a912-4344-99c4-bba72a31507b at $323.03
2025-06-12 15:17:54,875 - src.rule.linked_order_actions - INFO - Starting double down order creation for CVNA
2025-06-12 15:17:54,875 - src.order.base - INFO - Order 1570524a-d713-4ece-8de1-919ac0b2e23a status changed: submitted -> filled (Order fully filled)
2025-06-12 15:17:54,875 - src.order.base - INFO - Order 1570524a-d713-4ece-8de1-919ac0b2e23a filled: 92.0 @ 323.17 (92.0/92)
2025-06-12 15:17:54,876 - UnifiedFillManager - INFO - Processing fill for CVNA: 92.0 shares on order 1570524a-d713-4ece-8de1-919ac0b2e23a
2025-06-12 15:17:54,876 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:17:54,876 - UnifiedFillManager - INFO - Order 1570524a-d713-4ece-8de1-919ac0b2e23a fill status: filled, is_fully_filled: True
2025-06-12 15:17:54,876 - UnifiedFillManager - INFO - Main order filled for CVNA
2025-06-12 15:17:54,876 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:17:54,876 - UnifiedFillManager - INFO -   Main orders: {'1570524a-d713-4ece-8de1-919ac0b2e23a'}
2025-06-12 15:17:54,876 - UnifiedFillManager - INFO -   Stop orders: {'d903ce50-f30e-4e63-8c90-d95e333d8f3c'}
2025-06-12 15:17:54,876 - UnifiedFillManager - INFO -   Target orders: {'be4be3d0-a912-4344-99c4-bba72a31507b'}
2025-06-12 15:17:54,877 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:17:54,877 - UnifiedFillManager - INFO -   Current position size: -92.0
2025-06-12 15:17:54,877 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -92.0
2025-06-12 15:17:54,877 - UnifiedFillManager - INFO - Updating protective orders for CVNA: position=-92.0, protective_qty=92.0
2025-06-12 15:17:54,877 - UnifiedFillManager - INFO - Checking protective orders to update for CVNA
2025-06-12 15:17:54,877 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:17:54,877 - UnifiedFillManager - INFO - Stop order d903ce50-f30e-4e63-8c90-d95e333d8f3c already has correct quantity 92, no update needed
2025-06-12 15:17:54,877 - UnifiedFillManager - INFO - Checking 1 target orders
2025-06-12 15:17:54,877 - UnifiedFillManager - INFO - Target order be4be3d0-a912-4344-99c4-bba72a31507b already has correct quantity 92, no update needed
2025-06-12 15:17:54,952 - src.tws_connection - INFO - Open Order - ID: 48, Symbol: CVNA, Action: BUY, Quantity: 92.0
2025-06-12 15:17:54,953 - src.order.base - INFO - Order d903ce50-f30e-4e63-8c90-d95e333d8f3c status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:17:54,998 - src.tws_connection - INFO - Open Order - ID: 49, Symbol: CVNA, Action: BUY, Quantity: 92.0
2025-06-12 15:17:55,381 - src.rule.linked_order_actions - INFO - Found 1 stop orders for CVNA: ['d903ce50-f30e-4e63-8c90-d95e333d8f3c']
2025-06-12 15:17:55,382 - src.rule.linked_order_actions - INFO - Executing double down action for CVNA
2025-06-12 15:17:55,516 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for CVNA: 0.8729
2025-06-12 15:17:55,516 - src.rule.linked_order_actions - INFO - Double down calc for CVNA (SELL): current=$323.43, stop_distance=$0.87, dd_distance=$0.44, dd_price=$323.87, original_qty=92, dd_qty=-92
2025-06-12 15:17:55,517 - src.order.base - INFO - Order 35642b71-3a69-46a6-8a1a-14fc905f0020 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:17:55,517 - src.order.manager - INFO - Submitting order 35642b71-3a69-46a6-8a1a-14fc905f0020 to TWS
2025-06-12 15:17:55,518 - src.order.manager - INFO - Got broker order ID 50 for order 35642b71-3a69-46a6-8a1a-14fc905f0020
2025-06-12 15:17:55,518 - src.order.manager - INFO - Calling placeOrder with ID 50, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 92@323.870000 DAY
2025-06-12 15:17:55,518 - src.order.manager - INFO - placeOrder called successfully for order 35642b71-3a69-46a6-8a1a-14fc905f0020
2025-06-12 15:17:55,518 - src.order.base - INFO - Order 35642b71-3a69-46a6-8a1a-14fc905f0020 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:17:55,519 - src.position.position_manager - INFO - Added 1 doubledown orders to CVNA position
2025-06-12 15:17:55,519 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for CVNA: -92 shares @ $323.87
2025-06-12 15:17:55,519 - src.rule.linked_order_actions - INFO - Auto-created double down order for CVNA
2025-06-12 15:17:55,519 - src.rule.linked_order_actions - INFO - Created and linked SELL main order 1570524a-d713-4ece-8de1-919ac0b2e23a for CVNA
2025-06-12 15:17:55,520 - src.api.monitor - INFO - New prediction: SOXS BUY (0.67)
2025-06-12 15:17:55,621 - src.tws_connection - INFO - Open Order - ID: 50, Symbol: CVNA, Action: SELL, Quantity: 92.0
2025-06-12 15:17:59,346 - src.order.base - INFO - Order be4be3d0-a912-4344-99c4-bba72a31507b status changed: submitted -> filled (Order fully filled)
2025-06-12 15:17:59,346 - src.tws_connection - INFO - Open Order - ID: 49, Symbol: CVNA, Action: BUY, Quantity: 92.0
2025-06-12 15:17:59,347 - src.order.base - INFO - Order be4be3d0-a912-4344-99c4-bba72a31507b filled: 92.0 @ 323.03 (92.0/92)
2025-06-12 15:17:59,348 - UnifiedFillManager - INFO - Processing fill for CVNA: 92.0 shares on order be4be3d0-a912-4344-99c4-bba72a31507b
2025-06-12 15:17:59,348 - src.tws_connection - INFO - Open Order - ID: 49, Symbol: CVNA, Action: BUY, Quantity: 92.0
2025-06-12 15:17:59,348 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:17:59,348 - UnifiedFillManager - INFO - Order be4be3d0-a912-4344-99c4-bba72a31507b fill status: filled, is_fully_filled: True
2025-06-12 15:17:59,349 - UnifiedFillManager - INFO - Closing position for CVNA: Target order fully filled
2025-06-12 15:17:59,349 - src.position.position_manager - INFO - Closed position for CVNA
2025-06-12 15:17:59,350 - src.trade_tracker - INFO - Closed trade for CVNA
2025-06-12 15:17:59,350 - UnifiedFillManager - INFO - Position closed for CVNA: cancellation queued, trackers updated
2025-06-12 15:17:59,351 - UnifiedFillManager - INFO - Processing operation for CVNA: cancel_all
2025-06-12 15:17:59,351 - src.order.base - INFO - Order 35642b71-3a69-46a6-8a1a-14fc905f0020 status changed: submitted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:17:59,352 - src.order.manager - INFO - Cancelling order 35642b71-3a69-46a6-8a1a-14fc905f0020 with broker ID 50
2025-06-12 15:17:59,353 - src.order.base - INFO - Order d903ce50-f30e-4e63-8c90-d95e333d8f3c status changed: accepted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:17:59,353 - src.order.manager - INFO - Cancelling order d903ce50-f30e-4e63-8c90-d95e333d8f3c with broker ID 48
2025-06-12 15:17:59,354 - UnifiedFillManager - INFO - Cancelled 2 orders for CVNA
2025-06-12 15:17:59,354 - UnifiedFillManager - INFO - Completed operation for CVNA: cancel_all
2025-06-12 15:17:59,404 - src.order.base - INFO - Order 35642b71-3a69-46a6-8a1a-14fc905f0020 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:17:59,404 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 50)
2025-06-12 15:17:59,490 - src.order.base - INFO - Order d903ce50-f30e-4e63-8c90-d95e333d8f3c status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:17:59,490 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 48)
2025-06-12 15:18:55,901 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.88)
2025-06-12 15:18:56,162 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.76)
2025-06-12 15:18:56,417 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.88)
2025-06-12 15:18:56,664 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.85)
2025-06-12 15:18:56,926 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.86)
2025-06-12 15:18:57,162 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.57)
2025-06-12 15:18:57,424 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.51)
2025-06-12 15:18:57,686 - src.api.monitor - INFO - New prediction: SOXS BUY (0.87)
2025-06-12 15:19:47,392 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SOXS - already have active BUY trade
2025-06-12 15:19:58,028 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.83)
2025-06-12 15:19:58,282 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.84)
2025-06-12 15:19:58,558 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.90)
2025-06-12 15:19:58,874 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.87)
2025-06-12 15:19:59,346 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.91)
2025-06-12 15:19:59,706 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.57)
2025-06-12 15:20:00,036 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.64)
2025-06-12 15:20:00,461 - src.api.monitor - INFO - New prediction: SOXS BUY (0.69)
2025-06-12 15:21:00,865 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.51)
2025-06-12 15:21:01,242 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.84)
2025-06-12 15:21:01,602 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.90)
2025-06-12 15:21:01,923 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.65)
2025-06-12 15:21:03,431 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.92)
2025-06-12 15:21:05,035 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.54)
2025-06-12 15:21:08,115 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.56)
2025-06-12 15:21:10,487 - src.api.monitor - INFO - New prediction: SOXS BUY (0.89)
2025-06-12 15:22:12,088 - src.api.monitor - INFO - New prediction: UVXY BUY (0.57)
2025-06-12 15:22:12,090 - src.trade_tracker - INFO - Started tracking BUY trade for UVXY
2025-06-12 15:22:12,090 - src.position.position_manager - INFO - Opened BUY position for UVXY
2025-06-12 15:22:12,523 - src.position.sizer - INFO - BUY position size: 1452 shares @ $20.65 = $29983.80 (99.9% of $30000.00 allocation)
2025-06-12 15:22:12,524 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:22:12,525 - src.order.manager - INFO - Submitting order a642949a-d962-4dc2-a3a1-418b94c5edfb to TWS
2025-06-12 15:22:12,526 - src.order.manager - INFO - Got broker order ID 51 for order a642949a-d962-4dc2-a3a1-418b94c5edfb
2025-06-12 15:22:12,526 - src.order.manager - INFO - Calling placeOrder with ID 51, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 1452@0.000000 DAY
2025-06-12 15:22:12,527 - src.order.manager - INFO - placeOrder called successfully for order a642949a-d962-4dc2-a3a1-418b94c5edfb
2025-06-12 15:22:12,527 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:22:12,528 - src.position.position_manager - INFO - Added 1 main orders to UVXY position
2025-06-12 15:22:12,631 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,633 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:22:12,639 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:22:12,639 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,640 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb filled: 300.0 @ 20.65 (300.0/1452)
2025-06-12 15:22:12,641 - UnifiedFillManager - INFO - Processing fill for UVXY: 300.0 shares on order a642949a-d962-4dc2-a3a1-418b94c5edfb
2025-06-12 15:22:12,641 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:22:12,642 - UnifiedFillManager - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb fill status: partially_filled, is_fully_filled: False
2025-06-12 15:22:12,642 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 15:22:12,643 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:22:12,643 - UnifiedFillManager - INFO -   Main orders: {'a642949a-d962-4dc2-a3a1-418b94c5edfb'}
2025-06-12 15:22:12,643 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:22:12,644 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:22:12,644 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:22:12,645 - UnifiedFillManager - INFO -   Current position size: 1452.0
2025-06-12 15:22:12,645 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1452.0
2025-06-12 15:22:12,646 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1452.0, protective_qty=-1452.0
2025-06-12 15:22:12,646 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:22:12,647 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:22:12,647 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,648 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:22:12,649 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:22:12,649 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:22:12,650 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb filled: 300.0 @ 20.65 (600.0/1452)
2025-06-12 15:22:12,650 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:22:12,651 - UnifiedFillManager - INFO - Processing fill for UVXY: 300.0 shares on order a642949a-d962-4dc2-a3a1-418b94c5edfb
2025-06-12 15:22:12,651 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,652 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:22:12,653 - UnifiedFillManager - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb fill status: partially_filled, is_fully_filled: False
2025-06-12 15:22:12,654 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 15:22:12,654 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:22:12,655 - UnifiedFillManager - INFO -   Main orders: {'a642949a-d962-4dc2-a3a1-418b94c5edfb'}
2025-06-12 15:22:12,655 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:22:12,656 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:22:12,656 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:22:12,656 - UnifiedFillManager - INFO -   Current position size: 1452.0
2025-06-12 15:22:12,657 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1452.0
2025-06-12 15:22:12,657 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1452.0, protective_qty=-1452.0
2025-06-12 15:22:12,658 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:22:12,658 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:22:12,658 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:22:12,659 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:22:12,660 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb filled: 400.0 @ 20.65 (1000.0/1452)
2025-06-12 15:22:12,660 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,661 - UnifiedFillManager - INFO - Processing fill for UVXY: 400.0 shares on order a642949a-d962-4dc2-a3a1-418b94c5edfb
2025-06-12 15:22:12,661 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:22:12,662 - UnifiedFillManager - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb fill status: partially_filled, is_fully_filled: False
2025-06-12 15:22:12,662 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 15:22:12,663 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:22:12,663 - UnifiedFillManager - INFO -   Main orders: {'a642949a-d962-4dc2-a3a1-418b94c5edfb'}
2025-06-12 15:22:12,663 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:22:12,664 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:22:12,664 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:22:12,664 - UnifiedFillManager - INFO -   Current position size: 1452.0
2025-06-12 15:22:12,665 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1452.0
2025-06-12 15:22:12,665 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,665 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1452.0, protective_qty=-1452.0
2025-06-12 15:22:12,666 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:22:12,666 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:22:12,667 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:22:12,667 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:22:12,667 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:22:12,668 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb filled: 200.0 @ 20.65 (1200.0/1452)
2025-06-12 15:22:12,668 - UnifiedFillManager - INFO - Processing fill for UVXY: 200.0 shares on order a642949a-d962-4dc2-a3a1-418b94c5edfb
2025-06-12 15:22:12,669 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:22:12,670 - UnifiedFillManager - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb fill status: partially_filled, is_fully_filled: False
2025-06-12 15:22:12,669 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,670 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 15:22:12,671 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:22:12,672 - UnifiedFillManager - INFO -   Main orders: {'a642949a-d962-4dc2-a3a1-418b94c5edfb'}
2025-06-12 15:22:12,671 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,672 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:22:12,673 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:22:12,673 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,674 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:22:12,675 - UnifiedFillManager - INFO -   Current position size: 1452.0
2025-06-12 15:22:12,675 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,676 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1452.0
2025-06-12 15:22:12,677 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1452.0, protective_qty=-1452.0
2025-06-12 15:22:12,677 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,678 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:22:12,679 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:22:12,679 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,680 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:22:12,681 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:22:12,681 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,682 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:22:12,683 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb filled: 100.0 @ 20.65 (1300.0/1452)
2025-06-12 15:22:12,682 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:12,683 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:22:12,684 - UnifiedFillManager - INFO - Processing fill for UVXY: 100.0 shares on order a642949a-d962-4dc2-a3a1-418b94c5edfb
2025-06-12 15:22:12,685 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:22:12,685 - UnifiedFillManager - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb fill status: partially_filled, is_fully_filled: False
2025-06-12 15:22:12,686 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 15:22:12,686 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:22:12,686 - UnifiedFillManager - INFO -   Main orders: {'a642949a-d962-4dc2-a3a1-418b94c5edfb'}
2025-06-12 15:22:12,687 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:22:12,687 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:22:12,688 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:22:12,688 - UnifiedFillManager - INFO -   Current position size: 1452.0
2025-06-12 15:22:12,688 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1452.0
2025-06-12 15:22:12,689 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1452.0, protective_qty=-1452.0
2025-06-12 15:22:12,689 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:22:12,689 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:22:12,690 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:22:12,690 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:22:12,691 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb filled: 102.0 @ 20.65 (1402.0/1452)
2025-06-12 15:22:12,691 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:22:12,692 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: accepted -> submitted (IB status: Submitted)
2025-06-12 15:22:12,692 - UnifiedFillManager - INFO - Processing fill for UVXY: 102.0 shares on order a642949a-d962-4dc2-a3a1-418b94c5edfb
2025-06-12 15:22:12,693 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:22:12,693 - UnifiedFillManager - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb fill status: partially_filled, is_fully_filled: False
2025-06-12 15:22:12,693 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 15:22:12,694 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:22:12,694 - UnifiedFillManager - INFO -   Main orders: {'a642949a-d962-4dc2-a3a1-418b94c5edfb'}
2025-06-12 15:22:12,694 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:22:12,695 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:22:12,695 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:22:12,695 - UnifiedFillManager - INFO -   Current position size: 1452.0
2025-06-12 15:22:12,696 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1452.0
2025-06-12 15:22:12,696 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1452.0, protective_qty=-1452.0
2025-06-12 15:22:12,696 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:22:12,697 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:22:12,697 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:22:13,665 - src.rule.linked_order_actions - INFO - ATR for UVXY: 0.0136
2025-06-12 15:22:13,666 - src.rule.linked_order_actions - INFO - ATR-based stop: UVXY stop at $20.56 (ATR: 0.0136 * 6.5 = 0.0882)
2025-06-12 15:22:13,667 - src.order.base - INFO - Order d6797087-a17b-4cd9-9168-6ed839fc772d status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:22:13,668 - src.order.manager - INFO - Submitting order d6797087-a17b-4cd9-9168-6ed839fc772d to TWS
2025-06-12 15:22:13,668 - src.order.manager - INFO - Got broker order ID 52 for order d6797087-a17b-4cd9-9168-6ed839fc772d
2025-06-12 15:22:13,669 - src.order.manager - INFO - Calling placeOrder with ID 52, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 1452@0.000000 DAY
2025-06-12 15:22:13,670 - src.order.manager - INFO - placeOrder called successfully for order d6797087-a17b-4cd9-9168-6ed839fc772d
2025-06-12 15:22:13,670 - src.order.base - INFO - Order d6797087-a17b-4cd9-9168-6ed839fc772d status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:22:13,671 - src.position.position_manager - INFO - Added 1 stop orders to UVXY position
2025-06-12 15:22:13,671 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss d6797087-a17b-4cd9-9168-6ed839fc772d at $20.56
2025-06-12 15:22:13,671 - src.rule.linked_order_actions - INFO - ATR-based target: UVXY target at $20.69 (ATR: 0.0136 * 3.0 = 0.0407)
2025-06-12 15:22:13,672 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:22:13,673 - src.order.manager - INFO - Submitting order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 to TWS
2025-06-12 15:22:13,673 - src.order.manager - INFO - Got broker order ID 53 for order f62b2d96-57bd-4a84-b9f9-7fa0215ab220
2025-06-12 15:22:13,674 - src.order.manager - INFO - Calling placeOrder with ID 53, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1452@20.690000 DAY
2025-06-12 15:22:13,674 - src.order.manager - INFO - placeOrder called successfully for order f62b2d96-57bd-4a84-b9f9-7fa0215ab220
2025-06-12 15:22:13,674 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:22:13,675 - src.position.position_manager - INFO - Added 1 target orders to UVXY position
2025-06-12 15:22:13,675 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit f62b2d96-57bd-4a84-b9f9-7fa0215ab220 at $20.69
2025-06-12 15:22:13,675 - src.rule.linked_order_actions - INFO - Starting double down order creation for UVXY
2025-06-12 15:22:13,677 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.88)
2025-06-12 15:22:13,748 - src.tws_connection - INFO - Open Order - ID: 52, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:22:13,750 - src.order.base - INFO - Order d6797087-a17b-4cd9-9168-6ed839fc772d status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:22:13,810 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:22:14,182 - src.rule.linked_order_actions - INFO - Found 1 stop orders for UVXY: ['d6797087-a17b-4cd9-9168-6ed839fc772d']
2025-06-12 15:22:14,184 - src.rule.linked_order_actions - INFO - Executing double down action for UVXY
2025-06-12 15:22:14,639 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:14,729 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for UVXY: 0.0882
2025-06-12 15:22:14,729 - src.rule.linked_order_actions - INFO - Double down calc for UVXY (BUY): current=$20.65, stop_distance=$0.09, dd_distance=$0.04, dd_price=$20.61, original_qty=1452, dd_qty=1452
2025-06-12 15:22:14,730 - src.order.base - INFO - Order 5da70b9e-ad44-4b9c-b53e-9df831012fd2 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:22:14,731 - src.order.manager - INFO - Submitting order 5da70b9e-ad44-4b9c-b53e-9df831012fd2 to TWS
2025-06-12 15:22:14,731 - src.order.manager - INFO - Got broker order ID 54 for order 5da70b9e-ad44-4b9c-b53e-9df831012fd2
2025-06-12 15:22:14,732 - src.order.manager - INFO - Calling placeOrder with ID 54, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1452@20.610000 DAY
2025-06-12 15:22:14,733 - src.order.manager - INFO - placeOrder called successfully for order 5da70b9e-ad44-4b9c-b53e-9df831012fd2
2025-06-12 15:22:14,733 - src.order.base - INFO - Order 5da70b9e-ad44-4b9c-b53e-9df831012fd2 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:22:14,734 - src.position.position_manager - INFO - Added 1 doubledown orders to UVXY position
2025-06-12 15:22:14,734 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for UVXY: 1452 shares @ $20.61
2025-06-12 15:22:14,734 - src.rule.linked_order_actions - INFO - Auto-created double down order for UVXY
2025-06-12 15:22:14,735 - src.rule.linked_order_actions - INFO - Created and linked BUY main order a642949a-d962-4dc2-a3a1-418b94c5edfb for UVXY
2025-06-12 15:22:14,827 - src.tws_connection - INFO - Open Order - ID: 54, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:14,886 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.82)
2025-06-12 15:22:15,664 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb status changed: submitted -> filled (Order fully filled)
2025-06-12 15:22:15,665 - src.order.base - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb filled: 50.0 @ 20.65 (1452.0/1452)
2025-06-12 15:22:15,666 - UnifiedFillManager - INFO - Processing fill for UVXY: 50.0 shares on order a642949a-d962-4dc2-a3a1-418b94c5edfb
2025-06-12 15:22:15,665 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:15,667 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:22:15,668 - UnifiedFillManager - INFO - Order a642949a-d962-4dc2-a3a1-418b94c5edfb fill status: filled, is_fully_filled: True
2025-06-12 15:22:15,668 - src.tws_connection - INFO - Open Order - ID: 51, Symbol: UVXY, Action: BUY, Quantity: 1452.0
2025-06-12 15:22:15,669 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 15:22:15,669 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:22:15,671 - UnifiedFillManager - INFO -   Main orders: {'a642949a-d962-4dc2-a3a1-418b94c5edfb'}
2025-06-12 15:22:15,671 - UnifiedFillManager - INFO -   Stop orders: {'d6797087-a17b-4cd9-9168-6ed839fc772d'}
2025-06-12 15:22:15,672 - UnifiedFillManager - INFO -   Target orders: {'f62b2d96-57bd-4a84-b9f9-7fa0215ab220'}
2025-06-12 15:22:15,672 - UnifiedFillManager - INFO -   Double down orders: {'5da70b9e-ad44-4b9c-b53e-9df831012fd2'}
2025-06-12 15:22:15,673 - UnifiedFillManager - INFO -   Current position size: 1452.0
2025-06-12 15:22:15,673 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1452.0
2025-06-12 15:22:15,673 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1452.0, protective_qty=-1452.0
2025-06-12 15:22:15,674 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:22:15,674 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:22:15,674 - UnifiedFillManager - INFO - Stop order d6797087-a17b-4cd9-9168-6ed839fc772d already has correct quantity -1452, no update needed
2025-06-12 15:22:15,675 - UnifiedFillManager - INFO - Checking 1 target orders
2025-06-12 15:22:15,675 - UnifiedFillManager - INFO - Target order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 already has correct quantity -1452, no update needed
2025-06-12 15:22:16,207 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.72)
2025-06-12 15:22:16,943 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.92)
2025-06-12 15:22:17,941 - src.api.monitor - INFO - New prediction: TQQQ SELL (0.69)
2025-06-12 15:22:17,943 - src.trade_tracker - INFO - Started tracking SELL trade for TQQQ
2025-06-12 15:22:17,944 - src.position.position_manager - INFO - Opened SELL position for TQQQ
2025-06-12 15:22:18,625 - src.position.sizer - INFO - SELL position size: 395 shares @ $75.79 = $29937.05 (99.8% of $30000.00 allocation)
2025-06-12 15:22:18,626 - src.order.base - INFO - Order 8b0c69c1-3967-4e6f-8cc6-54b1e1da0c09 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:22:18,626 - src.order.manager - INFO - Submitting order 8b0c69c1-3967-4e6f-8cc6-54b1e1da0c09 to TWS
2025-06-12 15:22:18,627 - src.order.manager - INFO - Got broker order ID 55 for order 8b0c69c1-3967-4e6f-8cc6-54b1e1da0c09
2025-06-12 15:22:18,627 - src.order.manager - INFO - Calling placeOrder with ID 55, contract 0,TQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 395@0.000000 DAY
2025-06-12 15:22:18,628 - src.order.manager - INFO - placeOrder called successfully for order 8b0c69c1-3967-4e6f-8cc6-54b1e1da0c09
2025-06-12 15:22:18,628 - src.order.base - INFO - Order 8b0c69c1-3967-4e6f-8cc6-54b1e1da0c09 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:22:18,629 - src.position.position_manager - INFO - Added 1 main orders to TQQQ position
2025-06-12 15:22:18,630 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.54)
2025-06-12 15:22:18,759 - src.tws_connection - INFO - Open Order - ID: 55, Symbol: TQQQ, Action: SELL, Quantity: 395.0
2025-06-12 15:22:18,761 - src.order.base - INFO - Order 8b0c69c1-3967-4e6f-8cc6-54b1e1da0c09 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:22:18,763 - src.order.base - INFO - Order 8b0c69c1-3967-4e6f-8cc6-54b1e1da0c09 status changed: accepted -> filled (Order fully filled)
2025-06-12 15:22:18,764 - src.order.base - INFO - Order 8b0c69c1-3967-4e6f-8cc6-54b1e1da0c09 filled: 395.0 @ 75.79 (395.0/395)
2025-06-12 15:22:18,764 - src.tws_connection - INFO - Open Order - ID: 55, Symbol: TQQQ, Action: SELL, Quantity: 395.0
2025-06-12 15:22:18,765 - UnifiedFillManager - INFO - Processing fill for TQQQ: 395.0 shares on order 8b0c69c1-3967-4e6f-8cc6-54b1e1da0c09
2025-06-12 15:22:18,766 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:22:18,766 - UnifiedFillManager - INFO - Order 8b0c69c1-3967-4e6f-8cc6-54b1e1da0c09 fill status: filled, is_fully_filled: True
2025-06-12 15:22:18,766 - src.tws_connection - INFO - Open Order - ID: 55, Symbol: TQQQ, Action: SELL, Quantity: 395.0
2025-06-12 15:22:18,767 - UnifiedFillManager - INFO - Main order filled for TQQQ
2025-06-12 15:22:18,768 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:22:18,769 - UnifiedFillManager - INFO -   Main orders: {'8b0c69c1-3967-4e6f-8cc6-54b1e1da0c09'}
2025-06-12 15:22:18,769 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:22:18,769 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:22:18,769 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:22:18,770 - UnifiedFillManager - INFO -   Current position size: -395.0
2025-06-12 15:22:18,770 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -395.0
2025-06-12 15:22:18,771 - UnifiedFillManager - INFO - Updating protective orders for TQQQ: position=-395.0, protective_qty=395.0
2025-06-12 15:22:18,771 - UnifiedFillManager - INFO - Checking protective orders to update for TQQQ
2025-06-12 15:22:18,771 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:22:18,772 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:22:19,294 - src.rule.linked_order_actions - INFO - ATR for TQQQ: 0.0293
2025-06-12 15:22:19,295 - src.rule.linked_order_actions - INFO - ATR-based stop: TQQQ stop at $75.98 (ATR: 0.0293 * 6.5 = 0.1904)
2025-06-12 15:22:19,296 - src.order.base - INFO - Order 0e03d49a-b770-403d-9184-39ea026d765b status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:22:19,296 - src.order.manager - INFO - Submitting order 0e03d49a-b770-403d-9184-39ea026d765b to TWS
2025-06-12 15:22:19,297 - src.order.manager - INFO - Got broker order ID 56 for order 0e03d49a-b770-403d-9184-39ea026d765b
2025-06-12 15:22:19,297 - src.order.manager - INFO - Calling placeOrder with ID 56, contract 0,TQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 395@0.000000 DAY
2025-06-12 15:22:19,298 - src.order.manager - INFO - placeOrder called successfully for order 0e03d49a-b770-403d-9184-39ea026d765b
2025-06-12 15:22:19,298 - src.order.base - INFO - Order 0e03d49a-b770-403d-9184-39ea026d765b status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:22:19,298 - src.position.position_manager - INFO - Added 1 stop orders to TQQQ position
2025-06-12 15:22:19,299 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss 0e03d49a-b770-403d-9184-39ea026d765b at $75.98
2025-06-12 15:22:19,299 - src.rule.linked_order_actions - INFO - ATR-based target: TQQQ target at $75.70 (ATR: 0.0293 * 3.0 = 0.0879)
2025-06-12 15:22:19,299 - src.order.base - INFO - Order 6d508399-7653-4d25-82af-07d16730193b status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:22:19,300 - src.order.manager - INFO - Submitting order 6d508399-7653-4d25-82af-07d16730193b to TWS
2025-06-12 15:22:19,300 - src.order.manager - INFO - Got broker order ID 57 for order 6d508399-7653-4d25-82af-07d16730193b
2025-06-12 15:22:19,300 - src.order.manager - INFO - Calling placeOrder with ID 57, contract 0,TQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 395@75.700000 DAY
2025-06-12 15:22:19,301 - src.order.manager - INFO - placeOrder called successfully for order 6d508399-7653-4d25-82af-07d16730193b
2025-06-12 15:22:19,301 - src.order.base - INFO - Order 6d508399-7653-4d25-82af-07d16730193b status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:22:19,302 - src.position.position_manager - INFO - Added 1 target orders to TQQQ position
2025-06-12 15:22:19,302 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit 6d508399-7653-4d25-82af-07d16730193b at $75.70
2025-06-12 15:22:19,302 - src.rule.linked_order_actions - INFO - Starting double down order creation for TQQQ
2025-06-12 15:22:19,304 - src.api.monitor - INFO - New prediction: SOXS BUY (0.88)
2025-06-12 15:22:19,386 - src.tws_connection - INFO - Open Order - ID: 56, Symbol: TQQQ, Action: BUY, Quantity: 395.0
2025-06-12 15:22:19,387 - src.order.base - INFO - Order 0e03d49a-b770-403d-9184-39ea026d765b status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:22:19,440 - src.tws_connection - INFO - Open Order - ID: 57, Symbol: TQQQ, Action: BUY, Quantity: 395.0
2025-06-12 15:22:19,817 - src.rule.linked_order_actions - INFO - Found 1 stop orders for TQQQ: ['0e03d49a-b770-403d-9184-39ea026d765b']
2025-06-12 15:22:19,817 - src.rule.linked_order_actions - INFO - Executing double down action for TQQQ
2025-06-12 15:22:24,866 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for TQQQ: 0.1904
2025-06-12 15:22:24,867 - src.rule.linked_order_actions - INFO - Double down calc for TQQQ (SELL): current=$75.81, stop_distance=$0.19, dd_distance=$0.10, dd_price=$75.91, original_qty=395, dd_qty=-395
2025-06-12 15:22:24,868 - src.order.base - INFO - Order 9ef9b0da-e52c-4fa7-856d-ccc0e7ed8adf status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:22:24,868 - src.order.manager - INFO - Submitting order 9ef9b0da-e52c-4fa7-856d-ccc0e7ed8adf to TWS
2025-06-12 15:22:24,869 - src.order.manager - INFO - Got broker order ID 58 for order 9ef9b0da-e52c-4fa7-856d-ccc0e7ed8adf
2025-06-12 15:22:24,869 - src.order.manager - INFO - Calling placeOrder with ID 58, contract 0,TQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 395@75.910000 DAY
2025-06-12 15:22:24,870 - src.order.manager - INFO - placeOrder called successfully for order 9ef9b0da-e52c-4fa7-856d-ccc0e7ed8adf
2025-06-12 15:22:24,870 - src.order.base - INFO - Order 9ef9b0da-e52c-4fa7-856d-ccc0e7ed8adf status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:22:24,871 - src.position.position_manager - INFO - Added 1 doubledown orders to TQQQ position
2025-06-12 15:22:24,871 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for TQQQ: -395 shares @ $75.91
2025-06-12 15:22:24,872 - src.rule.linked_order_actions - INFO - Auto-created double down order for TQQQ
2025-06-12 15:22:24,872 - src.rule.linked_order_actions - INFO - Created and linked SELL main order 8b0c69c1-3967-4e6f-8cc6-54b1e1da0c09 for TQQQ
2025-06-12 15:22:24,988 - src.tws_connection - INFO - Open Order - ID: 58, Symbol: TQQQ, Action: SELL, Quantity: 395.0
2025-06-12 15:23:19,677 - src.api.monitor - INFO - New prediction: UVXY BUY (0.57)
2025-06-12 15:23:19,972 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.92)
2025-06-12 15:23:20,262 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.83)
2025-06-12 15:23:20,549 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.73)
2025-06-12 15:23:20,786 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.88)
2025-06-12 15:23:21,042 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.64)
2025-06-12 15:23:21,275 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.70)
2025-06-12 15:23:21,541 - src.api.monitor - INFO - New prediction: SOXS BUY (0.76)
2025-06-12 15:23:21,542 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SOXS - already have active BUY trade
2025-06-12 15:24:22,355 - src.api.monitor - INFO - New prediction: UVXY BUY (0.56)
2025-06-12 15:24:22,844 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.90)
2025-06-12 15:24:23,417 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.83)
2025-06-12 15:24:25,001 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.64)
2025-06-12 15:24:27,020 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.78)
2025-06-12 15:24:28,770 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.51)
2025-06-12 15:24:30,766 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.66)
2025-06-12 15:24:31,980 - src.api.monitor - INFO - New prediction: SOXS BUY (0.78)
2025-06-12 15:25:21,181 - src.order.base - INFO - Order 6d508399-7653-4d25-82af-07d16730193b status changed: submitted -> filled (Order fully filled)
2025-06-12 15:25:21,181 - src.tws_connection - INFO - Open Order - ID: 57, Symbol: TQQQ, Action: BUY, Quantity: 395.0
2025-06-12 15:25:21,182 - src.order.base - INFO - Order 6d508399-7653-4d25-82af-07d16730193b filled: 395.0 @ 75.7 (395.0/395)
2025-06-12 15:25:21,183 - UnifiedFillManager - INFO - Processing fill for TQQQ: 395.0 shares on order 6d508399-7653-4d25-82af-07d16730193b
2025-06-12 15:25:21,183 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:25:21,183 - UnifiedFillManager - INFO - Order 6d508399-7653-4d25-82af-07d16730193b fill status: filled, is_fully_filled: True
2025-06-12 15:25:21,183 - UnifiedFillManager - INFO - Closing position for TQQQ: Target order fully filled
2025-06-12 15:25:21,183 - src.position.position_manager - INFO - Closed position for TQQQ
2025-06-12 15:25:21,183 - src.trade_tracker - INFO - Closed trade for TQQQ
2025-06-12 15:25:21,184 - UnifiedFillManager - INFO - Position closed for TQQQ: cancellation queued, trackers updated
2025-06-12 15:25:21,184 - UnifiedFillManager - INFO - Processing operation for TQQQ: cancel_all
2025-06-12 15:25:21,184 - src.order.base - INFO - Order 0e03d49a-b770-403d-9184-39ea026d765b status changed: accepted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:25:21,185 - src.order.manager - INFO - Cancelling order 0e03d49a-b770-403d-9184-39ea026d765b with broker ID 56
2025-06-12 15:25:21,185 - src.order.base - INFO - Order 9ef9b0da-e52c-4fa7-856d-ccc0e7ed8adf status changed: submitted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:25:21,186 - src.order.manager - INFO - Cancelling order 9ef9b0da-e52c-4fa7-856d-ccc0e7ed8adf with broker ID 58
2025-06-12 15:25:21,186 - UnifiedFillManager - INFO - Cancelled 2 orders for TQQQ
2025-06-12 15:25:21,186 - UnifiedFillManager - INFO - Completed operation for TQQQ: cancel_all
2025-06-12 15:25:21,219 - src.tws_connection - INFO - Open Order - ID: 57, Symbol: TQQQ, Action: BUY, Quantity: 395.0
2025-06-12 15:25:21,224 - src.order.base - INFO - Order 0e03d49a-b770-403d-9184-39ea026d765b status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:25:21,224 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 56)
2025-06-12 15:25:21,337 - src.order.base - INFO - Order 9ef9b0da-e52c-4fa7-856d-ccc0e7ed8adf status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:25:21,337 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 58)
2025-06-12 15:25:32,532 - src.api.monitor - INFO - New prediction: UVXY BUY (0.52)
2025-06-12 15:25:32,533 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for UVXY - already have active BUY trade
2025-06-12 15:25:32,999 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.89)
2025-06-12 15:25:33,271 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.79)
2025-06-12 15:25:33,514 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.57)
2025-06-12 15:25:33,766 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.76)
2025-06-12 15:25:34,016 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.68)
2025-06-12 15:25:34,250 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.79)
2025-06-12 15:25:34,508 - src.api.monitor - INFO - New prediction: SOXS BUY (0.75)
2025-06-12 15:26:20,199 - __main__ - INFO - 💰 Current positions: 0
2025-06-12 15:26:20,200 - __main__ - INFO - 💰 Total value: $0.00
2025-06-12 15:26:20,201 - __main__ - INFO - 💰 Unrealized P&L: $0.00
2025-06-12 15:26:21,631 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SOXS - already have active BUY trade
2025-06-12 15:26:34,855 - src.api.monitor - INFO - New prediction: UVXY BUY (0.70)
2025-06-12 15:26:35,087 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.93)
2025-06-12 15:26:35,345 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.81)
2025-06-12 15:26:35,631 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.71)
2025-06-12 15:26:36,148 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.70)
2025-06-12 15:26:36,591 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.93)
2025-06-12 15:26:36,945 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.81)
2025-06-12 15:26:37,306 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.68)
2025-06-12 15:27:37,692 - src.api.monitor - INFO - New prediction: UVXY BUY (0.52)
2025-06-12 15:27:37,946 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.90)
2025-06-12 15:27:38,183 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.86)
2025-06-12 15:27:38,434 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.66)
2025-06-12 15:27:38,696 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.64)
2025-06-12 15:27:38,935 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.69)
2025-06-12 15:27:39,183 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.83)
2025-06-12 15:27:39,432 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.66)
2025-06-12 15:28:41,614 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.52)
2025-06-12 15:28:43,864 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.92)
2025-06-12 15:28:45,827 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.84)
2025-06-12 15:28:47,815 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.78)
2025-06-12 15:28:50,158 - src.api.monitor - INFO - New prediction: SQQQ SELL (0.56)
2025-06-12 15:28:50,159 - src.rule.linked_order_actions - INFO - Reversing trade for SQQQ: BUY → SELL
2025-06-12 15:28:50,159 - src.order.manager - WARNING - Cannot cancel inactive order 90619eb4-0022-4464-86f0-96d0bb8c7a18 with status filled
2025-06-12 15:28:50,159 - src.order.base - INFO - Order 8229b3d1-d63c-44ea-a080-f1b49b16013e status changed: accepted -> pending_cancel (Position reversal - exiting current position)
2025-06-12 15:28:50,160 - src.order.manager - INFO - Cancelling order 8229b3d1-d63c-44ea-a080-f1b49b16013e with broker ID 34
2025-06-12 15:28:50,160 - src.order.manager - WARNING - Cannot cancel inactive order 3284b668-1c90-42b8-984b-671ee835ae5d with status filled
2025-06-12 15:28:50,160 - src.order.base - INFO - Order 35b951d6-3b79-4e00-8a7e-a7b0a8f770ea status changed: submitted -> pending_cancel (Position reversal - exiting current position)
2025-06-12 15:28:50,160 - src.order.manager - INFO - Cancelling order 35b951d6-3b79-4e00-8a7e-a7b0a8f770ea with broker ID 35
2025-06-12 15:28:50,161 - src.trade_tracker - INFO - Closed trade for SQQQ
2025-06-12 15:28:50,161 - src.position.position_manager - INFO - Closed position for SQQQ
2025-06-12 15:28:50,161 - src.rule.linked_order_actions - INFO - Closed all linked orders and position for SQQQ
2025-06-12 15:28:50,161 - src.rule.linked_order_actions - INFO - Successfully exited current position for SQQQ
2025-06-12 15:28:50,161 - src.trade_tracker - INFO - Started tracking SELL trade for SQQQ
2025-06-12 15:28:50,161 - src.position.position_manager - INFO - Opened SELL position for SQQQ
2025-06-12 15:28:50,203 - src.order.base - INFO - Order 8229b3d1-d63c-44ea-a080-f1b49b16013e status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:28:50,203 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 34)
2025-06-12 15:28:50,312 - src.order.base - INFO - Order 35b951d6-3b79-4e00-8a7e-a7b0a8f770ea status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:28:50,311 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 35)
2025-06-12 15:28:50,840 - src.position.sizer - INFO - SELL position size: 1368 shares @ $21.92 = $29986.56 (100.0% of $30000.00 allocation)
2025-06-12 15:28:50,840 - src.order.base - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:28:50,841 - src.order.manager - INFO - Submitting order d3d95fad-d5ca-426b-9690-ad62a4f691e5 to TWS
2025-06-12 15:28:50,841 - src.order.manager - INFO - Got broker order ID 59 for order d3d95fad-d5ca-426b-9690-ad62a4f691e5
2025-06-12 15:28:50,841 - src.order.manager - INFO - Calling placeOrder with ID 59, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 1368@0.000000 DAY
2025-06-12 15:28:50,842 - src.order.manager - INFO - placeOrder called successfully for order d3d95fad-d5ca-426b-9690-ad62a4f691e5
2025-06-12 15:28:50,842 - src.order.base - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:28:50,842 - src.position.position_manager - INFO - Added 1 main orders to SQQQ position
2025-06-12 15:28:50,937 - src.tws_connection - INFO - Open Order - ID: 59, Symbol: SQQQ, Action: SELL, Quantity: 1368.0
2025-06-12 15:28:50,937 - src.order.base - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:28:50,946 - src.order.base - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:28:50,947 - src.order.base - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 filled: 1200.0 @ 21.92 (1200.0/1368)
2025-06-12 15:28:50,946 - src.tws_connection - INFO - Open Order - ID: 59, Symbol: SQQQ, Action: SELL, Quantity: 1368.0
2025-06-12 15:28:50,947 - UnifiedFillManager - INFO - Processing fill for SQQQ: 1200.0 shares on order d3d95fad-d5ca-426b-9690-ad62a4f691e5
2025-06-12 15:28:50,947 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:28:50,948 - UnifiedFillManager - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:28:50,948 - UnifiedFillManager - INFO - Main order filled for SQQQ
2025-06-12 15:28:50,948 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:28:50,948 - UnifiedFillManager - INFO -   Main orders: {'d3d95fad-d5ca-426b-9690-ad62a4f691e5'}
2025-06-12 15:28:50,948 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:28:50,948 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:28:50,949 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:28:50,949 - UnifiedFillManager - INFO -   Current position size: -1368.0
2025-06-12 15:28:50,948 - src.tws_connection - INFO - Open Order - ID: 59, Symbol: SQQQ, Action: SELL, Quantity: 1368.0
2025-06-12 15:28:50,950 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -1368.0
2025-06-12 15:28:50,950 - UnifiedFillManager - INFO - Updating protective orders for SQQQ: position=-1368.0, protective_qty=1368.0
2025-06-12 15:28:50,951 - UnifiedFillManager - INFO - Checking protective orders to update for SQQQ
2025-06-12 15:28:50,951 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:28:50,951 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:28:50,951 - src.tws_connection - INFO - Open Order - ID: 59, Symbol: SQQQ, Action: SELL, Quantity: 1368.0
2025-06-12 15:28:50,953 - src.order.base - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:28:50,955 - src.order.base - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:28:50,955 - src.tws_connection - INFO - Open Order - ID: 59, Symbol: SQQQ, Action: SELL, Quantity: 1368.0
2025-06-12 15:28:50,956 - src.order.base - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 filled: 100.0 @ 21.92 (1300.0/1368)
2025-06-12 15:28:50,956 - src.order.base - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:28:50,956 - src.order.base - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 status changed: accepted -> filled (Order fully filled)
2025-06-12 15:28:50,956 - src.order.base - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 filled: 68.0 @ 21.92 (1368.0/1368)
2025-06-12 15:28:50,957 - UnifiedFillManager - INFO - Processing fill for SQQQ: 100.0 shares on order d3d95fad-d5ca-426b-9690-ad62a4f691e5
2025-06-12 15:28:50,958 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:28:50,957 - src.tws_connection - INFO - Open Order - ID: 59, Symbol: SQQQ, Action: SELL, Quantity: 1368.0
2025-06-12 15:28:50,960 - UnifiedFillManager - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:28:50,961 - UnifiedFillManager - INFO - Main order filled for SQQQ
2025-06-12 15:28:50,961 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:28:50,962 - src.tws_connection - INFO - Open Order - ID: 59, Symbol: SQQQ, Action: SELL, Quantity: 1368.0
2025-06-12 15:28:50,963 - UnifiedFillManager - INFO -   Main orders: {'d3d95fad-d5ca-426b-9690-ad62a4f691e5'}
2025-06-12 15:28:50,963 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:28:50,963 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:28:50,964 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:28:50,964 - UnifiedFillManager - INFO -   Current position size: -1368.0
2025-06-12 15:28:50,964 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -1368.0
2025-06-12 15:28:50,964 - UnifiedFillManager - INFO - Updating protective orders for SQQQ: position=-1368.0, protective_qty=1368.0
2025-06-12 15:28:50,964 - UnifiedFillManager - INFO - Checking protective orders to update for SQQQ
2025-06-12 15:28:50,964 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:28:50,964 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:28:50,965 - UnifiedFillManager - INFO - Processing fill for SQQQ: 68.0 shares on order d3d95fad-d5ca-426b-9690-ad62a4f691e5
2025-06-12 15:28:50,965 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:28:50,965 - UnifiedFillManager - INFO - Order d3d95fad-d5ca-426b-9690-ad62a4f691e5 fill status: filled, is_fully_filled: True
2025-06-12 15:28:50,965 - UnifiedFillManager - INFO - Main order filled for SQQQ
2025-06-12 15:28:50,965 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:28:50,965 - UnifiedFillManager - INFO -   Main orders: {'d3d95fad-d5ca-426b-9690-ad62a4f691e5'}
2025-06-12 15:28:50,966 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:28:50,966 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:28:50,967 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:28:50,967 - UnifiedFillManager - INFO -   Current position size: -1368.0
2025-06-12 15:28:50,967 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -1368.0
2025-06-12 15:28:50,967 - UnifiedFillManager - INFO - Updating protective orders for SQQQ: position=-1368.0, protective_qty=1368.0
2025-06-12 15:28:50,967 - UnifiedFillManager - INFO - Checking protective orders to update for SQQQ
2025-06-12 15:28:50,968 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:28:50,968 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:28:51,529 - src.rule.linked_order_actions - INFO - ATR for SQQQ: 0.0143
2025-06-12 15:28:51,529 - src.rule.linked_order_actions - INFO - ATR-based stop: SQQQ stop at $22.01 (ATR: 0.0143 * 6.5 = 0.0929)
2025-06-12 15:28:51,529 - src.order.base - INFO - Order 8c099830-a970-4dfa-9312-77e1d8f1d353 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:28:51,530 - src.order.manager - INFO - Submitting order 8c099830-a970-4dfa-9312-77e1d8f1d353 to TWS
2025-06-12 15:28:51,530 - src.order.manager - INFO - Got broker order ID 60 for order 8c099830-a970-4dfa-9312-77e1d8f1d353
2025-06-12 15:28:51,530 - src.order.manager - INFO - Calling placeOrder with ID 60, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 1368@0.000000 DAY
2025-06-12 15:28:51,530 - src.order.manager - INFO - placeOrder called successfully for order 8c099830-a970-4dfa-9312-77e1d8f1d353
2025-06-12 15:28:51,531 - src.order.base - INFO - Order 8c099830-a970-4dfa-9312-77e1d8f1d353 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:28:51,531 - src.position.position_manager - INFO - Added 1 stop orders to SQQQ position
2025-06-12 15:28:51,531 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss 8c099830-a970-4dfa-9312-77e1d8f1d353 at $22.01
2025-06-12 15:28:51,531 - src.rule.linked_order_actions - INFO - ATR-based target: SQQQ target at $21.88 (ATR: 0.0143 * 3.0 = 0.0429)
2025-06-12 15:28:51,531 - src.order.base - INFO - Order 1e3942cf-3223-4d7c-906d-b0bb26fd7941 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:28:51,532 - src.order.manager - INFO - Submitting order 1e3942cf-3223-4d7c-906d-b0bb26fd7941 to TWS
2025-06-12 15:28:51,532 - src.order.manager - INFO - Got broker order ID 61 for order 1e3942cf-3223-4d7c-906d-b0bb26fd7941
2025-06-12 15:28:51,532 - src.order.manager - INFO - Calling placeOrder with ID 61, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1368@21.880000 DAY
2025-06-12 15:28:51,532 - src.order.manager - INFO - placeOrder called successfully for order 1e3942cf-3223-4d7c-906d-b0bb26fd7941
2025-06-12 15:28:51,533 - src.order.base - INFO - Order 1e3942cf-3223-4d7c-906d-b0bb26fd7941 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:28:51,533 - src.position.position_manager - INFO - Added 1 target orders to SQQQ position
2025-06-12 15:28:51,533 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit 1e3942cf-3223-4d7c-906d-b0bb26fd7941 at $21.88
2025-06-12 15:28:51,533 - src.rule.linked_order_actions - INFO - Starting double down order creation for SQQQ
2025-06-12 15:28:51,534 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.93)
2025-06-12 15:28:51,605 - src.tws_connection - INFO - Open Order - ID: 60, Symbol: SQQQ, Action: BUY, Quantity: 1368.0
2025-06-12 15:28:51,606 - src.order.base - INFO - Order 8c099830-a970-4dfa-9312-77e1d8f1d353 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:28:51,654 - src.tws_connection - INFO - Open Order - ID: 61, Symbol: SQQQ, Action: BUY, Quantity: 1368.0
2025-06-12 15:28:52,040 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SQQQ: ['8c099830-a970-4dfa-9312-77e1d8f1d353']
2025-06-12 15:28:52,041 - src.rule.linked_order_actions - INFO - Executing double down action for SQQQ
2025-06-12 15:28:52,565 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SQQQ: 0.0929
2025-06-12 15:28:52,566 - src.rule.linked_order_actions - INFO - Double down calc for SQQQ (SELL): current=$21.92, stop_distance=$0.09, dd_distance=$0.05, dd_price=$21.97, original_qty=1368, dd_qty=-1368
2025-06-12 15:28:52,566 - src.order.base - INFO - Order aa0f07fd-0066-4058-a604-16a1269c38f3 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:28:52,567 - src.order.manager - INFO - Submitting order aa0f07fd-0066-4058-a604-16a1269c38f3 to TWS
2025-06-12 15:28:52,567 - src.order.manager - INFO - Got broker order ID 62 for order aa0f07fd-0066-4058-a604-16a1269c38f3
2025-06-12 15:28:52,567 - src.order.manager - INFO - Calling placeOrder with ID 62, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1368@21.970000 DAY
2025-06-12 15:28:52,567 - src.order.manager - INFO - placeOrder called successfully for order aa0f07fd-0066-4058-a604-16a1269c38f3
2025-06-12 15:28:52,568 - src.order.base - INFO - Order aa0f07fd-0066-4058-a604-16a1269c38f3 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:28:52,568 - src.position.position_manager - INFO - Added 1 doubledown orders to SQQQ position
2025-06-12 15:28:52,568 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for SQQQ: -1368 shares @ $21.97
2025-06-12 15:28:52,569 - src.rule.linked_order_actions - INFO - Auto-created double down order for SQQQ
2025-06-12 15:28:52,569 - src.rule.linked_order_actions - INFO - Created and linked SELL main order d3d95fad-d5ca-426b-9690-ad62a4f691e5 for SQQQ
2025-06-12 15:28:52,570 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.79)
2025-06-12 15:28:52,669 - src.tws_connection - INFO - Open Order - ID: 62, Symbol: SQQQ, Action: SELL, Quantity: 1368.0
2025-06-12 15:28:53,350 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.74)
2025-06-12 15:29:53,730 - src.api.monitor - INFO - New prediction: UVXY BUY (0.50)
2025-06-12 15:29:53,731 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for UVXY - already have active BUY trade
2025-06-12 15:29:53,990 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.93)
2025-06-12 15:29:54,282 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.84)
2025-06-12 15:29:54,553 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.89)
2025-06-12 15:29:54,793 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.64)
2025-06-12 15:29:55,388 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.89)
2025-06-12 15:29:55,846 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.83)
2025-06-12 15:29:56,256 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.88)
2025-06-12 15:30:56,658 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:30:56,658 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 filled: 500.0 @ 20.69 (500.0/1452)
2025-06-12 15:30:56,658 - UnifiedFillManager - INFO - Processing fill for UVXY: 500.0 shares on order f62b2d96-57bd-4a84-b9f9-7fa0215ab220
2025-06-12 15:30:56,659 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:30:56,659 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:30:56,660 - UnifiedFillManager - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:30:56,660 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 1952.0
2025-06-12 15:30:56,661 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1952.0, protective_qty=-1952.0
2025-06-12 15:30:56,661 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:30:56,661 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:30:56,661 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:30:56,662 - UnifiedFillManager - INFO - Queueing update for stop order d6797087-a17b-4cd9-9168-6ed839fc772d: current qty=-1452, new qty=-1952.0
2025-06-12 15:30:56,663 - UnifiedFillManager - INFO - Processing operation for UVXY: replace_stop
2025-06-12 15:30:56,663 - src.order.base - INFO - Order d6797087-a17b-4cd9-9168-6ed839fc772d status changed: accepted -> pending_cancel (Updating quantity to -1952.0)
2025-06-12 15:30:56,664 - src.order.manager - INFO - Cancelling order d6797087-a17b-4cd9-9168-6ed839fc772d with broker ID 52
2025-06-12 15:30:56,664 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:30:56,702 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:30:56,703 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:30:56,703 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 filled: 100.0 @ 20.69 (600.0/1452)
2025-06-12 15:30:56,704 - UnifiedFillManager - INFO - Processing fill for UVXY: 100.0 shares on order f62b2d96-57bd-4a84-b9f9-7fa0215ab220
2025-06-12 15:30:56,704 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:30:56,704 - UnifiedFillManager - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:30:56,705 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 2052.0
2025-06-12 15:30:56,705 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=2052.0, protective_qty=-2052.0
2025-06-12 15:30:56,705 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:30:56,706 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:30:56,706 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:30:56,707 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:30:56,707 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:30:56,708 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 filled: 200.0 @ 20.69 (800.0/1452)
2025-06-12 15:30:56,708 - UnifiedFillManager - INFO - Processing fill for UVXY: 200.0 shares on order f62b2d96-57bd-4a84-b9f9-7fa0215ab220
2025-06-12 15:30:56,708 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:30:56,708 - UnifiedFillManager - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:30:56,709 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 2252.0
2025-06-12 15:30:56,709 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=2252.0, protective_qty=-2252.0
2025-06-12 15:30:56,709 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:30:56,709 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:30:56,710 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:30:56,710 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:30:56,711 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:30:56,711 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 filled: 141.0 @ 20.69 (941.0/1452)
2025-06-12 15:30:56,711 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:30:56,712 - UnifiedFillManager - INFO - Processing fill for UVXY: 141.0 shares on order f62b2d96-57bd-4a84-b9f9-7fa0215ab220
2025-06-12 15:30:56,712 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:30:56,712 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:30:56,713 - UnifiedFillManager - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:30:56,713 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 2393.0
2025-06-12 15:30:56,713 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=2393.0, protective_qty=-2393.0
2025-06-12 15:30:56,713 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:30:56,713 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:30:56,715 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:30:56,716 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:30:56,717 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:30:56,756 - src.order.base - INFO - Order d6797087-a17b-4cd9-9168-6ed839fc772d status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:30:56,756 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 52)
2025-06-12 15:30:56,778 - src.order.base - INFO - Order 085600dd-a8f3-4e70-9259-7634cf71e5fd status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:30:56,779 - src.order.manager - INFO - Submitting order 085600dd-a8f3-4e70-9259-7634cf71e5fd to TWS
2025-06-12 15:30:56,779 - src.order.manager - INFO - Got broker order ID 63 for order 085600dd-a8f3-4e70-9259-7634cf71e5fd
2025-06-12 15:30:56,779 - src.order.manager - INFO - Calling placeOrder with ID 63, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 1952@0.000000 DAY
2025-06-12 15:30:56,780 - src.order.manager - INFO - placeOrder called successfully for order 085600dd-a8f3-4e70-9259-7634cf71e5fd
2025-06-12 15:30:56,780 - src.order.base - INFO - Order 085600dd-a8f3-4e70-9259-7634cf71e5fd status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:30:56,780 - src.position.position_manager - INFO - Added 1 stop orders to UVXY position
2025-06-12 15:30:56,781 - UnifiedFillManager - INFO - Created updated stop order 085600dd-a8f3-4e70-9259-7634cf71e5fd for UVXY at $20.56 for -1952.0 shares
2025-06-12 15:30:56,781 - UnifiedFillManager - INFO - Completed operation for UVXY: replace_stop
2025-06-12 15:30:56,861 - src.tws_connection - INFO - Open Order - ID: 63, Symbol: UVXY, Action: SELL, Quantity: 1952.0
2025-06-12 15:30:56,862 - src.order.base - INFO - Order 085600dd-a8f3-4e70-9259-7634cf71e5fd status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:30:57,038 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.87)
2025-06-12 15:30:57,306 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.81)
2025-06-12 15:30:57,381 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:30:57,382 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 filled: 100.0 @ 20.69 (1041.0/1452)
2025-06-12 15:30:57,382 - UnifiedFillManager - INFO - Processing fill for UVXY: 100.0 shares on order f62b2d96-57bd-4a84-b9f9-7fa0215ab220
2025-06-12 15:30:57,381 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:30:57,382 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:30:57,383 - UnifiedFillManager - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:30:57,383 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 2493.0
2025-06-12 15:30:57,383 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=2493.0, protective_qty=-2493.0
2025-06-12 15:30:57,384 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:30:57,385 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:30:57,385 - UnifiedFillManager - INFO - Queueing update for stop order 085600dd-a8f3-4e70-9259-7634cf71e5fd: current qty=-1952.0, new qty=-2493.0
2025-06-12 15:30:57,386 - UnifiedFillManager - INFO - Processing operation for UVXY: replace_stop
2025-06-12 15:30:57,385 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:30:57,386 - src.order.base - INFO - Order 085600dd-a8f3-4e70-9259-7634cf71e5fd status changed: accepted -> pending_cancel (Updating quantity to -2493.0)
2025-06-12 15:30:57,386 - src.order.manager - INFO - Cancelling order 085600dd-a8f3-4e70-9259-7634cf71e5fd with broker ID 63
2025-06-12 15:30:57,387 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:30:57,388 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:30:57,388 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 status changed: submitted -> filled (Order fully filled)
2025-06-12 15:30:57,388 - src.tws_connection - INFO - Open Order - ID: 53, Symbol: UVXY, Action: SELL, Quantity: 1452.0
2025-06-12 15:30:57,388 - src.order.base - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 filled: 411.0 @ 20.69 (1452.0/1452)
2025-06-12 15:30:57,389 - UnifiedFillManager - INFO - Processing fill for UVXY: 411.0 shares on order f62b2d96-57bd-4a84-b9f9-7fa0215ab220
2025-06-12 15:30:57,389 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:30:57,389 - UnifiedFillManager - INFO - Order f62b2d96-57bd-4a84-b9f9-7fa0215ab220 fill status: filled, is_fully_filled: True
2025-06-12 15:30:57,389 - UnifiedFillManager - INFO - Closing position for UVXY: Target order fully filled
2025-06-12 15:30:57,389 - src.position.position_manager - INFO - Closed position for UVXY
2025-06-12 15:30:57,389 - src.trade_tracker - INFO - Closed trade for UVXY
2025-06-12 15:30:57,389 - UnifiedFillManager - INFO - Position closed for UVXY: cancellation queued, trackers updated
2025-06-12 15:30:57,429 - src.order.base - INFO - Order 085600dd-a8f3-4e70-9259-7634cf71e5fd status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:30:57,428 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 63)
2025-06-12 15:30:57,494 - src.order.base - INFO - Order e0ddc031-c532-4a01-af06-ac38bb693d4e status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:30:57,495 - src.order.manager - INFO - Submitting order e0ddc031-c532-4a01-af06-ac38bb693d4e to TWS
2025-06-12 15:30:57,495 - src.order.manager - INFO - Got broker order ID 64 for order e0ddc031-c532-4a01-af06-ac38bb693d4e
2025-06-12 15:30:57,495 - src.order.manager - INFO - Calling placeOrder with ID 64, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 2493@0.000000 DAY
2025-06-12 15:30:57,495 - src.order.manager - INFO - placeOrder called successfully for order e0ddc031-c532-4a01-af06-ac38bb693d4e
2025-06-12 15:30:57,496 - src.order.base - INFO - Order e0ddc031-c532-4a01-af06-ac38bb693d4e status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:30:57,496 - src.position.position_manager - INFO - Added 1 stop orders to UVXY position
2025-06-12 15:30:57,496 - UnifiedFillManager - INFO - Created updated stop order e0ddc031-c532-4a01-af06-ac38bb693d4e for UVXY at $20.56 for -2493.0 shares
2025-06-12 15:30:57,496 - UnifiedFillManager - INFO - Completed operation for UVXY: replace_stop
2025-06-12 15:30:57,496 - UnifiedFillManager - INFO - Processing operation for UVXY: cancel_all
2025-06-12 15:30:57,496 - src.order.base - INFO - Order 5da70b9e-ad44-4b9c-b53e-9df831012fd2 status changed: submitted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:30:57,497 - src.order.manager - INFO - Cancelling order 5da70b9e-ad44-4b9c-b53e-9df831012fd2 with broker ID 54
2025-06-12 15:30:57,497 - src.order.base - INFO - Order e0ddc031-c532-4a01-af06-ac38bb693d4e status changed: submitted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:30:57,497 - src.order.manager - INFO - Cancelling order e0ddc031-c532-4a01-af06-ac38bb693d4e with broker ID 64
2025-06-12 15:30:57,497 - UnifiedFillManager - INFO - Cancelled 2 orders for UVXY
2025-06-12 15:30:57,497 - UnifiedFillManager - INFO - Completed operation for UVXY: cancel_all
2025-06-12 15:30:57,549 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.87)
2025-06-12 15:30:57,568 - src.tws_connection - INFO - Open Order - ID: 64, Symbol: UVXY, Action: SELL, Quantity: 2493.0
2025-06-12 15:30:57,569 - src.order.base - INFO - Order e0ddc031-c532-4a01-af06-ac38bb693d4e status changed: pending_cancel -> accepted (IB status: PreSubmitted)
2025-06-12 15:30:57,652 - src.order.base - INFO - Order 5da70b9e-ad44-4b9c-b53e-9df831012fd2 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:30:57,652 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 54)
2025-06-12 15:30:57,730 - src.order.base - INFO - Order e0ddc031-c532-4a01-af06-ac38bb693d4e status changed: accepted -> cancelled (IB status: Cancelled)
2025-06-12 15:30:57,730 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 64)
2025-06-12 15:30:57,810 - src.api.monitor - INFO - New prediction: SQQQ SELL (0.56)
2025-06-12 15:30:58,586 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.93)
2025-06-12 15:30:59,513 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.81)
2025-06-12 15:31:00,210 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.94)
2025-06-12 15:31:15,460 - src.order.base - INFO - Order 4e158a92-092f-4715-986a-bb660512b216 status changed: submitted -> filled (Order fully filled)
2025-06-12 15:31:15,460 - src.tws_connection - INFO - Open Order - ID: 42, Symbol: SOXS, Action: SELL, Quantity: 3174.0
2025-06-12 15:31:15,461 - src.order.base - INFO - Order 4e158a92-092f-4715-986a-bb660512b216 filled: 3174.0 @ 9.48 (3174.0/3174)
2025-06-12 15:31:15,464 - UnifiedFillManager - INFO - Processing fill for SOXS: 3174.0 shares on order 4e158a92-092f-4715-986a-bb660512b216
2025-06-12 15:31:15,463 - src.tws_connection - INFO - Open Order - ID: 42, Symbol: SOXS, Action: SELL, Quantity: 3174.0
2025-06-12 15:31:15,465 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:31:15,466 - UnifiedFillManager - INFO - Order 4e158a92-092f-4715-986a-bb660512b216 fill status: filled, is_fully_filled: True
2025-06-12 15:31:15,467 - UnifiedFillManager - INFO - Closing position for SOXS: Target order fully filled
2025-06-12 15:31:15,467 - src.position.position_manager - INFO - Closed position for SOXS
2025-06-12 15:31:15,468 - src.trade_tracker - INFO - Closed trade for SOXS
2025-06-12 15:31:15,469 - UnifiedFillManager - INFO - Position closed for SOXS: cancellation queued, trackers updated
2025-06-12 15:31:15,470 - UnifiedFillManager - INFO - Processing operation for SOXS: cancel_all
2025-06-12 15:31:15,470 - src.order.base - INFO - Order c656c9bc-a678-4bfa-8f57-7ac9c34035cd status changed: submitted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:31:15,471 - src.order.manager - INFO - Cancelling order c656c9bc-a678-4bfa-8f57-7ac9c34035cd with broker ID 43
2025-06-12 15:31:15,472 - src.order.base - INFO - Order 56e23eb1-4e77-4ced-8187-6d930bcb5a88 status changed: accepted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:31:15,473 - src.order.manager - INFO - Cancelling order 56e23eb1-4e77-4ced-8187-6d930bcb5a88 with broker ID 41
2025-06-12 15:31:15,473 - UnifiedFillManager - INFO - Cancelled 2 orders for SOXS
2025-06-12 15:31:15,474 - UnifiedFillManager - INFO - Completed operation for SOXS: cancel_all
2025-06-12 15:31:15,545 - src.order.base - INFO - Order c656c9bc-a678-4bfa-8f57-7ac9c34035cd status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:31:15,545 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 43)
2025-06-12 15:31:15,606 - src.order.base - INFO - Order 56e23eb1-4e77-4ced-8187-6d930bcb5a88 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:31:15,606 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 41)
2025-06-12 15:32:01,297 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.67)
2025-06-12 15:32:02,303 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.96)
2025-06-12 15:32:03,254 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.63)
2025-06-12 15:32:03,897 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.88)
2025-06-12 15:32:04,349 - src.api.monitor - INFO - New prediction: SQQQ SELL (0.60)
2025-06-12 15:32:04,351 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for SQQQ - already have active SELL trade
2025-06-12 15:32:04,911 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.95)
2025-06-12 15:32:06,432 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.79)
2025-06-12 15:32:08,135 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.98)
2025-06-12 15:33:10,182 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.87)
2025-06-12 15:33:11,758 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.94)
2025-06-12 15:33:13,347 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.59)
2025-06-12 15:33:14,874 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.94)
2025-06-12 15:33:16,270 - src.api.monitor - INFO - New prediction: SQQQ SELL (0.51)
2025-06-12 15:33:19,389 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.88)
2025-06-12 15:33:22,016 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.81)
2025-06-12 15:33:23,993 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.99)
2025-06-12 15:33:32,910 - src.order.base - INFO - Order aa0f07fd-0066-4058-a604-16a1269c38f3 status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:33:32,910 - src.tws_connection - INFO - Open Order - ID: 62, Symbol: SQQQ, Action: SELL, Quantity: 1368.0
2025-06-12 15:33:32,911 - src.order.base - INFO - Order aa0f07fd-0066-4058-a604-16a1269c38f3 filled: 1364.0 @ 21.97 (1364.0/1368)
2025-06-12 15:33:32,912 - UnifiedFillManager - INFO - Processing fill for SQQQ: 1364.0 shares on order aa0f07fd-0066-4058-a604-16a1269c38f3
2025-06-12 15:33:32,912 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-12 15:33:32,913 - UnifiedFillManager - INFO - Order aa0f07fd-0066-4058-a604-16a1269c38f3 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:33:32,913 - UnifiedFillManager - INFO - Double down fill for SQQQ, new position size: -4.0
2025-06-12 15:33:32,913 - UnifiedFillManager - INFO - Updating protective orders for SQQQ: position=-4.0, protective_qty=4.0
2025-06-12 15:33:32,913 - UnifiedFillManager - INFO - Checking protective orders to update for SQQQ
2025-06-12 15:33:32,914 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:33:32,914 - UnifiedFillManager - INFO - Queueing update for stop order 8c099830-a970-4dfa-9312-77e1d8f1d353: current qty=1368, new qty=4.0
2025-06-12 15:33:32,914 - UnifiedFillManager - INFO - Checking 1 target orders
2025-06-12 15:33:32,914 - UnifiedFillManager - INFO - Queueing update for target order 1e3942cf-3223-4d7c-906d-b0bb26fd7941: current qty=1368, new qty=4.0
2025-06-12 15:33:32,915 - src.order.base - INFO - Order aa0f07fd-0066-4058-a604-16a1269c38f3 status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:33:32,916 - UnifiedFillManager - INFO - Processing operation for SQQQ: replace_stop
2025-06-12 15:33:32,915 - src.tws_connection - INFO - Open Order - ID: 62, Symbol: SQQQ, Action: SELL, Quantity: 1368.0
2025-06-12 15:33:32,917 - src.order.base - INFO - Order 8c099830-a970-4dfa-9312-77e1d8f1d353 status changed: accepted -> pending_cancel (Updating quantity to 4.0)
2025-06-12 15:33:32,919 - src.order.manager - INFO - Cancelling order 8c099830-a970-4dfa-9312-77e1d8f1d353 with broker ID 60
2025-06-12 15:33:32,918 - src.tws_connection - INFO - Open Order - ID: 62, Symbol: SQQQ, Action: SELL, Quantity: 1368.0
2025-06-12 15:33:32,919 - src.order.base - INFO - Order aa0f07fd-0066-4058-a604-16a1269c38f3 status changed: submitted -> filled (Order fully filled)
2025-06-12 15:33:32,920 - src.order.base - INFO - Order aa0f07fd-0066-4058-a604-16a1269c38f3 filled: 4.0 @ 21.97 (1368.0/1368)
2025-06-12 15:33:32,920 - src.tws_connection - INFO - Open Order - ID: 62, Symbol: SQQQ, Action: SELL, Quantity: 1368.0
2025-06-12 15:33:32,920 - UnifiedFillManager - INFO - Processing fill for SQQQ: 4.0 shares on order aa0f07fd-0066-4058-a604-16a1269c38f3
2025-06-12 15:33:32,921 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-12 15:33:32,921 - UnifiedFillManager - INFO - Order aa0f07fd-0066-4058-a604-16a1269c38f3 fill status: filled, is_fully_filled: True
2025-06-12 15:33:32,921 - UnifiedFillManager - WARNING - Position for SQQQ is flat after double down
2025-06-12 15:33:32,921 - UnifiedFillManager - INFO - Closing position for SQQQ: Position flat after double down
2025-06-12 15:33:32,921 - src.position.position_manager - INFO - Closed position for SQQQ
2025-06-12 15:33:32,921 - src.trade_tracker - INFO - Closed trade for SQQQ
2025-06-12 15:33:32,922 - UnifiedFillManager - INFO - Position closed for SQQQ: cancellation queued, trackers updated
2025-06-12 15:33:32,957 - src.order.base - INFO - Order 8c099830-a970-4dfa-9312-77e1d8f1d353 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:33:32,957 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 60)
2025-06-12 15:33:33,029 - src.order.base - INFO - Order ce46e06a-2926-45bb-9fc2-638b748985cd status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:33:33,029 - src.order.manager - INFO - Submitting order ce46e06a-2926-45bb-9fc2-638b748985cd to TWS
2025-06-12 15:33:33,030 - src.order.manager - INFO - Got broker order ID 65 for order ce46e06a-2926-45bb-9fc2-638b748985cd
2025-06-12 15:33:33,030 - src.order.manager - INFO - Calling placeOrder with ID 65, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 4@0.000000 DAY
2025-06-12 15:33:33,030 - src.order.manager - INFO - placeOrder called successfully for order ce46e06a-2926-45bb-9fc2-638b748985cd
2025-06-12 15:33:33,030 - src.order.base - INFO - Order ce46e06a-2926-45bb-9fc2-638b748985cd status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:33:33,031 - src.position.position_manager - INFO - Added 1 stop orders to SQQQ position
2025-06-12 15:33:33,031 - UnifiedFillManager - INFO - Created updated stop order ce46e06a-2926-45bb-9fc2-638b748985cd for SQQQ at $22.01 for 4.0 shares
2025-06-12 15:33:33,031 - UnifiedFillManager - INFO - Completed operation for SQQQ: replace_stop
2025-06-12 15:33:33,031 - UnifiedFillManager - INFO - Processing operation for SQQQ: replace_target
2025-06-12 15:33:33,032 - src.order.base - INFO - Order 1e3942cf-3223-4d7c-906d-b0bb26fd7941 status changed: submitted -> pending_cancel (Updating quantity to 4.0)
2025-06-12 15:33:33,032 - src.order.manager - INFO - Cancelling order 1e3942cf-3223-4d7c-906d-b0bb26fd7941 with broker ID 61
2025-06-12 15:33:33,112 - src.order.base - INFO - Order 1e3942cf-3223-4d7c-906d-b0bb26fd7941 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:33:33,112 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 61)
2025-06-12 15:33:33,126 - src.tws_connection - INFO - Open Order - ID: 65, Symbol: SQQQ, Action: BUY, Quantity: 4.0
2025-06-12 15:33:33,128 - src.order.base - INFO - Order ce46e06a-2926-45bb-9fc2-638b748985cd status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:33:33,136 - src.order.base - INFO - Order dc337494-6e6a-4270-a34d-baf4dcde2d8f status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:33:33,136 - src.order.manager - INFO - Submitting order dc337494-6e6a-4270-a34d-baf4dcde2d8f to TWS
2025-06-12 15:33:33,136 - src.order.manager - INFO - Got broker order ID 66 for order dc337494-6e6a-4270-a34d-baf4dcde2d8f
2025-06-12 15:33:33,136 - src.order.manager - INFO - Calling placeOrder with ID 66, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 4@21.880000 DAY
2025-06-12 15:33:33,136 - src.order.manager - INFO - placeOrder called successfully for order dc337494-6e6a-4270-a34d-baf4dcde2d8f
2025-06-12 15:33:33,136 - src.order.base - INFO - Order dc337494-6e6a-4270-a34d-baf4dcde2d8f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:33:33,137 - src.position.position_manager - INFO - Added 1 target orders to SQQQ position
2025-06-12 15:33:33,137 - UnifiedFillManager - INFO - Created updated target order dc337494-6e6a-4270-a34d-baf4dcde2d8f for SQQQ at $21.88 for 4.0 shares
2025-06-12 15:33:33,137 - UnifiedFillManager - INFO - Completed operation for SQQQ: replace_target
2025-06-12 15:33:33,137 - UnifiedFillManager - INFO - Processing operation for SQQQ: cancel_all
2025-06-12 15:33:33,137 - src.order.base - INFO - Order dc337494-6e6a-4270-a34d-baf4dcde2d8f status changed: submitted -> pending_cancel (Position closed: Position flat after double down)
2025-06-12 15:33:33,137 - src.order.manager - INFO - Cancelling order dc337494-6e6a-4270-a34d-baf4dcde2d8f with broker ID 66
2025-06-12 15:33:33,137 - src.order.base - INFO - Order ce46e06a-2926-45bb-9fc2-638b748985cd status changed: accepted -> pending_cancel (Position closed: Position flat after double down)
2025-06-12 15:33:33,138 - src.order.manager - INFO - Cancelling order ce46e06a-2926-45bb-9fc2-638b748985cd with broker ID 65
2025-06-12 15:33:33,138 - UnifiedFillManager - INFO - Cancelled 2 orders for SQQQ
2025-06-12 15:33:33,138 - UnifiedFillManager - INFO - Completed operation for SQQQ: cancel_all
2025-06-12 15:33:33,245 - src.tws_connection - INFO - Open Order - ID: 66, Symbol: SQQQ, Action: BUY, Quantity: 4.0
2025-06-12 15:33:33,287 - src.order.base - INFO - Order dc337494-6e6a-4270-a34d-baf4dcde2d8f status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:33:33,287 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 66)
2025-06-12 15:33:33,373 - src.order.base - INFO - Order ce46e06a-2926-45bb-9fc2-638b748985cd status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:33:33,373 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 65)
2025-06-12 15:34:25,249 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.63)
2025-06-12 15:34:26,931 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.94)
2025-06-12 15:34:28,128 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.95)
2025-06-12 15:34:29,754 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.91)
2025-06-12 15:34:31,357 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.51)
2025-06-12 15:34:32,684 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.91)
2025-06-12 15:34:33,787 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.87)
2025-06-12 15:34:34,796 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.95)
2025-06-12 15:35:35,512 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.53)
2025-06-12 15:35:35,786 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.71)
2025-06-12 15:35:36,059 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.96)
2025-06-12 15:35:36,661 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.93)
2025-06-12 15:35:37,095 - src.api.monitor - INFO - New prediction: SQQQ SELL (0.52)
2025-06-12 15:35:37,097 - src.trade_tracker - INFO - Started tracking SELL trade for SQQQ
2025-06-12 15:35:37,097 - src.position.position_manager - INFO - Opened SELL position for SQQQ
2025-06-12 15:35:37,659 - src.position.sizer - INFO - SELL position size: 1366 shares @ $21.96 = $29997.36 (100.0% of $30000.00 allocation)
2025-06-12 15:35:37,661 - src.order.base - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:35:37,662 - src.order.manager - INFO - Submitting order c97be150-7ae9-45f9-a286-11bf3853316a to TWS
2025-06-12 15:35:37,662 - src.order.manager - INFO - Got broker order ID 67 for order c97be150-7ae9-45f9-a286-11bf3853316a
2025-06-12 15:35:37,663 - src.order.manager - INFO - Calling placeOrder with ID 67, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 1366@0.000000 DAY
2025-06-12 15:35:37,664 - src.order.manager - INFO - placeOrder called successfully for order c97be150-7ae9-45f9-a286-11bf3853316a
2025-06-12 15:35:37,664 - src.order.base - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:35:37,665 - src.position.position_manager - INFO - Added 1 main orders to SQQQ position
2025-06-12 15:35:37,758 - src.tws_connection - INFO - Open Order - ID: 67, Symbol: SQQQ, Action: SELL, Quantity: 1366.0
2025-06-12 15:35:37,759 - src.order.base - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:35:37,775 - src.order.base - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:35:37,775 - src.order.base - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a filled: 700.0 @ 21.95 (700.0/1366)
2025-06-12 15:35:37,775 - src.tws_connection - INFO - Open Order - ID: 67, Symbol: SQQQ, Action: SELL, Quantity: 1366.0
2025-06-12 15:35:37,777 - UnifiedFillManager - INFO - Processing fill for SQQQ: 700.0 shares on order c97be150-7ae9-45f9-a286-11bf3853316a
2025-06-12 15:35:37,778 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:35:37,778 - UnifiedFillManager - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a fill status: partially_filled, is_fully_filled: False
2025-06-12 15:35:37,778 - UnifiedFillManager - INFO - Main order filled for SQQQ
2025-06-12 15:35:37,779 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:35:37,779 - UnifiedFillManager - INFO -   Main orders: {'c97be150-7ae9-45f9-a286-11bf3853316a'}
2025-06-12 15:35:37,779 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:35:37,780 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:35:37,780 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:35:37,780 - UnifiedFillManager - INFO -   Current position size: -1366.0
2025-06-12 15:35:37,780 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -1366.0
2025-06-12 15:35:37,781 - UnifiedFillManager - INFO - Updating protective orders for SQQQ: position=-1366.0, protective_qty=1366.0
2025-06-12 15:35:37,781 - UnifiedFillManager - INFO - Checking protective orders to update for SQQQ
2025-06-12 15:35:37,781 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:35:37,781 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:35:37,782 - src.order.base - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:35:37,784 - src.order.base - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:35:37,785 - src.order.base - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a filled: 600.0 @ 21.95 (1300.0/1366)
2025-06-12 15:35:37,785 - src.tws_connection - INFO - Open Order - ID: 67, Symbol: SQQQ, Action: SELL, Quantity: 1366.0
2025-06-12 15:35:37,786 - UnifiedFillManager - INFO - Processing fill for SQQQ: 600.0 shares on order c97be150-7ae9-45f9-a286-11bf3853316a
2025-06-12 15:35:37,786 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:35:37,786 - src.tws_connection - INFO - Open Order - ID: 67, Symbol: SQQQ, Action: SELL, Quantity: 1366.0
2025-06-12 15:35:37,786 - UnifiedFillManager - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a fill status: partially_filled, is_fully_filled: False
2025-06-12 15:35:37,787 - UnifiedFillManager - INFO - Main order filled for SQQQ
2025-06-12 15:35:37,787 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:35:37,787 - UnifiedFillManager - INFO -   Main orders: {'c97be150-7ae9-45f9-a286-11bf3853316a'}
2025-06-12 15:35:37,788 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:35:37,788 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:35:37,788 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:35:37,789 - UnifiedFillManager - INFO -   Current position size: -1366.0
2025-06-12 15:35:37,789 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -1366.0
2025-06-12 15:35:37,789 - UnifiedFillManager - INFO - Updating protective orders for SQQQ: position=-1366.0, protective_qty=1366.0
2025-06-12 15:35:37,789 - UnifiedFillManager - INFO - Checking protective orders to update for SQQQ
2025-06-12 15:35:37,789 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:35:37,789 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:35:37,790 - src.order.base - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:35:37,790 - src.order.base - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a status changed: accepted -> submitted (IB status: Submitted)
2025-06-12 15:35:37,807 - src.order.base - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a status changed: submitted -> filled (Order fully filled)
2025-06-12 15:35:37,808 - src.tws_connection - INFO - Open Order - ID: 67, Symbol: SQQQ, Action: SELL, Quantity: 1366.0
2025-06-12 15:35:37,808 - src.order.base - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a filled: 66.0 @ 21.95 (1366.0/1366)
2025-06-12 15:35:37,808 - src.tws_connection - INFO - Open Order - ID: 67, Symbol: SQQQ, Action: SELL, Quantity: 1366.0
2025-06-12 15:35:37,809 - UnifiedFillManager - INFO - Processing fill for SQQQ: 66.0 shares on order c97be150-7ae9-45f9-a286-11bf3853316a
2025-06-12 15:35:37,809 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:35:37,809 - UnifiedFillManager - INFO - Order c97be150-7ae9-45f9-a286-11bf3853316a fill status: filled, is_fully_filled: True
2025-06-12 15:35:37,809 - UnifiedFillManager - INFO - Main order filled for SQQQ
2025-06-12 15:35:37,809 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:35:37,810 - UnifiedFillManager - INFO -   Main orders: {'c97be150-7ae9-45f9-a286-11bf3853316a'}
2025-06-12 15:35:37,810 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:35:37,810 - src.tws_connection - INFO - Open Order - ID: 67, Symbol: SQQQ, Action: SELL, Quantity: 1366.0
2025-06-12 15:35:37,811 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:35:37,811 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:35:37,811 - UnifiedFillManager - INFO -   Current position size: -1366.0
2025-06-12 15:35:37,811 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -1366.0
2025-06-12 15:35:37,811 - UnifiedFillManager - INFO - Updating protective orders for SQQQ: position=-1366.0, protective_qty=1366.0
2025-06-12 15:35:37,811 - UnifiedFillManager - INFO - Checking protective orders to update for SQQQ
2025-06-12 15:35:37,812 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:35:37,812 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:35:37,812 - src.tws_connection - INFO - Open Order - ID: 67, Symbol: SQQQ, Action: SELL, Quantity: 1366.0
2025-06-12 15:35:38,023 - src.rule.linked_order_actions - INFO - ATR for SQQQ: 0.0143
2025-06-12 15:35:38,024 - src.rule.linked_order_actions - INFO - ATR-based stop: SQQQ stop at $22.05 (ATR: 0.0143 * 6.5 = 0.0929)
2025-06-12 15:35:38,024 - src.order.base - INFO - Order 90be3b49-f32e-4789-998c-e2cd075ea156 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:35:38,024 - src.order.manager - INFO - Submitting order 90be3b49-f32e-4789-998c-e2cd075ea156 to TWS
2025-06-12 15:35:38,024 - src.order.manager - INFO - Got broker order ID 68 for order 90be3b49-f32e-4789-998c-e2cd075ea156
2025-06-12 15:35:38,025 - src.order.manager - INFO - Calling placeOrder with ID 68, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 1366@0.000000 DAY
2025-06-12 15:35:38,025 - src.order.manager - INFO - placeOrder called successfully for order 90be3b49-f32e-4789-998c-e2cd075ea156
2025-06-12 15:35:38,025 - src.order.base - INFO - Order 90be3b49-f32e-4789-998c-e2cd075ea156 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:35:38,025 - src.position.position_manager - INFO - Added 1 stop orders to SQQQ position
2025-06-12 15:35:38,025 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss 90be3b49-f32e-4789-998c-e2cd075ea156 at $22.05
2025-06-12 15:35:38,025 - src.rule.linked_order_actions - INFO - ATR-based target: SQQQ target at $21.92 (ATR: 0.0143 * 3.0 = 0.0429)
2025-06-12 15:35:38,025 - src.order.base - INFO - Order f37f8c2e-c440-4690-ba5d-a46195b56c51 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:35:38,025 - src.order.manager - INFO - Submitting order f37f8c2e-c440-4690-ba5d-a46195b56c51 to TWS
2025-06-12 15:35:38,026 - src.order.manager - INFO - Got broker order ID 69 for order f37f8c2e-c440-4690-ba5d-a46195b56c51
2025-06-12 15:35:38,026 - src.order.manager - INFO - Calling placeOrder with ID 69, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1366@21.920000 DAY
2025-06-12 15:35:38,026 - src.order.manager - INFO - placeOrder called successfully for order f37f8c2e-c440-4690-ba5d-a46195b56c51
2025-06-12 15:35:38,026 - src.order.base - INFO - Order f37f8c2e-c440-4690-ba5d-a46195b56c51 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:35:38,026 - src.position.position_manager - INFO - Added 1 target orders to SQQQ position
2025-06-12 15:35:38,027 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit f37f8c2e-c440-4690-ba5d-a46195b56c51 at $21.92
2025-06-12 15:35:38,027 - src.rule.linked_order_actions - INFO - Starting double down order creation for SQQQ
2025-06-12 15:35:38,028 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.88)
2025-06-12 15:35:38,101 - src.tws_connection - INFO - Open Order - ID: 68, Symbol: SQQQ, Action: BUY, Quantity: 1366.0
2025-06-12 15:35:38,103 - src.order.base - INFO - Order 90be3b49-f32e-4789-998c-e2cd075ea156 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:35:38,148 - src.tws_connection - INFO - Open Order - ID: 69, Symbol: SQQQ, Action: BUY, Quantity: 1366.0
2025-06-12 15:35:38,538 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SQQQ: ['90be3b49-f32e-4789-998c-e2cd075ea156']
2025-06-12 15:35:38,538 - src.rule.linked_order_actions - INFO - Executing double down action for SQQQ
2025-06-12 15:35:39,214 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SQQQ: 0.0929
2025-06-12 15:35:39,214 - src.rule.linked_order_actions - INFO - Double down calc for SQQQ (SELL): current=$21.95, stop_distance=$0.09, dd_distance=$0.05, dd_price=$22.00, original_qty=1366, dd_qty=-1366
2025-06-12 15:35:39,215 - src.order.base - INFO - Order 8e0269a4-4131-4675-b7f7-eb323cb13705 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:35:39,215 - src.order.manager - INFO - Submitting order 8e0269a4-4131-4675-b7f7-eb323cb13705 to TWS
2025-06-12 15:35:39,216 - src.order.manager - INFO - Got broker order ID 70 for order 8e0269a4-4131-4675-b7f7-eb323cb13705
2025-06-12 15:35:39,216 - src.order.manager - INFO - Calling placeOrder with ID 70, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1366@22.000000 DAY
2025-06-12 15:35:39,216 - src.order.manager - INFO - placeOrder called successfully for order 8e0269a4-4131-4675-b7f7-eb323cb13705
2025-06-12 15:35:39,216 - src.order.base - INFO - Order 8e0269a4-4131-4675-b7f7-eb323cb13705 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:35:39,216 - src.position.position_manager - INFO - Added 1 doubledown orders to SQQQ position
2025-06-12 15:35:39,216 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for SQQQ: -1366 shares @ $22.00
2025-06-12 15:35:39,217 - src.rule.linked_order_actions - INFO - Auto-created double down order for SQQQ
2025-06-12 15:35:39,217 - src.rule.linked_order_actions - INFO - Created and linked SELL main order c97be150-7ae9-45f9-a286-11bf3853316a for SQQQ
2025-06-12 15:35:39,218 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.81)
2025-06-12 15:35:39,316 - src.tws_connection - INFO - Open Order - ID: 70, Symbol: SQQQ, Action: SELL, Quantity: 1366.0
2025-06-12 15:35:39,847 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.94)
2025-06-12 15:36:20,205 - __main__ - INFO - 💰 Current positions: 0
2025-06-12 15:36:20,206 - __main__ - INFO - 💰 Total value: $0.00
2025-06-12 15:36:20,207 - __main__ - INFO - 💰 Unrealized P&L: $0.00
2025-06-12 15:36:40,401 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.84)
2025-06-12 15:36:40,721 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.95)
2025-06-12 15:36:40,983 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.91)
2025-06-12 15:36:41,229 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.86)
2025-06-12 15:36:41,485 - src.api.monitor - INFO - New prediction: SQQQ SELL (0.54)
2025-06-12 15:36:41,728 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.91)
2025-06-12 15:36:42,007 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.85)
2025-06-12 15:36:42,295 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.93)
2025-06-12 15:37:42,741 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.78)
2025-06-12 15:37:43,319 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.90)
2025-06-12 15:37:44,062 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.96)
2025-06-12 15:37:45,487 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.95)
2025-06-12 15:37:46,624 - src.api.monitor - INFO - New prediction: SQQQ SELL (0.74)
2025-06-12 15:37:47,667 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.92)
2025-06-12 15:37:48,298 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.81)
2025-06-12 15:37:48,975 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.94)
2025-06-12 15:38:49,890 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.74)
2025-06-12 15:38:50,459 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.81)
2025-06-12 15:38:51,087 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.97)
2025-06-12 15:38:51,999 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.86)
2025-06-12 15:38:52,694 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.72)
2025-06-12 15:38:53,297 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.88)
2025-06-12 15:38:54,505 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.73)
2025-06-12 15:38:55,597 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.82)
2025-06-12 15:39:56,294 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.67)
2025-06-12 15:39:56,615 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.88)
2025-06-12 15:39:56,895 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.97)
2025-06-12 15:39:57,181 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.87)
2025-06-12 15:39:57,533 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.78)
2025-06-12 15:39:58,191 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.84)
2025-06-12 15:39:58,834 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.80)
2025-06-12 15:39:59,500 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.90)
2025-06-12 15:40:59,911 - src.api.monitor - INFO - New prediction: UVXY BUY (0.64)
2025-06-12 15:40:59,912 - src.trade_tracker - INFO - Started tracking BUY trade for UVXY
2025-06-12 15:40:59,913 - src.position.position_manager - INFO - Opened BUY position for UVXY
2025-06-12 15:41:00,260 - src.position.sizer - INFO - BUY position size: 1450 shares @ $20.68 = $29986.00 (100.0% of $30000.00 allocation)
2025-06-12 15:41:00,261 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:41:00,262 - src.order.manager - INFO - Submitting order e1e2faae-a520-44cc-ad0c-c83ab5739ead to TWS
2025-06-12 15:41:00,262 - src.order.manager - INFO - Got broker order ID 71 for order e1e2faae-a520-44cc-ad0c-c83ab5739ead
2025-06-12 15:41:00,262 - src.order.manager - INFO - Calling placeOrder with ID 71, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 1450@0.000000 DAY
2025-06-12 15:41:00,263 - src.order.manager - INFO - placeOrder called successfully for order e1e2faae-a520-44cc-ad0c-c83ab5739ead
2025-06-12 15:41:00,263 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:41:00,263 - src.position.position_manager - INFO - Added 1 main orders to UVXY position
2025-06-12 15:41:00,264 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.89)
2025-06-12 15:41:00,365 - src.tws_connection - INFO - Open Order - ID: 71, Symbol: UVXY, Action: BUY, Quantity: 1450.0
2025-06-12 15:41:00,367 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:41:00,401 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:41:00,402 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead filled: 300.0 @ 20.68 (300.0/1450)
2025-06-12 15:41:00,403 - UnifiedFillManager - INFO - Processing fill for UVXY: 300.0 shares on order e1e2faae-a520-44cc-ad0c-c83ab5739ead
2025-06-12 15:41:00,402 - src.tws_connection - INFO - Open Order - ID: 71, Symbol: UVXY, Action: BUY, Quantity: 1450.0
2025-06-12 15:41:00,403 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:41:00,405 - UnifiedFillManager - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead fill status: partially_filled, is_fully_filled: False
2025-06-12 15:41:00,404 - src.tws_connection - INFO - Open Order - ID: 71, Symbol: UVXY, Action: BUY, Quantity: 1450.0
2025-06-12 15:41:00,405 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 15:41:00,407 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:41:00,406 - src.tws_connection - INFO - Open Order - ID: 71, Symbol: UVXY, Action: BUY, Quantity: 1450.0
2025-06-12 15:41:00,407 - UnifiedFillManager - INFO -   Main orders: {'e1e2faae-a520-44cc-ad0c-c83ab5739ead'}
2025-06-12 15:41:00,408 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:41:00,408 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:41:00,408 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:41:00,408 - UnifiedFillManager - INFO -   Current position size: 1450.0
2025-06-12 15:41:00,409 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1450.0
2025-06-12 15:41:00,409 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1450.0, protective_qty=-1450.0
2025-06-12 15:41:00,409 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:41:00,409 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:41:00,409 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:41:00,410 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:41:00,410 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead status changed: accepted -> submitted (IB status: Submitted)
2025-06-12 15:41:00,589 - src.rule.linked_order_actions - INFO - ATR for UVXY: 0.0136
2025-06-12 15:41:00,590 - src.rule.linked_order_actions - INFO - ATR-based stop: UVXY stop at $20.59 (ATR: 0.0136 * 6.5 = 0.0882)
2025-06-12 15:41:00,590 - src.order.base - INFO - Order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:41:00,590 - src.order.manager - INFO - Submitting order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c to TWS
2025-06-12 15:41:00,591 - src.order.manager - INFO - Got broker order ID 72 for order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c
2025-06-12 15:41:00,591 - src.order.manager - INFO - Calling placeOrder with ID 72, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 1450@0.000000 DAY
2025-06-12 15:41:00,591 - src.order.manager - INFO - placeOrder called successfully for order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c
2025-06-12 15:41:00,592 - src.order.base - INFO - Order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:41:00,592 - src.position.position_manager - INFO - Added 1 stop orders to UVXY position
2025-06-12 15:41:00,592 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c at $20.59
2025-06-12 15:41:00,593 - src.rule.linked_order_actions - INFO - ATR-based target: UVXY target at $20.72 (ATR: 0.0136 * 3.0 = 0.0407)
2025-06-12 15:41:00,593 - src.order.base - INFO - Order 72651465-1f9b-47c0-a6f8-a426323528da status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:41:00,593 - src.order.manager - INFO - Submitting order 72651465-1f9b-47c0-a6f8-a426323528da to TWS
2025-06-12 15:41:00,594 - src.order.manager - INFO - Got broker order ID 73 for order 72651465-1f9b-47c0-a6f8-a426323528da
2025-06-12 15:41:00,594 - src.order.manager - INFO - Calling placeOrder with ID 73, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1450@20.720000 DAY
2025-06-12 15:41:00,594 - src.order.manager - INFO - placeOrder called successfully for order 72651465-1f9b-47c0-a6f8-a426323528da
2025-06-12 15:41:00,594 - src.order.base - INFO - Order 72651465-1f9b-47c0-a6f8-a426323528da status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:41:00,595 - src.position.position_manager - INFO - Added 1 target orders to UVXY position
2025-06-12 15:41:00,595 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit 72651465-1f9b-47c0-a6f8-a426323528da at $20.72
2025-06-12 15:41:00,595 - src.rule.linked_order_actions - INFO - Starting double down order creation for UVXY
2025-06-12 15:41:00,639 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.96)
2025-06-12 15:41:00,659 - src.tws_connection - INFO - Open Order - ID: 72, Symbol: UVXY, Action: SELL, Quantity: 1450.0
2025-06-12 15:41:00,660 - src.order.base - INFO - Order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:41:00,714 - src.tws_connection - INFO - Open Order - ID: 73, Symbol: UVXY, Action: SELL, Quantity: 1450.0
2025-06-12 15:41:00,807 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:41:00,807 - src.tws_connection - INFO - Open Order - ID: 71, Symbol: UVXY, Action: BUY, Quantity: 1450.0
2025-06-12 15:41:00,807 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead filled: 400.0 @ 20.68 (700.0/1450)
2025-06-12 15:41:00,808 - UnifiedFillManager - INFO - Processing fill for UVXY: 400.0 shares on order e1e2faae-a520-44cc-ad0c-c83ab5739ead
2025-06-12 15:41:00,808 - src.tws_connection - INFO - Open Order - ID: 71, Symbol: UVXY, Action: BUY, Quantity: 1450.0
2025-06-12 15:41:00,809 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:41:00,809 - UnifiedFillManager - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead fill status: partially_filled, is_fully_filled: False
2025-06-12 15:41:00,809 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 15:41:00,809 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:41:00,810 - UnifiedFillManager - INFO -   Main orders: {'e1e2faae-a520-44cc-ad0c-c83ab5739ead'}
2025-06-12 15:41:00,810 - UnifiedFillManager - INFO -   Stop orders: {'d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c'}
2025-06-12 15:41:00,810 - UnifiedFillManager - INFO -   Target orders: {'72651465-1f9b-47c0-a6f8-a426323528da'}
2025-06-12 15:41:00,810 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:41:00,810 - UnifiedFillManager - INFO -   Current position size: 1450.0
2025-06-12 15:41:00,811 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1450.0
2025-06-12 15:41:00,811 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1450.0, protective_qty=-1450.0
2025-06-12 15:41:00,811 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:41:00,811 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:41:00,811 - UnifiedFillManager - INFO - Stop order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c already has correct quantity -1450, no update needed
2025-06-12 15:41:00,811 - UnifiedFillManager - INFO - Checking 1 target orders
2025-06-12 15:41:00,812 - UnifiedFillManager - INFO - Target order 72651465-1f9b-47c0-a6f8-a426323528da already has correct quantity -1450, no update needed
2025-06-12 15:41:00,812 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:41:01,098 - src.rule.linked_order_actions - INFO - Found 1 stop orders for UVXY: ['d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c']
2025-06-12 15:41:01,098 - src.rule.linked_order_actions - INFO - Executing double down action for UVXY
2025-06-12 15:41:01,567 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for UVXY: 0.0882
2025-06-12 15:41:01,567 - src.rule.linked_order_actions - INFO - Double down calc for UVXY (BUY): current=$20.68, stop_distance=$0.09, dd_distance=$0.04, dd_price=$20.64, original_qty=1450, dd_qty=1450
2025-06-12 15:41:01,567 - src.tws_connection - INFO - Open Order - ID: 71, Symbol: UVXY, Action: BUY, Quantity: 1450.0
2025-06-12 15:41:01,568 - src.order.base - INFO - Order 4c86351e-3d1f-4759-b95e-e8935f2ed1b8 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:41:01,568 - src.order.manager - INFO - Submitting order 4c86351e-3d1f-4759-b95e-e8935f2ed1b8 to TWS
2025-06-12 15:41:01,568 - src.tws_connection - INFO - Open Order - ID: 71, Symbol: UVXY, Action: BUY, Quantity: 1450.0
2025-06-12 15:41:01,569 - src.order.manager - INFO - Got broker order ID 74 for order 4c86351e-3d1f-4759-b95e-e8935f2ed1b8
2025-06-12 15:41:01,569 - src.order.manager - INFO - Calling placeOrder with ID 74, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1450@20.640000 DAY
2025-06-12 15:41:01,569 - src.order.manager - INFO - placeOrder called successfully for order 4c86351e-3d1f-4759-b95e-e8935f2ed1b8
2025-06-12 15:41:01,569 - src.order.base - INFO - Order 4c86351e-3d1f-4759-b95e-e8935f2ed1b8 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:41:01,570 - src.position.position_manager - INFO - Added 1 doubledown orders to UVXY position
2025-06-12 15:41:01,570 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for UVXY: 1450 shares @ $20.64
2025-06-12 15:41:01,570 - src.rule.linked_order_actions - INFO - Auto-created double down order for UVXY
2025-06-12 15:41:01,570 - src.rule.linked_order_actions - INFO - Created and linked BUY main order e1e2faae-a520-44cc-ad0c-c83ab5739ead for UVXY
2025-06-12 15:41:01,571 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:41:01,571 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead filled: 300.0 @ 20.68 (1000.0/1450)
2025-06-12 15:41:01,571 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:41:01,572 - src.api.monitor - INFO - New prediction: SOXL SELL (0.54)
2025-06-12 15:41:01,572 - UnifiedFillManager - INFO - Processing fill for UVXY: 300.0 shares on order e1e2faae-a520-44cc-ad0c-c83ab5739ead
2025-06-12 15:41:01,572 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:41:01,572 - UnifiedFillManager - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead fill status: partially_filled, is_fully_filled: False
2025-06-12 15:41:01,573 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 15:41:01,573 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:41:01,573 - UnifiedFillManager - INFO -   Main orders: {'e1e2faae-a520-44cc-ad0c-c83ab5739ead'}
2025-06-12 15:41:01,573 - UnifiedFillManager - INFO -   Stop orders: {'d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c'}
2025-06-12 15:41:01,573 - UnifiedFillManager - INFO -   Target orders: {'72651465-1f9b-47c0-a6f8-a426323528da'}
2025-06-12 15:41:01,573 - UnifiedFillManager - INFO -   Double down orders: {'4c86351e-3d1f-4759-b95e-e8935f2ed1b8'}
2025-06-12 15:41:01,573 - UnifiedFillManager - INFO -   Current position size: 1450.0
2025-06-12 15:41:01,573 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1450.0
2025-06-12 15:41:01,573 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1450.0, protective_qty=-1450.0
2025-06-12 15:41:01,573 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:41:01,574 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:41:01,574 - UnifiedFillManager - INFO - Stop order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c already has correct quantity -1450, no update needed
2025-06-12 15:41:01,574 - UnifiedFillManager - INFO - Checking 1 target orders
2025-06-12 15:41:01,574 - UnifiedFillManager - INFO - Target order 72651465-1f9b-47c0-a6f8-a426323528da already has correct quantity -1450, no update needed
2025-06-12 15:41:01,575 - src.trade_tracker - INFO - Started tracking SELL trade for SOXL
2025-06-12 15:41:01,575 - src.position.position_manager - INFO - Opened SELL position for SOXL
2025-06-12 15:41:01,688 - src.tws_connection - INFO - Open Order - ID: 74, Symbol: UVXY, Action: BUY, Quantity: 1450.0
2025-06-12 15:41:02,886 - src.position.sizer - INFO - SELL position size: 1382 shares @ $21.70 = $29989.40 (100.0% of $30000.00 allocation)
2025-06-12 15:41:02,887 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:41:02,887 - src.order.manager - INFO - Submitting order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 to TWS
2025-06-12 15:41:02,887 - src.order.manager - INFO - Got broker order ID 75 for order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41
2025-06-12 15:41:02,888 - src.order.manager - INFO - Calling placeOrder with ID 75, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 1382@0.000000 DAY
2025-06-12 15:41:02,888 - src.order.manager - INFO - placeOrder called successfully for order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41
2025-06-12 15:41:02,889 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:41:02,889 - src.position.position_manager - INFO - Added 1 main orders to SOXL position
2025-06-12 15:41:02,890 - src.api.monitor - INFO - New prediction: SQQQ SELL (0.56)
2025-06-12 15:41:02,984 - src.tws_connection - INFO - Open Order - ID: 75, Symbol: SOXL, Action: SELL, Quantity: 1382.0
2025-06-12 15:41:02,985 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:41:02,990 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:41:02,990 - src.tws_connection - INFO - Open Order - ID: 75, Symbol: SOXL, Action: SELL, Quantity: 1382.0
2025-06-12 15:41:02,990 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 filled: 600.0 @ 21.69 (600.0/1382)
2025-06-12 15:41:02,992 - UnifiedFillManager - INFO - Processing fill for SOXL: 600.0 shares on order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41
2025-06-12 15:41:02,992 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:41:02,992 - UnifiedFillManager - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:41:02,992 - UnifiedFillManager - INFO - Main order filled for SOXL
2025-06-12 15:41:02,993 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:41:02,992 - src.tws_connection - INFO - Open Order - ID: 75, Symbol: SOXL, Action: SELL, Quantity: 1382.0
2025-06-12 15:41:02,993 - UnifiedFillManager - INFO -   Main orders: {'6bc010f6-d0c9-4d71-a32a-a7e3970deb41'}
2025-06-12 15:41:02,993 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:41:02,993 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:41:02,993 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:41:02,993 - UnifiedFillManager - INFO -   Current position size: -1382.0
2025-06-12 15:41:02,994 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -1382.0
2025-06-12 15:41:02,994 - UnifiedFillManager - INFO - Updating protective orders for SOXL: position=-1382.0, protective_qty=1382.0
2025-06-12 15:41:02,994 - UnifiedFillManager - INFO - Checking protective orders to update for SOXL
2025-06-12 15:41:02,994 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:41:02,994 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:41:02,994 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:41:02,994 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:41:02,995 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 filled: 500.0 @ 21.69 (1100.0/1382)
2025-06-12 15:41:02,995 - UnifiedFillManager - INFO - Processing fill for SOXL: 500.0 shares on order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41
2025-06-12 15:41:02,995 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:41:02,995 - UnifiedFillManager - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:41:02,995 - UnifiedFillManager - INFO - Main order filled for SOXL
2025-06-12 15:41:02,996 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:41:02,996 - UnifiedFillManager - INFO -   Main orders: {'6bc010f6-d0c9-4d71-a32a-a7e3970deb41'}
2025-06-12 15:41:02,996 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:41:02,996 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:41:02,997 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:41:02,997 - UnifiedFillManager - INFO -   Current position size: -1382.0
2025-06-12 15:41:02,997 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -1382.0
2025-06-12 15:41:02,996 - src.tws_connection - INFO - Open Order - ID: 75, Symbol: SOXL, Action: SELL, Quantity: 1382.0
2025-06-12 15:41:02,997 - UnifiedFillManager - INFO - Updating protective orders for SOXL: position=-1382.0, protective_qty=1382.0
2025-06-12 15:41:02,998 - UnifiedFillManager - INFO - Checking protective orders to update for SOXL
2025-06-12 15:41:02,998 - src.tws_connection - INFO - Open Order - ID: 75, Symbol: SOXL, Action: SELL, Quantity: 1382.0
2025-06-12 15:41:02,998 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:41:02,999 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:41:02,999 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:41:03,000 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:41:02,999 - src.tws_connection - INFO - Open Order - ID: 75, Symbol: SOXL, Action: SELL, Quantity: 1382.0
2025-06-12 15:41:03,000 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 filled: 200.0 @ 21.69 (1300.0/1382)
2025-06-12 15:41:03,002 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:41:03,002 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 status changed: accepted -> filled (Order fully filled)
2025-06-12 15:41:03,002 - src.order.base - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 filled: 82.0 @ 21.69 (1382.0/1382)
2025-06-12 15:41:03,002 - UnifiedFillManager - INFO - Processing fill for SOXL: 200.0 shares on order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41
2025-06-12 15:41:03,003 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:41:03,003 - UnifiedFillManager - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:41:03,003 - UnifiedFillManager - INFO - Main order filled for SOXL
2025-06-12 15:41:03,003 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:41:03,003 - UnifiedFillManager - INFO -   Main orders: {'6bc010f6-d0c9-4d71-a32a-a7e3970deb41'}
2025-06-12 15:41:03,003 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:41:03,003 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:41:03,003 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:41:03,004 - UnifiedFillManager - INFO -   Current position size: -1382.0
2025-06-12 15:41:03,004 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -1382.0
2025-06-12 15:41:03,004 - UnifiedFillManager - INFO - Updating protective orders for SOXL: position=-1382.0, protective_qty=1382.0
2025-06-12 15:41:03,004 - UnifiedFillManager - INFO - Checking protective orders to update for SOXL
2025-06-12 15:41:03,004 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:41:03,004 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:41:03,005 - UnifiedFillManager - INFO - Processing fill for SOXL: 82.0 shares on order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41
2025-06-12 15:41:03,006 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:41:03,006 - UnifiedFillManager - INFO - Order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 fill status: filled, is_fully_filled: True
2025-06-12 15:41:03,007 - UnifiedFillManager - INFO - Main order filled for SOXL
2025-06-12 15:41:03,007 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:41:03,007 - UnifiedFillManager - INFO -   Main orders: {'6bc010f6-d0c9-4d71-a32a-a7e3970deb41'}
2025-06-12 15:41:03,007 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:41:03,007 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:41:03,007 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:41:03,008 - UnifiedFillManager - INFO -   Current position size: -1382.0
2025-06-12 15:41:03,008 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -1382.0
2025-06-12 15:41:03,008 - UnifiedFillManager - INFO - Updating protective orders for SOXL: position=-1382.0, protective_qty=1382.0
2025-06-12 15:41:03,008 - UnifiedFillManager - INFO - Checking protective orders to update for SOXL
2025-06-12 15:41:03,008 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:41:03,008 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:41:03,024 - src.tws_connection - INFO - Open Order - ID: 75, Symbol: SOXL, Action: SELL, Quantity: 1382.0
2025-06-12 15:41:03,025 - src.tws_connection - INFO - Open Order - ID: 75, Symbol: SOXL, Action: SELL, Quantity: 1382.0
2025-06-12 15:41:03,026 - src.tws_connection - INFO - Open Order - ID: 75, Symbol: SOXL, Action: SELL, Quantity: 1382.0
2025-06-12 15:41:03,268 - src.tws_connection - INFO - Open Order - ID: 71, Symbol: UVXY, Action: BUY, Quantity: 1450.0
2025-06-12 15:41:03,303 - src.rule.linked_order_actions - INFO - ATR for SOXL: 0.0186
2025-06-12 15:41:03,303 - src.tws_connection - INFO - Open Order - ID: 71, Symbol: UVXY, Action: BUY, Quantity: 1450.0
2025-06-12 15:41:03,304 - src.rule.linked_order_actions - INFO - ATR-based stop: SOXL stop at $21.82 (ATR: 0.0186 * 6.5 = 0.1207)
2025-06-12 15:41:03,304 - src.tws_connection - INFO - Open Order - ID: 71, Symbol: UVXY, Action: BUY, Quantity: 1450.0
2025-06-12 15:41:03,305 - src.order.base - INFO - Order 384b1c61-fd7f-49e1-8067-098b1256fdb5 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:41:03,306 - src.order.manager - INFO - Submitting order 384b1c61-fd7f-49e1-8067-098b1256fdb5 to TWS
2025-06-12 15:41:03,305 - src.tws_connection - INFO - Open Order - ID: 71, Symbol: UVXY, Action: BUY, Quantity: 1450.0
2025-06-12 15:41:03,306 - src.order.manager - INFO - Got broker order ID 76 for order 384b1c61-fd7f-49e1-8067-098b1256fdb5
2025-06-12 15:41:03,306 - src.order.manager - INFO - Calling placeOrder with ID 76, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 1382@0.000000 DAY
2025-06-12 15:41:03,306 - src.order.manager - INFO - placeOrder called successfully for order 384b1c61-fd7f-49e1-8067-098b1256fdb5
2025-06-12 15:41:03,307 - src.order.base - INFO - Order 384b1c61-fd7f-49e1-8067-098b1256fdb5 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:41:03,307 - src.position.position_manager - INFO - Added 1 stop orders to SOXL position
2025-06-12 15:41:03,307 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss 384b1c61-fd7f-49e1-8067-098b1256fdb5 at $21.82
2025-06-12 15:41:03,307 - src.rule.linked_order_actions - INFO - ATR-based target: SOXL target at $21.64 (ATR: 0.0186 * 3.0 = 0.0557)
2025-06-12 15:41:03,308 - src.order.base - INFO - Order 283dfb40-35b6-4567-aadd-34f4aac0817d status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:41:03,308 - src.order.manager - INFO - Submitting order 283dfb40-35b6-4567-aadd-34f4aac0817d to TWS
2025-06-12 15:41:03,308 - src.order.manager - INFO - Got broker order ID 77 for order 283dfb40-35b6-4567-aadd-34f4aac0817d
2025-06-12 15:41:03,308 - src.order.manager - INFO - Calling placeOrder with ID 77, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1382@21.640000 DAY
2025-06-12 15:41:03,309 - src.order.manager - INFO - placeOrder called successfully for order 283dfb40-35b6-4567-aadd-34f4aac0817d
2025-06-12 15:41:03,309 - src.order.base - INFO - Order 283dfb40-35b6-4567-aadd-34f4aac0817d status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:41:03,309 - src.position.position_manager - INFO - Added 1 target orders to SOXL position
2025-06-12 15:41:03,309 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit 283dfb40-35b6-4567-aadd-34f4aac0817d at $21.64
2025-06-12 15:41:03,309 - src.rule.linked_order_actions - INFO - Starting double down order creation for SOXL
2025-06-12 15:41:03,309 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:41:03,310 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead filled: 400.0 @ 20.68 (1400.0/1450)
2025-06-12 15:41:03,310 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:41:03,310 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead status changed: submitted -> filled (Order fully filled)
2025-06-12 15:41:03,310 - src.order.base - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead filled: 50.0 @ 20.68 (1450.0/1450)
2025-06-12 15:41:03,310 - UnifiedFillManager - INFO - Processing fill for UVXY: 400.0 shares on order e1e2faae-a520-44cc-ad0c-c83ab5739ead
2025-06-12 15:41:03,310 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:41:03,311 - UnifiedFillManager - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead fill status: partially_filled, is_fully_filled: False
2025-06-12 15:41:03,311 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 15:41:03,311 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:41:03,311 - UnifiedFillManager - INFO -   Main orders: {'e1e2faae-a520-44cc-ad0c-c83ab5739ead'}
2025-06-12 15:41:03,311 - UnifiedFillManager - INFO -   Stop orders: {'d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c'}
2025-06-12 15:41:03,311 - UnifiedFillManager - INFO -   Target orders: {'72651465-1f9b-47c0-a6f8-a426323528da'}
2025-06-12 15:41:03,311 - UnifiedFillManager - INFO -   Double down orders: {'4c86351e-3d1f-4759-b95e-e8935f2ed1b8'}
2025-06-12 15:41:03,311 - UnifiedFillManager - INFO -   Current position size: 1450.0
2025-06-12 15:41:03,311 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1450.0
2025-06-12 15:41:03,311 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1450.0, protective_qty=-1450.0
2025-06-12 15:41:03,312 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:41:03,312 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:41:03,312 - UnifiedFillManager - INFO - Stop order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c already has correct quantity -1450, no update needed
2025-06-12 15:41:03,312 - UnifiedFillManager - INFO - Checking 1 target orders
2025-06-12 15:41:03,312 - UnifiedFillManager - INFO - Target order 72651465-1f9b-47c0-a6f8-a426323528da already has correct quantity -1450, no update needed
2025-06-12 15:41:03,312 - UnifiedFillManager - INFO - Processing fill for UVXY: 50.0 shares on order e1e2faae-a520-44cc-ad0c-c83ab5739ead
2025-06-12 15:41:03,312 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:41:03,312 - UnifiedFillManager - INFO - Order e1e2faae-a520-44cc-ad0c-c83ab5739ead fill status: filled, is_fully_filled: True
2025-06-12 15:41:03,312 - UnifiedFillManager - INFO - Main order filled for UVXY
2025-06-12 15:41:03,312 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:41:03,312 - UnifiedFillManager - INFO -   Main orders: {'e1e2faae-a520-44cc-ad0c-c83ab5739ead'}
2025-06-12 15:41:03,313 - UnifiedFillManager - INFO -   Stop orders: {'d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c'}
2025-06-12 15:41:03,313 - UnifiedFillManager - INFO -   Target orders: {'72651465-1f9b-47c0-a6f8-a426323528da'}
2025-06-12 15:41:03,313 - UnifiedFillManager - INFO -   Double down orders: {'4c86351e-3d1f-4759-b95e-e8935f2ed1b8'}
2025-06-12 15:41:03,313 - UnifiedFillManager - INFO -   Current position size: 1450.0
2025-06-12 15:41:03,313 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1450.0
2025-06-12 15:41:03,313 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=1450.0, protective_qty=-1450.0
2025-06-12 15:41:03,313 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:41:03,313 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:41:03,313 - UnifiedFillManager - INFO - Stop order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c already has correct quantity -1450, no update needed
2025-06-12 15:41:03,313 - UnifiedFillManager - INFO - Checking 1 target orders
2025-06-12 15:41:03,313 - UnifiedFillManager - INFO - Target order 72651465-1f9b-47c0-a6f8-a426323528da already has correct quantity -1450, no update needed
2025-06-12 15:41:03,384 - src.tws_connection - INFO - Open Order - ID: 76, Symbol: SOXL, Action: BUY, Quantity: 1382.0
2025-06-12 15:41:03,385 - src.order.base - INFO - Order 384b1c61-fd7f-49e1-8067-098b1256fdb5 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:41:03,432 - src.tws_connection - INFO - Open Order - ID: 77, Symbol: SOXL, Action: BUY, Quantity: 1382.0
2025-06-12 15:41:03,824 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SOXL: ['384b1c61-fd7f-49e1-8067-098b1256fdb5']
2025-06-12 15:41:03,825 - src.rule.linked_order_actions - INFO - Executing double down action for SOXL
2025-06-12 15:41:03,828 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.84)
2025-06-12 15:41:04,224 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SOXL: 0.1207
2025-06-12 15:41:04,224 - src.rule.linked_order_actions - INFO - Double down calc for SOXL (SELL): current=$21.70, stop_distance=$0.12, dd_distance=$0.06, dd_price=$21.76, original_qty=1382, dd_qty=-1382
2025-06-12 15:41:04,224 - src.order.base - INFO - Order ff401c88-5b46-4b23-906b-a8755bd85d73 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:41:04,224 - src.order.manager - INFO - Submitting order ff401c88-5b46-4b23-906b-a8755bd85d73 to TWS
2025-06-12 15:41:04,225 - src.order.manager - INFO - Got broker order ID 78 for order ff401c88-5b46-4b23-906b-a8755bd85d73
2025-06-12 15:41:04,225 - src.order.manager - INFO - Calling placeOrder with ID 78, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1382@21.760000 DAY
2025-06-12 15:41:04,225 - src.order.manager - INFO - placeOrder called successfully for order ff401c88-5b46-4b23-906b-a8755bd85d73
2025-06-12 15:41:04,225 - src.order.base - INFO - Order ff401c88-5b46-4b23-906b-a8755bd85d73 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:41:04,225 - src.position.position_manager - INFO - Added 1 doubledown orders to SOXL position
2025-06-12 15:41:04,226 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for SOXL: -1382 shares @ $21.76
2025-06-12 15:41:04,226 - src.rule.linked_order_actions - INFO - Auto-created double down order for SOXL
2025-06-12 15:41:04,226 - src.rule.linked_order_actions - INFO - Created and linked SELL main order 6bc010f6-d0c9-4d71-a32a-a7e3970deb41 for SOXL
2025-06-12 15:41:04,228 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.78)
2025-06-12 15:41:04,229 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for SQQQ - already have active SELL trade
2025-06-12 15:41:04,328 - src.tws_connection - INFO - Open Order - ID: 78, Symbol: SOXL, Action: SELL, Quantity: 1382.0
2025-06-12 15:41:05,119 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.77)
2025-06-12 15:42:06,070 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.77)
2025-06-12 15:42:07,170 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.81)
2025-06-12 15:42:08,439 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.97)
2025-06-12 15:42:09,540 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.95)
2025-06-12 15:42:10,137 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.50)
2025-06-12 15:42:11,074 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.73)
2025-06-12 15:42:11,810 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.85)
2025-06-12 15:42:12,278 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.93)
2025-06-12 15:43:12,620 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.83)
2025-06-12 15:43:12,888 - src.api.monitor - INFO - New prediction: GLD SELL (0.88)
2025-06-12 15:43:12,890 - src.trade_tracker - INFO - Started tracking SELL trade for GLD
2025-06-12 15:43:12,890 - src.position.position_manager - INFO - Opened SELL position for GLD
2025-06-12 15:43:13,174 - src.position.sizer - INFO - SELL position size: 96 shares @ $312.08 = $29959.68 (99.9% of $30000.00 allocation)
2025-06-12 15:43:13,175 - src.order.base - INFO - Order ee856db0-685f-4778-a5d2-3b94c7b66b24 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:43:13,176 - src.order.manager - INFO - Submitting order ee856db0-685f-4778-a5d2-3b94c7b66b24 to TWS
2025-06-12 15:43:13,176 - src.order.manager - INFO - Got broker order ID 79 for order ee856db0-685f-4778-a5d2-3b94c7b66b24
2025-06-12 15:43:13,177 - src.order.manager - INFO - Calling placeOrder with ID 79, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 96@0.000000 DAY
2025-06-12 15:43:13,177 - src.order.manager - INFO - placeOrder called successfully for order ee856db0-685f-4778-a5d2-3b94c7b66b24
2025-06-12 15:43:13,177 - src.order.base - INFO - Order ee856db0-685f-4778-a5d2-3b94c7b66b24 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:43:13,178 - src.position.position_manager - INFO - Added 1 main orders to GLD position
2025-06-12 15:43:13,267 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.96)
2025-06-12 15:43:13,278 - src.tws_connection - INFO - Open Order - ID: 79, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:43:13,279 - src.order.base - INFO - Order ee856db0-685f-4778-a5d2-3b94c7b66b24 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:43:13,281 - src.order.base - INFO - Order ee856db0-685f-4778-a5d2-3b94c7b66b24 status changed: accepted -> filled (Order fully filled)
2025-06-12 15:43:13,282 - src.order.base - INFO - Order ee856db0-685f-4778-a5d2-3b94c7b66b24 filled: 96.0 @ 312.07 (96.0/96)
2025-06-12 15:43:13,282 - src.tws_connection - INFO - Open Order - ID: 79, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:43:13,282 - UnifiedFillManager - INFO - Processing fill for GLD: 96.0 shares on order ee856db0-685f-4778-a5d2-3b94c7b66b24
2025-06-12 15:43:13,284 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:43:13,283 - src.tws_connection - INFO - Open Order - ID: 79, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:43:13,285 - UnifiedFillManager - INFO - Order ee856db0-685f-4778-a5d2-3b94c7b66b24 fill status: filled, is_fully_filled: True
2025-06-12 15:43:13,286 - UnifiedFillManager - INFO - Main order filled for GLD
2025-06-12 15:43:13,287 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:43:13,287 - UnifiedFillManager - INFO -   Main orders: {'ee856db0-685f-4778-a5d2-3b94c7b66b24'}
2025-06-12 15:43:13,288 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:43:13,288 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:43:13,289 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:43:13,289 - UnifiedFillManager - INFO -   Current position size: -96.0
2025-06-12 15:43:13,289 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -96.0
2025-06-12 15:43:13,289 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=-96.0, protective_qty=96.0
2025-06-12 15:43:13,289 - UnifiedFillManager - INFO - Checking protective orders to update for GLD
2025-06-12 15:43:13,290 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:43:13,290 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:43:13,806 - src.rule.linked_order_actions - INFO - ATR for GLD: 0.0236
2025-06-12 15:43:13,806 - src.rule.linked_order_actions - INFO - ATR-based stop: GLD stop at $312.23 (ATR: 0.0236 * 6.5 = 0.1532)
2025-06-12 15:43:13,806 - src.order.base - INFO - Order e1a9bc60-d834-4f0f-a547-14ad873dbe34 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:43:13,806 - src.order.manager - INFO - Submitting order e1a9bc60-d834-4f0f-a547-14ad873dbe34 to TWS
2025-06-12 15:43:13,806 - src.order.manager - INFO - Got broker order ID 80 for order e1a9bc60-d834-4f0f-a547-14ad873dbe34
2025-06-12 15:43:13,807 - src.order.manager - INFO - Calling placeOrder with ID 80, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 96@0.000000 DAY
2025-06-12 15:43:13,807 - src.order.manager - INFO - placeOrder called successfully for order e1a9bc60-d834-4f0f-a547-14ad873dbe34
2025-06-12 15:43:13,807 - src.order.base - INFO - Order e1a9bc60-d834-4f0f-a547-14ad873dbe34 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:43:13,807 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-12 15:43:13,807 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss e1a9bc60-d834-4f0f-a547-14ad873dbe34 at $312.23
2025-06-12 15:43:13,807 - src.rule.linked_order_actions - INFO - ATR-based target: GLD target at $312.01 (ATR: 0.0236 * 3.0 = 0.0707)
2025-06-12 15:43:13,807 - src.order.base - INFO - Order 2d77a7e8-d755-462e-a762-139217df2606 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:43:13,808 - src.order.manager - INFO - Submitting order 2d77a7e8-d755-462e-a762-139217df2606 to TWS
2025-06-12 15:43:13,808 - src.order.manager - INFO - Got broker order ID 81 for order 2d77a7e8-d755-462e-a762-139217df2606
2025-06-12 15:43:13,808 - src.order.manager - INFO - Calling placeOrder with ID 81, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 96@312.010000 DAY
2025-06-12 15:43:13,808 - src.order.manager - INFO - placeOrder called successfully for order 2d77a7e8-d755-462e-a762-139217df2606
2025-06-12 15:43:13,808 - src.order.base - INFO - Order 2d77a7e8-d755-462e-a762-139217df2606 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:43:13,809 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-12 15:43:13,809 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit 2d77a7e8-d755-462e-a762-139217df2606 at $312.01
2025-06-12 15:43:13,809 - src.rule.linked_order_actions - INFO - Starting double down order creation for GLD
2025-06-12 15:43:13,810 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.93)
2025-06-12 15:43:13,885 - src.tws_connection - INFO - Open Order - ID: 80, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 15:43:13,886 - src.order.base - INFO - Order e1a9bc60-d834-4f0f-a547-14ad873dbe34 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:43:13,932 - src.tws_connection - INFO - Open Order - ID: 81, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 15:43:14,262 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.60)
2025-06-12 15:43:14,324 - src.rule.linked_order_actions - INFO - Found 1 stop orders for GLD: ['e1a9bc60-d834-4f0f-a547-14ad873dbe34']
2025-06-12 15:43:14,325 - src.rule.linked_order_actions - INFO - Executing double down action for GLD
2025-06-12 15:43:14,681 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for GLD: 0.1532
2025-06-12 15:43:14,681 - src.rule.linked_order_actions - INFO - Double down calc for GLD (SELL): current=$312.08, stop_distance=$0.15, dd_distance=$0.08, dd_price=$312.16, original_qty=96, dd_qty=-96
2025-06-12 15:43:14,682 - src.order.base - INFO - Order 1c355be0-bcfb-418a-92d7-522e2e4c4338 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:43:14,682 - src.order.manager - INFO - Submitting order 1c355be0-bcfb-418a-92d7-522e2e4c4338 to TWS
2025-06-12 15:43:14,683 - src.order.manager - INFO - Got broker order ID 82 for order 1c355be0-bcfb-418a-92d7-522e2e4c4338
2025-06-12 15:43:14,683 - src.order.manager - INFO - Calling placeOrder with ID 82, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 96@312.160000 DAY
2025-06-12 15:43:14,683 - src.order.manager - INFO - placeOrder called successfully for order 1c355be0-bcfb-418a-92d7-522e2e4c4338
2025-06-12 15:43:14,683 - src.order.base - INFO - Order 1c355be0-bcfb-418a-92d7-522e2e4c4338 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:43:14,683 - src.position.position_manager - INFO - Added 1 doubledown orders to GLD position
2025-06-12 15:43:14,684 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for GLD: -96 shares @ $312.16
2025-06-12 15:43:14,684 - src.rule.linked_order_actions - INFO - Auto-created double down order for GLD
2025-06-12 15:43:14,684 - src.rule.linked_order_actions - INFO - Created and linked SELL main order ee856db0-685f-4778-a5d2-3b94c7b66b24 for GLD
2025-06-12 15:43:14,686 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.74)
2025-06-12 15:43:14,778 - src.tws_connection - INFO - Open Order - ID: 82, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:43:15,081 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.78)
2025-06-12 15:43:15,458 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.94)
2025-06-12 15:44:17,221 - src.api.monitor - INFO - New prediction: UVXY BUY (0.59)
2025-06-12 15:44:17,222 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for UVXY - already have active BUY trade
2025-06-12 15:44:18,982 - src.api.monitor - INFO - New prediction: GLD SELL (0.89)
2025-06-12 15:44:20,381 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.97)
2025-06-12 15:44:21,599 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.92)
2025-06-12 15:44:23,432 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.88)
2025-06-12 15:44:25,269 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.74)
2025-06-12 15:44:28,696 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.87)
2025-06-12 15:44:30,966 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.95)
2025-06-12 15:45:00,575 - src.order.base - INFO - Order 8e0269a4-4131-4675-b7f7-eb323cb13705 status changed: submitted -> filled (Order fully filled)
2025-06-12 15:45:00,575 - src.tws_connection - INFO - Open Order - ID: 70, Symbol: SQQQ, Action: SELL, Quantity: 1366.0
2025-06-12 15:45:00,576 - src.order.base - INFO - Order 8e0269a4-4131-4675-b7f7-eb323cb13705 filled: 1366.0 @ 22.0 (1366.0/1366)
2025-06-12 15:45:00,577 - UnifiedFillManager - INFO - Processing fill for SQQQ: 1366.0 shares on order 8e0269a4-4131-4675-b7f7-eb323cb13705
2025-06-12 15:45:00,577 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-12 15:45:00,577 - UnifiedFillManager - INFO - Order 8e0269a4-4131-4675-b7f7-eb323cb13705 fill status: filled, is_fully_filled: True
2025-06-12 15:45:00,577 - UnifiedFillManager - WARNING - Position for SQQQ is flat after double down
2025-06-12 15:45:00,578 - UnifiedFillManager - INFO - Closing position for SQQQ: Position flat after double down
2025-06-12 15:45:00,579 - src.position.position_manager - INFO - Closed position for SQQQ
2025-06-12 15:45:00,579 - src.trade_tracker - INFO - Closed trade for SQQQ
2025-06-12 15:45:00,579 - UnifiedFillManager - INFO - Position closed for SQQQ: cancellation queued, trackers updated
2025-06-12 15:45:00,580 - UnifiedFillManager - INFO - Processing operation for SQQQ: cancel_all
2025-06-12 15:45:00,580 - src.order.base - INFO - Order 90be3b49-f32e-4789-998c-e2cd075ea156 status changed: accepted -> pending_cancel (Position closed: Position flat after double down)
2025-06-12 15:45:00,580 - src.order.manager - INFO - Cancelling order 90be3b49-f32e-4789-998c-e2cd075ea156 with broker ID 68
2025-06-12 15:45:00,580 - src.order.base - INFO - Order f37f8c2e-c440-4690-ba5d-a46195b56c51 status changed: submitted -> pending_cancel (Position closed: Position flat after double down)
2025-06-12 15:45:00,580 - src.order.manager - INFO - Cancelling order f37f8c2e-c440-4690-ba5d-a46195b56c51 with broker ID 69
2025-06-12 15:45:00,581 - UnifiedFillManager - INFO - Cancelled 2 orders for SQQQ
2025-06-12 15:45:00,581 - UnifiedFillManager - INFO - Completed operation for SQQQ: cancel_all
2025-06-12 15:45:00,610 - src.tws_connection - INFO - Open Order - ID: 70, Symbol: SQQQ, Action: SELL, Quantity: 1366.0
2025-06-12 15:45:00,615 - src.order.base - INFO - Order 90be3b49-f32e-4789-998c-e2cd075ea156 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:45:00,615 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 68)
2025-06-12 15:45:00,680 - src.order.base - INFO - Order 283dfb40-35b6-4567-aadd-34f4aac0817d status changed: submitted -> filled (Order fully filled)
2025-06-12 15:45:00,680 - src.tws_connection - INFO - Open Order - ID: 77, Symbol: SOXL, Action: BUY, Quantity: 1382.0
2025-06-12 15:45:00,681 - src.order.base - INFO - Order 283dfb40-35b6-4567-aadd-34f4aac0817d filled: 1382.0 @ 21.64 (1382.0/1382)
2025-06-12 15:45:00,681 - src.tws_connection - INFO - Open Order - ID: 77, Symbol: SOXL, Action: BUY, Quantity: 1382.0
2025-06-12 15:45:00,681 - UnifiedFillManager - INFO - Processing fill for SOXL: 1382.0 shares on order 283dfb40-35b6-4567-aadd-34f4aac0817d
2025-06-12 15:45:00,682 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:45:00,682 - UnifiedFillManager - INFO - Order 283dfb40-35b6-4567-aadd-34f4aac0817d fill status: filled, is_fully_filled: True
2025-06-12 15:45:00,682 - UnifiedFillManager - INFO - Closing position for SOXL: Target order fully filled
2025-06-12 15:45:00,683 - src.position.position_manager - INFO - Closed position for SOXL
2025-06-12 15:45:00,683 - src.trade_tracker - INFO - Closed trade for SOXL
2025-06-12 15:45:00,683 - UnifiedFillManager - INFO - Position closed for SOXL: cancellation queued, trackers updated
2025-06-12 15:45:00,684 - UnifiedFillManager - INFO - Processing operation for SOXL: cancel_all
2025-06-12 15:45:00,684 - src.order.base - INFO - Order ff401c88-5b46-4b23-906b-a8755bd85d73 status changed: submitted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:45:00,684 - src.order.manager - INFO - Cancelling order ff401c88-5b46-4b23-906b-a8755bd85d73 with broker ID 78
2025-06-12 15:45:00,684 - src.order.base - INFO - Order 384b1c61-fd7f-49e1-8067-098b1256fdb5 status changed: accepted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:45:00,685 - src.order.manager - INFO - Cancelling order 384b1c61-fd7f-49e1-8067-098b1256fdb5 with broker ID 76
2025-06-12 15:45:00,685 - UnifiedFillManager - INFO - Cancelled 2 orders for SOXL
2025-06-12 15:45:00,685 - UnifiedFillManager - INFO - Completed operation for SOXL: cancel_all
2025-06-12 15:45:00,738 - src.order.base - INFO - Order f37f8c2e-c440-4690-ba5d-a46195b56c51 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:45:00,737 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 69)
2025-06-12 15:45:00,770 - src.order.base - INFO - Order ff401c88-5b46-4b23-906b-a8755bd85d73 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:45:00,769 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 78)
2025-06-12 15:45:00,818 - src.order.base - INFO - Order 384b1c61-fd7f-49e1-8067-098b1256fdb5 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:45:00,818 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 76)
2025-06-12 15:45:01,842 - src.order.base - INFO - Order 72651465-1f9b-47c0-a6f8-a426323528da status changed: submitted -> partially_filled (Order partially filled)
2025-06-12 15:45:01,842 - src.order.base - INFO - Order 72651465-1f9b-47c0-a6f8-a426323528da filled: 1200.0 @ 20.72 (1200.0/1450)
2025-06-12 15:45:01,843 - UnifiedFillManager - INFO - Processing fill for UVXY: 1200.0 shares on order 72651465-1f9b-47c0-a6f8-a426323528da
2025-06-12 15:45:01,842 - src.tws_connection - INFO - Open Order - ID: 73, Symbol: UVXY, Action: SELL, Quantity: 1450.0
2025-06-12 15:45:01,843 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:45:01,844 - UnifiedFillManager - INFO - Order 72651465-1f9b-47c0-a6f8-a426323528da fill status: partially_filled, is_fully_filled: False
2025-06-12 15:45:01,845 - UnifiedFillManager - INFO - Partial target fill for UVXY, remaining position: 2650.0
2025-06-12 15:45:01,844 - src.tws_connection - INFO - Open Order - ID: 73, Symbol: UVXY, Action: SELL, Quantity: 1450.0
2025-06-12 15:45:01,845 - UnifiedFillManager - INFO - Updating protective orders for UVXY: position=2650.0, protective_qty=-2650.0
2025-06-12 15:45:01,845 - UnifiedFillManager - INFO - Checking protective orders to update for UVXY
2025-06-12 15:45:01,846 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:45:01,846 - UnifiedFillManager - INFO - Queueing update for stop order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c: current qty=-1450, new qty=-2650.0
2025-06-12 15:45:01,846 - UnifiedFillManager - INFO - Processing operation for UVXY: replace_stop
2025-06-12 15:45:01,846 - src.order.base - INFO - Order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c status changed: accepted -> pending_cancel (Updating quantity to -2650.0)
2025-06-12 15:45:01,847 - src.order.manager - INFO - Cancelling order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c with broker ID 72
2025-06-12 15:45:01,847 - src.order.base - INFO - Order 72651465-1f9b-47c0-a6f8-a426323528da status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-12 15:45:01,848 - src.order.base - INFO - Order 72651465-1f9b-47c0-a6f8-a426323528da status changed: submitted -> filled (Order fully filled)
2025-06-12 15:45:01,848 - src.order.base - INFO - Order 72651465-1f9b-47c0-a6f8-a426323528da filled: 250.0 @ 20.72 (1450.0/1450)
2025-06-12 15:45:01,848 - UnifiedFillManager - INFO - Processing fill for UVXY: 250.0 shares on order 72651465-1f9b-47c0-a6f8-a426323528da
2025-06-12 15:45:01,848 - src.tws_connection - INFO - Open Order - ID: 73, Symbol: UVXY, Action: SELL, Quantity: 1450.0
2025-06-12 15:45:01,849 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:45:01,850 - UnifiedFillManager - INFO - Order 72651465-1f9b-47c0-a6f8-a426323528da fill status: filled, is_fully_filled: True
2025-06-12 15:45:01,849 - src.tws_connection - INFO - Open Order - ID: 73, Symbol: UVXY, Action: SELL, Quantity: 1450.0
2025-06-12 15:45:01,850 - UnifiedFillManager - INFO - Closing position for UVXY: Target order fully filled
2025-06-12 15:45:01,850 - src.position.position_manager - INFO - Closed position for UVXY
2025-06-12 15:45:01,850 - src.trade_tracker - INFO - Closed trade for UVXY
2025-06-12 15:45:01,851 - UnifiedFillManager - INFO - Position closed for UVXY: cancellation queued, trackers updated
2025-06-12 15:45:01,892 - src.order.base - INFO - Order d783dfc8-4ba7-4f0a-a5c0-d86e6fac9f3c status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:45:01,892 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 72)
2025-06-12 15:45:01,951 - src.order.base - INFO - Order 2d430390-3240-431b-aa54-b991c3c7a122 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:45:01,952 - src.order.manager - INFO - Submitting order 2d430390-3240-431b-aa54-b991c3c7a122 to TWS
2025-06-12 15:45:01,954 - src.order.manager - INFO - Got broker order ID 83 for order 2d430390-3240-431b-aa54-b991c3c7a122
2025-06-12 15:45:01,955 - src.order.manager - INFO - Calling placeOrder with ID 83, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 2650@0.000000 DAY
2025-06-12 15:45:01,956 - src.order.manager - INFO - placeOrder called successfully for order 2d430390-3240-431b-aa54-b991c3c7a122
2025-06-12 15:45:01,957 - src.order.base - INFO - Order 2d430390-3240-431b-aa54-b991c3c7a122 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:45:01,959 - src.position.position_manager - INFO - Added 1 stop orders to UVXY position
2025-06-12 15:45:01,960 - UnifiedFillManager - INFO - Created updated stop order 2d430390-3240-431b-aa54-b991c3c7a122 for UVXY at $20.59 for -2650.0 shares
2025-06-12 15:45:01,961 - UnifiedFillManager - INFO - Completed operation for UVXY: replace_stop
2025-06-12 15:45:01,962 - UnifiedFillManager - INFO - Processing operation for UVXY: cancel_all
2025-06-12 15:45:01,962 - src.order.base - INFO - Order 4c86351e-3d1f-4759-b95e-e8935f2ed1b8 status changed: submitted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:45:01,963 - src.order.manager - INFO - Cancelling order 4c86351e-3d1f-4759-b95e-e8935f2ed1b8 with broker ID 74
2025-06-12 15:45:01,964 - src.order.base - INFO - Order 2d430390-3240-431b-aa54-b991c3c7a122 status changed: submitted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:45:01,965 - src.order.manager - INFO - Cancelling order 2d430390-3240-431b-aa54-b991c3c7a122 with broker ID 83
2025-06-12 15:45:01,965 - UnifiedFillManager - INFO - Cancelled 2 orders for UVXY
2025-06-12 15:45:01,966 - UnifiedFillManager - INFO - Completed operation for UVXY: cancel_all
2025-06-12 15:45:01,968 - src.order.manager - WARNING - Unknown IB order status: ApiCancelled for order 2d430390-3240-431b-aa54-b991c3c7a122
2025-06-12 15:45:02,048 - src.order.base - INFO - Order 4c86351e-3d1f-4759-b95e-e8935f2ed1b8 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:45:02,048 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 74)
2025-06-12 15:45:33,147 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.83)
2025-06-12 15:45:34,596 - src.api.monitor - INFO - New prediction: GLD SELL (0.89)
2025-06-12 15:45:36,482 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.95)
2025-06-12 15:45:39,165 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.92)
2025-06-12 15:45:41,535 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.86)
2025-06-12 15:45:43,754 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.58)
2025-06-12 15:45:46,536 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.89)
2025-06-12 15:45:48,825 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.91)
2025-06-12 15:46:20,211 - __main__ - INFO - 💰 Current positions: 0
2025-06-12 15:46:20,211 - __main__ - INFO - 💰 Total value: $0.00
2025-06-12 15:46:20,212 - __main__ - INFO - 💰 Unrealized P&L: $0.00
2025-06-12 15:46:39,491 - src.order.base - INFO - Order 1c355be0-bcfb-418a-92d7-522e2e4c4338 status changed: submitted -> filled (Order fully filled)
2025-06-12 15:46:39,491 - src.tws_connection - INFO - Open Order - ID: 82, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:46:39,491 - src.order.base - INFO - Order 1c355be0-bcfb-418a-92d7-522e2e4c4338 filled: 96.0 @ 312.16 (96.0/96)
2025-06-12 15:46:39,492 - UnifiedFillManager - INFO - Processing fill for GLD: 96.0 shares on order 1c355be0-bcfb-418a-92d7-522e2e4c4338
2025-06-12 15:46:39,492 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-12 15:46:39,492 - UnifiedFillManager - INFO - Order 1c355be0-bcfb-418a-92d7-522e2e4c4338 fill status: filled, is_fully_filled: True
2025-06-12 15:46:39,493 - UnifiedFillManager - WARNING - Position for GLD is flat after double down
2025-06-12 15:46:39,493 - UnifiedFillManager - INFO - Closing position for GLD: Position flat after double down
2025-06-12 15:46:39,493 - src.position.position_manager - INFO - Closed position for GLD
2025-06-12 15:46:39,494 - src.trade_tracker - INFO - Closed trade for GLD
2025-06-12 15:46:39,494 - UnifiedFillManager - INFO - Position closed for GLD: cancellation queued, trackers updated
2025-06-12 15:46:39,494 - src.tws_connection - INFO - Open Order - ID: 82, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:46:39,495 - UnifiedFillManager - INFO - Processing operation for GLD: cancel_all
2025-06-12 15:46:39,495 - src.order.base - INFO - Order e1a9bc60-d834-4f0f-a547-14ad873dbe34 status changed: accepted -> pending_cancel (Position closed: Position flat after double down)
2025-06-12 15:46:39,495 - src.order.manager - INFO - Cancelling order e1a9bc60-d834-4f0f-a547-14ad873dbe34 with broker ID 80
2025-06-12 15:46:39,495 - src.order.base - INFO - Order 2d77a7e8-d755-462e-a762-139217df2606 status changed: submitted -> pending_cancel (Position closed: Position flat after double down)
2025-06-12 15:46:39,496 - src.order.manager - INFO - Cancelling order 2d77a7e8-d755-462e-a762-139217df2606 with broker ID 81
2025-06-12 15:46:39,496 - UnifiedFillManager - INFO - Cancelled 2 orders for GLD
2025-06-12 15:46:39,497 - UnifiedFillManager - INFO - Completed operation for GLD: cancel_all
2025-06-12 15:46:39,535 - src.order.base - INFO - Order e1a9bc60-d834-4f0f-a547-14ad873dbe34 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:46:39,534 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 80)
2025-06-12 15:46:39,648 - src.order.base - INFO - Order 2d77a7e8-d755-462e-a762-139217df2606 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:46:39,648 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 81)
2025-06-12 15:46:49,787 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.66)
2025-06-12 15:46:51,198 - src.api.monitor - INFO - New prediction: GLD SELL (0.89)
2025-06-12 15:46:51,199 - src.trade_tracker - INFO - Started tracking SELL trade for GLD
2025-06-12 15:46:51,200 - src.position.position_manager - INFO - Opened SELL position for GLD
2025-06-12 15:46:51,335 - src.position.sizer - INFO - SELL position size: 96 shares @ $312.17 = $29968.32 (99.9% of $30000.00 allocation)
2025-06-12 15:46:51,335 - src.order.base - INFO - Order 4b7998eb-f580-4e7b-b31a-7a9ccf9c003c status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:46:51,336 - src.order.manager - INFO - Submitting order 4b7998eb-f580-4e7b-b31a-7a9ccf9c003c to TWS
2025-06-12 15:46:51,336 - src.order.manager - INFO - Got broker order ID 84 for order 4b7998eb-f580-4e7b-b31a-7a9ccf9c003c
2025-06-12 15:46:51,337 - src.order.manager - INFO - Calling placeOrder with ID 84, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 96@0.000000 DAY
2025-06-12 15:46:51,338 - src.order.manager - INFO - placeOrder called successfully for order 4b7998eb-f580-4e7b-b31a-7a9ccf9c003c
2025-06-12 15:46:51,338 - src.order.base - INFO - Order 4b7998eb-f580-4e7b-b31a-7a9ccf9c003c status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:46:51,339 - src.position.position_manager - INFO - Added 1 main orders to GLD position
2025-06-12 15:46:51,440 - src.tws_connection - INFO - Open Order - ID: 84, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:46:51,441 - src.order.base - INFO - Order 4b7998eb-f580-4e7b-b31a-7a9ccf9c003c status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:46:51,442 - src.order.base - INFO - Order 4b7998eb-f580-4e7b-b31a-7a9ccf9c003c status changed: accepted -> filled (Order fully filled)
2025-06-12 15:46:51,442 - src.tws_connection - INFO - Open Order - ID: 84, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:46:51,443 - src.order.base - INFO - Order 4b7998eb-f580-4e7b-b31a-7a9ccf9c003c filled: 96.0 @ 312.16 (96.0/96)
2025-06-12 15:46:51,444 - UnifiedFillManager - INFO - Processing fill for GLD: 96.0 shares on order 4b7998eb-f580-4e7b-b31a-7a9ccf9c003c
2025-06-12 15:46:51,444 - src.tws_connection - INFO - Open Order - ID: 84, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:46:51,445 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:46:51,445 - UnifiedFillManager - INFO - Order 4b7998eb-f580-4e7b-b31a-7a9ccf9c003c fill status: filled, is_fully_filled: True
2025-06-12 15:46:51,445 - UnifiedFillManager - INFO - Main order filled for GLD
2025-06-12 15:46:51,446 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:46:51,446 - UnifiedFillManager - INFO -   Main orders: {'4b7998eb-f580-4e7b-b31a-7a9ccf9c003c'}
2025-06-12 15:46:51,446 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:46:51,446 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:46:51,446 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:46:51,446 - UnifiedFillManager - INFO -   Current position size: -96.0
2025-06-12 15:46:51,447 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -96.0
2025-06-12 15:46:51,447 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=-96.0, protective_qty=96.0
2025-06-12 15:46:51,447 - UnifiedFillManager - INFO - Checking protective orders to update for GLD
2025-06-12 15:46:51,447 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:46:51,447 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:46:52,187 - src.rule.linked_order_actions - INFO - ATR for GLD: 0.0236
2025-06-12 15:46:52,187 - src.rule.linked_order_actions - INFO - ATR-based stop: GLD stop at $312.31 (ATR: 0.0236 * 6.5 = 0.1532)
2025-06-12 15:46:52,188 - src.order.base - INFO - Order 999d65fc-e43d-4e89-8c94-14a76fac559e status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:46:52,188 - src.order.manager - INFO - Submitting order 999d65fc-e43d-4e89-8c94-14a76fac559e to TWS
2025-06-12 15:46:52,188 - src.order.manager - INFO - Got broker order ID 85 for order 999d65fc-e43d-4e89-8c94-14a76fac559e
2025-06-12 15:46:52,188 - src.order.manager - INFO - Calling placeOrder with ID 85, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 96@0.000000 DAY
2025-06-12 15:46:52,189 - src.order.manager - INFO - placeOrder called successfully for order 999d65fc-e43d-4e89-8c94-14a76fac559e
2025-06-12 15:46:52,189 - src.order.base - INFO - Order 999d65fc-e43d-4e89-8c94-14a76fac559e status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:46:52,189 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-12 15:46:52,189 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss 999d65fc-e43d-4e89-8c94-14a76fac559e at $312.31
2025-06-12 15:46:52,189 - src.rule.linked_order_actions - INFO - ATR-based target: GLD target at $312.09 (ATR: 0.0236 * 3.0 = 0.0707)
2025-06-12 15:46:52,189 - src.order.base - INFO - Order 697db32d-5bfe-4b8c-82c1-1cae01bc94d7 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:46:52,190 - src.order.manager - INFO - Submitting order 697db32d-5bfe-4b8c-82c1-1cae01bc94d7 to TWS
2025-06-12 15:46:52,190 - src.order.manager - INFO - Got broker order ID 86 for order 697db32d-5bfe-4b8c-82c1-1cae01bc94d7
2025-06-12 15:46:52,190 - src.order.manager - INFO - Calling placeOrder with ID 86, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 96@312.090000 DAY
2025-06-12 15:46:52,190 - src.order.manager - INFO - placeOrder called successfully for order 697db32d-5bfe-4b8c-82c1-1cae01bc94d7
2025-06-12 15:46:52,190 - src.order.base - INFO - Order 697db32d-5bfe-4b8c-82c1-1cae01bc94d7 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:46:52,191 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-12 15:46:52,191 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit 697db32d-5bfe-4b8c-82c1-1cae01bc94d7 at $312.09
2025-06-12 15:46:52,191 - src.rule.linked_order_actions - INFO - Starting double down order creation for GLD
2025-06-12 15:46:52,192 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.94)
2025-06-12 15:46:52,265 - src.tws_connection - INFO - Open Order - ID: 85, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 15:46:52,265 - src.order.base - INFO - Order 999d65fc-e43d-4e89-8c94-14a76fac559e status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:46:52,309 - src.tws_connection - INFO - Open Order - ID: 86, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 15:46:52,698 - src.rule.linked_order_actions - INFO - Found 1 stop orders for GLD: ['999d65fc-e43d-4e89-8c94-14a76fac559e']
2025-06-12 15:46:52,698 - src.rule.linked_order_actions - INFO - Executing double down action for GLD
2025-06-12 15:46:53,082 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for GLD: 0.1532
2025-06-12 15:46:53,082 - src.rule.linked_order_actions - INFO - Double down calc for GLD (SELL): current=$312.17, stop_distance=$0.15, dd_distance=$0.08, dd_price=$312.25, original_qty=96, dd_qty=-96
2025-06-12 15:46:53,082 - src.order.base - INFO - Order eb369488-ab51-42b2-a910-e46eea0a7ee0 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:46:53,082 - src.order.manager - INFO - Submitting order eb369488-ab51-42b2-a910-e46eea0a7ee0 to TWS
2025-06-12 15:46:53,083 - src.order.manager - INFO - Got broker order ID 87 for order eb369488-ab51-42b2-a910-e46eea0a7ee0
2025-06-12 15:46:53,083 - src.order.manager - INFO - Calling placeOrder with ID 87, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 96@312.250000 DAY
2025-06-12 15:46:53,083 - src.order.manager - INFO - placeOrder called successfully for order eb369488-ab51-42b2-a910-e46eea0a7ee0
2025-06-12 15:46:53,083 - src.order.base - INFO - Order eb369488-ab51-42b2-a910-e46eea0a7ee0 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:46:53,084 - src.position.position_manager - INFO - Added 1 doubledown orders to GLD position
2025-06-12 15:46:53,084 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for GLD: -96 shares @ $312.25
2025-06-12 15:46:53,084 - src.rule.linked_order_actions - INFO - Auto-created double down order for GLD
2025-06-12 15:46:53,084 - src.rule.linked_order_actions - INFO - Created and linked SELL main order 4b7998eb-f580-4e7b-b31a-7a9ccf9c003c for GLD
2025-06-12 15:46:53,085 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.94)
2025-06-12 15:46:53,175 - src.tws_connection - INFO - Open Order - ID: 87, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:46:53,907 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.69)
2025-06-12 15:46:54,905 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.56)
2025-06-12 15:46:55,946 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.91)
2025-06-12 15:46:56,722 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.90)
2025-06-12 15:47:57,079 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.74)
2025-06-12 15:47:57,341 - src.api.monitor - INFO - New prediction: GLD SELL (0.89)
2025-06-12 15:47:57,590 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.91)
2025-06-12 15:47:57,889 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.96)
2025-06-12 15:47:58,139 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.70)
2025-06-12 15:47:58,389 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.68)
2025-06-12 15:47:58,685 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.94)
2025-06-12 15:47:58,995 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.94)
2025-06-12 15:48:20,662 - src.order.base - INFO - Order 697db32d-5bfe-4b8c-82c1-1cae01bc94d7 status changed: submitted -> filled (Order fully filled)
2025-06-12 15:48:20,662 - src.tws_connection - INFO - Open Order - ID: 86, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 15:48:20,663 - src.order.base - INFO - Order 697db32d-5bfe-4b8c-82c1-1cae01bc94d7 filled: 96.0 @ 312.09 (96.0/96)
2025-06-12 15:48:20,663 - UnifiedFillManager - INFO - Processing fill for GLD: 96.0 shares on order 697db32d-5bfe-4b8c-82c1-1cae01bc94d7
2025-06-12 15:48:20,663 - src.tws_connection - INFO - Open Order - ID: 86, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 15:48:20,664 - UnifiedFillManager - INFO - Fill is for target order
2025-06-12 15:48:20,664 - UnifiedFillManager - INFO - Order 697db32d-5bfe-4b8c-82c1-1cae01bc94d7 fill status: filled, is_fully_filled: True
2025-06-12 15:48:20,664 - UnifiedFillManager - INFO - Closing position for GLD: Target order fully filled
2025-06-12 15:48:20,664 - src.position.position_manager - INFO - Closed position for GLD
2025-06-12 15:48:20,664 - src.trade_tracker - INFO - Closed trade for GLD
2025-06-12 15:48:20,664 - UnifiedFillManager - INFO - Position closed for GLD: cancellation queued, trackers updated
2025-06-12 15:48:20,665 - UnifiedFillManager - INFO - Processing operation for GLD: cancel_all
2025-06-12 15:48:20,665 - src.order.base - INFO - Order eb369488-ab51-42b2-a910-e46eea0a7ee0 status changed: submitted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:48:20,665 - src.order.manager - INFO - Cancelling order eb369488-ab51-42b2-a910-e46eea0a7ee0 with broker ID 87
2025-06-12 15:48:20,665 - src.order.base - INFO - Order 999d65fc-e43d-4e89-8c94-14a76fac559e status changed: accepted -> pending_cancel (Position closed: Target order fully filled)
2025-06-12 15:48:20,666 - src.order.manager - INFO - Cancelling order 999d65fc-e43d-4e89-8c94-14a76fac559e with broker ID 85
2025-06-12 15:48:20,666 - UnifiedFillManager - INFO - Cancelled 2 orders for GLD
2025-06-12 15:48:20,667 - UnifiedFillManager - INFO - Completed operation for GLD: cancel_all
2025-06-12 15:48:20,719 - src.order.base - INFO - Order eb369488-ab51-42b2-a910-e46eea0a7ee0 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:48:20,718 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 87)
2025-06-12 15:48:20,807 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 85)
2025-06-12 15:48:20,807 - src.order.base - INFO - Order 999d65fc-e43d-4e89-8c94-14a76fac559e status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:48:59,513 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.64)
2025-06-12 15:49:00,086 - src.api.monitor - INFO - New prediction: GLD SELL (0.81)
2025-06-12 15:49:01,105 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.93)
2025-06-12 15:49:02,117 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.97)
2025-06-12 15:49:03,549 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.74)
2025-06-12 15:49:04,228 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.61)
2025-06-12 15:49:05,261 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.94)
2025-06-12 15:49:07,154 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.88)
2025-06-12 15:50:10,081 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.70)
2025-06-12 15:50:12,898 - src.api.monitor - INFO - New prediction: GLD SELL (0.81)
2025-06-12 15:50:12,899 - src.trade_tracker - INFO - Started tracking SELL trade for GLD
2025-06-12 15:50:12,899 - src.position.position_manager - INFO - Opened SELL position for GLD
2025-06-12 15:50:13,541 - src.position.sizer - INFO - SELL position size: 96 shares @ $312.14 = $29965.44 (99.9% of $30000.00 allocation)
2025-06-12 15:50:13,542 - src.order.base - INFO - Order 75c43014-cbfc-461a-bb6f-1d8eef993146 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:50:13,542 - src.order.manager - INFO - Submitting order 75c43014-cbfc-461a-bb6f-1d8eef993146 to TWS
2025-06-12 15:50:13,542 - src.order.manager - INFO - Got broker order ID 88 for order 75c43014-cbfc-461a-bb6f-1d8eef993146
2025-06-12 15:50:13,543 - src.order.manager - INFO - Calling placeOrder with ID 88, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 96@0.000000 DAY
2025-06-12 15:50:13,543 - src.order.manager - INFO - placeOrder called successfully for order 75c43014-cbfc-461a-bb6f-1d8eef993146
2025-06-12 15:50:13,543 - src.order.base - INFO - Order 75c43014-cbfc-461a-bb6f-1d8eef993146 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:50:13,543 - src.position.position_manager - INFO - Added 1 main orders to GLD position
2025-06-12 15:50:13,637 - src.tws_connection - INFO - Open Order - ID: 88, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:50:13,814 - src.tws_connection - INFO - Open Order - ID: 88, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:50:13,832 - src.rule.linked_order_actions - INFO - ATR for GLD: 0.0236
2025-06-12 15:50:13,833 - src.rule.linked_order_actions - INFO - ATR-based stop: GLD stop at $312.27 (ATR: 0.0236 * 6.5 = 0.1532)
2025-06-12 15:50:13,833 - src.tws_connection - INFO - Open Order - ID: 88, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:50:13,834 - src.order.base - INFO - Order 3ec74624-ec23-4c37-9ad3-6289e5376afe status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:50:13,834 - src.order.manager - INFO - Submitting order 3ec74624-ec23-4c37-9ad3-6289e5376afe to TWS
2025-06-12 15:50:13,834 - src.order.manager - INFO - Got broker order ID 89 for order 3ec74624-ec23-4c37-9ad3-6289e5376afe
2025-06-12 15:50:13,834 - src.order.manager - INFO - Calling placeOrder with ID 89, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 96@0.000000 DAY
2025-06-12 15:50:13,835 - src.order.manager - INFO - placeOrder called successfully for order 3ec74624-ec23-4c37-9ad3-6289e5376afe
2025-06-12 15:50:13,835 - src.order.base - INFO - Order 3ec74624-ec23-4c37-9ad3-6289e5376afe status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:50:13,835 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-12 15:50:13,835 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss 3ec74624-ec23-4c37-9ad3-6289e5376afe at $312.27
2025-06-12 15:50:13,836 - src.rule.linked_order_actions - INFO - ATR-based target: GLD target at $312.05 (ATR: 0.0236 * 3.0 = 0.0707)
2025-06-12 15:50:13,836 - src.order.base - INFO - Order d0672b89-92ab-4654-9b46-a6c81e0b2c43 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:50:13,836 - src.order.manager - INFO - Submitting order d0672b89-92ab-4654-9b46-a6c81e0b2c43 to TWS
2025-06-12 15:50:13,836 - src.order.manager - INFO - Got broker order ID 90 for order d0672b89-92ab-4654-9b46-a6c81e0b2c43
2025-06-12 15:50:13,836 - src.order.manager - INFO - Calling placeOrder with ID 90, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 96@312.050000 DAY
2025-06-12 15:50:13,836 - src.order.manager - INFO - placeOrder called successfully for order d0672b89-92ab-4654-9b46-a6c81e0b2c43
2025-06-12 15:50:13,837 - src.order.base - INFO - Order d0672b89-92ab-4654-9b46-a6c81e0b2c43 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:50:13,837 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-12 15:50:13,837 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit d0672b89-92ab-4654-9b46-a6c81e0b2c43 at $312.05
2025-06-12 15:50:13,837 - src.rule.linked_order_actions - INFO - Starting double down order creation for GLD
2025-06-12 15:50:13,838 - src.order.base - INFO - Order 75c43014-cbfc-461a-bb6f-1d8eef993146 status changed: submitted -> filled (Order fully filled)
2025-06-12 15:50:13,838 - src.order.base - INFO - Order 75c43014-cbfc-461a-bb6f-1d8eef993146 filled: 96.0 @ 312.13 (96.0/96)
2025-06-12 15:50:13,838 - UnifiedFillManager - INFO - Processing fill for GLD: 96.0 shares on order 75c43014-cbfc-461a-bb6f-1d8eef993146
2025-06-12 15:50:13,838 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:50:13,838 - UnifiedFillManager - INFO - Order 75c43014-cbfc-461a-bb6f-1d8eef993146 fill status: filled, is_fully_filled: True
2025-06-12 15:50:13,838 - UnifiedFillManager - INFO - Main order filled for GLD
2025-06-12 15:50:13,838 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:50:13,838 - UnifiedFillManager - INFO -   Main orders: {'75c43014-cbfc-461a-bb6f-1d8eef993146'}
2025-06-12 15:50:13,838 - UnifiedFillManager - INFO -   Stop orders: {'3ec74624-ec23-4c37-9ad3-6289e5376afe'}
2025-06-12 15:50:13,839 - UnifiedFillManager - INFO -   Target orders: {'d0672b89-92ab-4654-9b46-a6c81e0b2c43'}
2025-06-12 15:50:13,839 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:50:13,839 - UnifiedFillManager - INFO -   Current position size: -96.0
2025-06-12 15:50:13,839 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -96.0
2025-06-12 15:50:13,840 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=-96.0, protective_qty=96.0
2025-06-12 15:50:13,840 - UnifiedFillManager - INFO - Checking protective orders to update for GLD
2025-06-12 15:50:13,840 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:50:13,840 - UnifiedFillManager - INFO - Stop order 3ec74624-ec23-4c37-9ad3-6289e5376afe already has correct quantity 96, no update needed
2025-06-12 15:50:13,840 - UnifiedFillManager - INFO - Checking 1 target orders
2025-06-12 15:50:13,840 - UnifiedFillManager - INFO - Target order d0672b89-92ab-4654-9b46-a6c81e0b2c43 already has correct quantity 96, no update needed
2025-06-12 15:50:13,907 - src.tws_connection - INFO - Open Order - ID: 89, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 15:50:13,907 - src.order.base - INFO - Order 3ec74624-ec23-4c37-9ad3-6289e5376afe status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:50:14,004 - src.tws_connection - INFO - Open Order - ID: 90, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 15:50:14,341 - src.rule.linked_order_actions - INFO - Found 1 stop orders for GLD: ['3ec74624-ec23-4c37-9ad3-6289e5376afe']
2025-06-12 15:50:14,342 - src.rule.linked_order_actions - INFO - Executing double down action for GLD
2025-06-12 15:50:15,131 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for GLD: 0.1532
2025-06-12 15:50:15,131 - src.rule.linked_order_actions - INFO - Double down calc for GLD (SELL): current=$312.14, stop_distance=$0.15, dd_distance=$0.08, dd_price=$312.22, original_qty=96, dd_qty=-96
2025-06-12 15:50:15,131 - src.order.base - INFO - Order d3c4115a-7aa0-4994-8237-8a3820ca7a43 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:50:15,132 - src.order.manager - INFO - Submitting order d3c4115a-7aa0-4994-8237-8a3820ca7a43 to TWS
2025-06-12 15:50:15,132 - src.order.manager - INFO - Got broker order ID 91 for order d3c4115a-7aa0-4994-8237-8a3820ca7a43
2025-06-12 15:50:15,132 - src.order.manager - INFO - Calling placeOrder with ID 91, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 96@312.220000 DAY
2025-06-12 15:50:15,132 - src.order.manager - INFO - placeOrder called successfully for order d3c4115a-7aa0-4994-8237-8a3820ca7a43
2025-06-12 15:50:15,132 - src.order.base - INFO - Order d3c4115a-7aa0-4994-8237-8a3820ca7a43 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:50:15,133 - src.position.position_manager - INFO - Added 1 doubledown orders to GLD position
2025-06-12 15:50:15,133 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for GLD: -96 shares @ $312.22
2025-06-12 15:50:15,133 - src.rule.linked_order_actions - INFO - Auto-created double down order for GLD
2025-06-12 15:50:15,133 - src.rule.linked_order_actions - INFO - Created and linked SELL main order 75c43014-cbfc-461a-bb6f-1d8eef993146 for GLD
2025-06-12 15:50:15,134 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.93)
2025-06-12 15:50:15,237 - src.tws_connection - INFO - Open Order - ID: 91, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 15:50:17,362 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.97)
2025-06-12 15:50:19,509 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.75)
2025-06-12 15:50:22,062 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.57)
2025-06-12 15:50:24,476 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.95)
2025-06-12 15:50:27,749 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.84)
2025-06-12 15:51:30,652 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.90)
2025-06-12 15:51:32,928 - src.api.monitor - INFO - New prediction: GLD SELL (0.78)
2025-06-12 15:51:34,789 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.94)
2025-06-12 15:51:36,294 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.54)
2025-06-12 15:51:37,356 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.87)
2025-06-12 15:51:38,570 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.57)
2025-06-12 15:51:40,572 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.94)
2025-06-12 15:51:42,303 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.84)
2025-06-12 15:52:43,822 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.80)
2025-06-12 15:52:45,646 - src.api.monitor - INFO - New prediction: GLD SELL (0.83)
2025-06-12 15:52:47,627 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.96)
2025-06-12 15:52:50,045 - src.api.monitor - INFO - New prediction: SOXL SELL (0.58)
2025-06-12 15:52:50,047 - src.trade_tracker - INFO - Started tracking SELL trade for SOXL
2025-06-12 15:52:50,047 - src.position.position_manager - INFO - Opened SELL position for SOXL
2025-06-12 15:52:50,279 - src.position.sizer - INFO - SELL position size: 1381 shares @ $21.72 = $29995.32 (100.0% of $30000.00 allocation)
2025-06-12 15:52:50,279 - src.order.base - INFO - Order bb799db1-5529-49be-be0e-63fb1cd5377f status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:52:50,279 - src.order.manager - INFO - Submitting order bb799db1-5529-49be-be0e-63fb1cd5377f to TWS
2025-06-12 15:52:50,280 - src.order.manager - INFO - Got broker order ID 92 for order bb799db1-5529-49be-be0e-63fb1cd5377f
2025-06-12 15:52:50,280 - src.order.manager - INFO - Calling placeOrder with ID 92, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 1381@0.000000 DAY
2025-06-12 15:52:50,281 - src.order.manager - INFO - placeOrder called successfully for order bb799db1-5529-49be-be0e-63fb1cd5377f
2025-06-12 15:52:50,281 - src.order.base - INFO - Order bb799db1-5529-49be-be0e-63fb1cd5377f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:52:50,281 - src.position.position_manager - INFO - Added 1 main orders to SOXL position
2025-06-12 15:52:50,375 - src.tws_connection - INFO - Open Order - ID: 92, Symbol: SOXL, Action: SELL, Quantity: 1381.0
2025-06-12 15:52:50,376 - src.order.base - INFO - Order bb799db1-5529-49be-be0e-63fb1cd5377f status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:52:50,415 - src.order.base - INFO - Order bb799db1-5529-49be-be0e-63fb1cd5377f status changed: accepted -> filled (Order fully filled)
2025-06-12 15:52:50,415 - src.tws_connection - INFO - Open Order - ID: 92, Symbol: SOXL, Action: SELL, Quantity: 1381.0
2025-06-12 15:52:50,416 - src.order.base - INFO - Order bb799db1-5529-49be-be0e-63fb1cd5377f filled: 1381.0 @ 21.71 (1381.0/1381)
2025-06-12 15:52:50,416 - UnifiedFillManager - INFO - Processing fill for SOXL: 1381.0 shares on order bb799db1-5529-49be-be0e-63fb1cd5377f
2025-06-12 15:52:50,417 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:52:50,417 - UnifiedFillManager - INFO - Order bb799db1-5529-49be-be0e-63fb1cd5377f fill status: filled, is_fully_filled: True
2025-06-12 15:52:50,417 - UnifiedFillManager - INFO - Main order filled for SOXL
2025-06-12 15:52:50,416 - src.tws_connection - INFO - Open Order - ID: 92, Symbol: SOXL, Action: SELL, Quantity: 1381.0
2025-06-12 15:52:50,418 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:52:50,418 - UnifiedFillManager - INFO -   Main orders: {'bb799db1-5529-49be-be0e-63fb1cd5377f'}
2025-06-12 15:52:50,418 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:52:50,419 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:52:50,420 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:52:50,420 - UnifiedFillManager - INFO -   Current position size: -1381.0
2025-06-12 15:52:50,420 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: -1381.0
2025-06-12 15:52:50,420 - UnifiedFillManager - INFO - Updating protective orders for SOXL: position=-1381.0, protective_qty=1381.0
2025-06-12 15:52:50,421 - UnifiedFillManager - INFO - Checking protective orders to update for SOXL
2025-06-12 15:52:50,421 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:52:50,422 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:52:52,017 - src.rule.linked_order_actions - INFO - ATR for SOXL: 0.0186
2025-06-12 15:52:52,018 - src.rule.linked_order_actions - INFO - ATR-based stop: SOXL stop at $21.83 (ATR: 0.0186 * 6.5 = 0.1207)
2025-06-12 15:52:52,018 - src.order.base - INFO - Order dad0af6a-c4fc-4c67-ada1-5c5ecf77905f status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:52:52,019 - src.order.manager - INFO - Submitting order dad0af6a-c4fc-4c67-ada1-5c5ecf77905f to TWS
2025-06-12 15:52:52,019 - src.order.manager - INFO - Got broker order ID 93 for order dad0af6a-c4fc-4c67-ada1-5c5ecf77905f
2025-06-12 15:52:52,019 - src.order.manager - INFO - Calling placeOrder with ID 93, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 1381@0.000000 DAY
2025-06-12 15:52:52,019 - src.order.manager - INFO - placeOrder called successfully for order dad0af6a-c4fc-4c67-ada1-5c5ecf77905f
2025-06-12 15:52:52,019 - src.order.base - INFO - Order dad0af6a-c4fc-4c67-ada1-5c5ecf77905f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:52:52,020 - src.position.position_manager - INFO - Added 1 stop orders to SOXL position
2025-06-12 15:52:52,020 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss dad0af6a-c4fc-4c67-ada1-5c5ecf77905f at $21.83
2025-06-12 15:52:52,020 - src.rule.linked_order_actions - INFO - ATR-based target: SOXL target at $21.65 (ATR: 0.0186 * 3.0 = 0.0557)
2025-06-12 15:52:52,020 - src.order.base - INFO - Order 6cd7cb17-586e-4dfb-96be-4f323dd501cd status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:52:52,020 - src.order.manager - INFO - Submitting order 6cd7cb17-586e-4dfb-96be-4f323dd501cd to TWS
2025-06-12 15:52:52,020 - src.order.manager - INFO - Got broker order ID 94 for order 6cd7cb17-586e-4dfb-96be-4f323dd501cd
2025-06-12 15:52:52,021 - src.order.manager - INFO - Calling placeOrder with ID 94, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1381@21.650000 DAY
2025-06-12 15:52:52,021 - src.order.manager - INFO - placeOrder called successfully for order 6cd7cb17-586e-4dfb-96be-4f323dd501cd
2025-06-12 15:52:52,021 - src.order.base - INFO - Order 6cd7cb17-586e-4dfb-96be-4f323dd501cd status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:52:52,021 - src.position.position_manager - INFO - Added 1 target orders to SOXL position
2025-06-12 15:52:52,021 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit 6cd7cb17-586e-4dfb-96be-4f323dd501cd at $21.65
2025-06-12 15:52:52,021 - src.rule.linked_order_actions - INFO - Starting double down order creation for SOXL
2025-06-12 15:52:52,023 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.93)
2025-06-12 15:52:52,090 - src.tws_connection - INFO - Open Order - ID: 93, Symbol: SOXL, Action: BUY, Quantity: 1381.0
2025-06-12 15:52:52,091 - src.order.base - INFO - Order dad0af6a-c4fc-4c67-ada1-5c5ecf77905f status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:52:52,209 - src.tws_connection - INFO - Open Order - ID: 94, Symbol: SOXL, Action: BUY, Quantity: 1381.0
2025-06-12 15:52:52,529 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SOXL: ['dad0af6a-c4fc-4c67-ada1-5c5ecf77905f']
2025-06-12 15:52:52,529 - src.rule.linked_order_actions - INFO - Executing double down action for SOXL
2025-06-12 15:52:53,403 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SOXL: 0.1207
2025-06-12 15:52:53,404 - src.rule.linked_order_actions - INFO - Double down calc for SOXL (SELL): current=$21.72, stop_distance=$0.12, dd_distance=$0.06, dd_price=$21.78, original_qty=1381, dd_qty=-1381
2025-06-12 15:52:53,404 - src.order.base - INFO - Order 13c951b1-82b9-4d63-aca3-b66b99ed255b status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:52:53,404 - src.order.manager - INFO - Submitting order 13c951b1-82b9-4d63-aca3-b66b99ed255b to TWS
2025-06-12 15:52:53,405 - src.order.manager - INFO - Got broker order ID 95 for order 13c951b1-82b9-4d63-aca3-b66b99ed255b
2025-06-12 15:52:53,405 - src.order.manager - INFO - Calling placeOrder with ID 95, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1381@21.780000 DAY
2025-06-12 15:52:53,405 - src.order.manager - INFO - placeOrder called successfully for order 13c951b1-82b9-4d63-aca3-b66b99ed255b
2025-06-12 15:52:53,406 - src.order.base - INFO - Order 13c951b1-82b9-4d63-aca3-b66b99ed255b status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:52:53,406 - src.position.position_manager - INFO - Added 1 doubledown orders to SOXL position
2025-06-12 15:52:53,406 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for SOXL: -1381 shares @ $21.78
2025-06-12 15:52:53,406 - src.rule.linked_order_actions - INFO - Auto-created double down order for SOXL
2025-06-12 15:52:53,406 - src.rule.linked_order_actions - INFO - Created and linked SELL main order bb799db1-5529-49be-be0e-63fb1cd5377f for SOXL
2025-06-12 15:52:53,408 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.85)
2025-06-12 15:52:53,496 - src.tws_connection - INFO - Open Order - ID: 95, Symbol: SOXL, Action: SELL, Quantity: 1381.0
2025-06-12 15:52:54,487 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.94)
2025-06-12 15:52:55,291 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.85)
2025-06-12 15:53:55,729 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.77)
2025-06-12 15:53:56,046 - src.api.monitor - INFO - New prediction: GLD SELL (0.88)
2025-06-12 15:53:56,047 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for GLD - already have active SELL trade
2025-06-12 15:53:56,371 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.90)
2025-06-12 15:53:57,933 - src.api.monitor - INFO - New prediction: SOXL SELL (0.85)
2025-06-12 15:53:59,377 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.84)
2025-06-12 15:54:01,200 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.70)
2025-06-12 15:54:02,634 - src.order.base - INFO - Order 13c951b1-82b9-4d63-aca3-b66b99ed255b status changed: submitted -> cancelled (IB status: Cancelled)
2025-06-12 15:54:02,634 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 95)
2025-06-12 15:54:02,911 - src.order.base - INFO - Order 6cd7cb17-586e-4dfb-96be-4f323dd501cd status changed: submitted -> cancelled (IB status: Cancelled)
2025-06-12 15:54:02,911 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 94)
2025-06-12 15:54:03,073 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.95)
2025-06-12 15:54:03,139 - src.order.base - INFO - Order dad0af6a-c4fc-4c67-ada1-5c5ecf77905f status changed: accepted -> cancelled (IB status: Cancelled)
2025-06-12 15:54:03,139 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 93)
2025-06-12 15:54:03,542 - src.order.base - INFO - Order d3c4115a-7aa0-4994-8237-8a3820ca7a43 status changed: submitted -> cancelled (IB status: Cancelled)
2025-06-12 15:54:03,542 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 91)
2025-06-12 15:54:03,847 - src.order.base - INFO - Order d0672b89-92ab-4654-9b46-a6c81e0b2c43 status changed: submitted -> cancelled (IB status: Cancelled)
2025-06-12 15:54:03,847 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 90)
2025-06-12 15:54:04,136 - src.order.base - INFO - Order 3ec74624-ec23-4c37-9ad3-6289e5376afe status changed: accepted -> cancelled (IB status: Cancelled)
2025-06-12 15:54:04,135 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 89)
2025-06-12 15:54:05,945 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.90)
2025-06-12 15:55:08,506 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.96)
2025-06-12 15:55:10,593 - src.api.monitor - INFO - New prediction: GLD SELL (0.86)
2025-06-12 15:55:13,321 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.93)
2025-06-12 15:55:15,841 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.60)
2025-06-12 15:55:18,453 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.85)
2025-06-12 15:55:20,836 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.81)
2025-06-12 15:55:22,855 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.94)
2025-06-12 15:55:24,754 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.93)
2025-06-12 15:56:20,223 - __main__ - INFO - 💰 Current positions: 0
2025-06-12 15:56:20,223 - __main__ - INFO - 💰 Total value: $0.00
2025-06-12 15:56:20,224 - __main__ - INFO - 💰 Unrealized P&L: $0.00
2025-06-12 15:56:25,968 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.87)
2025-06-12 15:56:27,321 - src.api.monitor - INFO - New prediction: GLD SELL (0.88)
2025-06-12 15:56:29,215 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.72)
2025-06-12 15:56:30,672 - src.api.monitor - INFO - New prediction: SOXL SELL (0.90)
2025-06-12 15:56:30,674 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for SOXL - already have active SELL trade
2025-06-12 15:56:31,991 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.51)
2025-06-12 15:56:31,992 - src.trade_tracker - INFO - Started tracking BUY trade for SQQQ
2025-06-12 15:56:31,993 - src.position.position_manager - INFO - Opened BUY position for SQQQ
2025-06-12 15:56:32,544 - src.position.sizer - INFO - BUY position size: 1363 shares @ $22.00 = $29986.00 (100.0% of $30000.00 allocation)
2025-06-12 15:56:32,545 - src.order.base - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:56:32,545 - src.order.manager - INFO - Submitting order a1235550-c08b-4655-b1da-b6f030227873 to TWS
2025-06-12 15:56:32,545 - src.order.manager - INFO - Got broker order ID 96 for order a1235550-c08b-4655-b1da-b6f030227873
2025-06-12 15:56:32,546 - src.order.manager - INFO - Calling placeOrder with ID 96, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 1363@0.000000 DAY
2025-06-12 15:56:32,546 - src.order.manager - INFO - placeOrder called successfully for order a1235550-c08b-4655-b1da-b6f030227873
2025-06-12 15:56:32,546 - src.order.base - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:56:32,546 - src.position.position_manager - INFO - Added 1 main orders to SQQQ position
2025-06-12 15:56:32,547 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.77)
2025-06-12 15:56:32,644 - src.tws_connection - INFO - Open Order - ID: 96, Symbol: SQQQ, Action: BUY, Quantity: 1363.0
2025-06-12 15:56:32,646 - src.order.base - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:56:32,656 - src.order.base - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:56:32,657 - src.order.base - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 filled: 800.0 @ 22.0 (800.0/1363)
2025-06-12 15:56:32,657 - src.tws_connection - INFO - Open Order - ID: 96, Symbol: SQQQ, Action: BUY, Quantity: 1363.0
2025-06-12 15:56:32,658 - UnifiedFillManager - INFO - Processing fill for SQQQ: 800.0 shares on order a1235550-c08b-4655-b1da-b6f030227873
2025-06-12 15:56:32,659 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:56:32,659 - UnifiedFillManager - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:56:32,659 - UnifiedFillManager - INFO - Main order filled for SQQQ
2025-06-12 15:56:32,659 - src.tws_connection - INFO - Open Order - ID: 96, Symbol: SQQQ, Action: BUY, Quantity: 1363.0
2025-06-12 15:56:32,660 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:56:32,660 - UnifiedFillManager - INFO -   Main orders: {'a1235550-c08b-4655-b1da-b6f030227873'}
2025-06-12 15:56:32,660 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:56:32,661 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:56:32,661 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:56:32,661 - UnifiedFillManager - INFO -   Current position size: 1363.0
2025-06-12 15:56:32,661 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1363.0
2025-06-12 15:56:32,662 - UnifiedFillManager - INFO - Updating protective orders for SQQQ: position=1363.0, protective_qty=-1363.0
2025-06-12 15:56:32,662 - UnifiedFillManager - INFO - Checking protective orders to update for SQQQ
2025-06-12 15:56:32,662 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:56:32,662 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:56:32,662 - src.order.base - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:56:32,663 - src.order.base - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 status changed: accepted -> partially_filled (Order partially filled)
2025-06-12 15:56:32,663 - src.order.base - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 filled: 500.0 @ 22.0 (1300.0/1363)
2025-06-12 15:56:32,663 - src.order.base - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-12 15:56:32,663 - src.tws_connection - INFO - Open Order - ID: 96, Symbol: SQQQ, Action: BUY, Quantity: 1363.0
2025-06-12 15:56:32,664 - UnifiedFillManager - INFO - Processing fill for SQQQ: 500.0 shares on order a1235550-c08b-4655-b1da-b6f030227873
2025-06-12 15:56:32,664 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:56:32,664 - src.tws_connection - INFO - Open Order - ID: 96, Symbol: SQQQ, Action: BUY, Quantity: 1363.0
2025-06-12 15:56:32,664 - UnifiedFillManager - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 fill status: partially_filled, is_fully_filled: False
2025-06-12 15:56:32,665 - UnifiedFillManager - INFO - Main order filled for SQQQ
2025-06-12 15:56:32,665 - src.tws_connection - INFO - Open Order - ID: 96, Symbol: SQQQ, Action: BUY, Quantity: 1363.0
2025-06-12 15:56:32,665 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:56:32,665 - UnifiedFillManager - INFO -   Main orders: {'a1235550-c08b-4655-b1da-b6f030227873'}
2025-06-12 15:56:32,665 - src.tws_connection - INFO - Open Order - ID: 96, Symbol: SQQQ, Action: BUY, Quantity: 1363.0
2025-06-12 15:56:32,666 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:56:32,666 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:56:32,666 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:56:32,666 - UnifiedFillManager - INFO -   Current position size: 1363.0
2025-06-12 15:56:32,666 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1363.0
2025-06-12 15:56:32,667 - UnifiedFillManager - INFO - Updating protective orders for SQQQ: position=1363.0, protective_qty=-1363.0
2025-06-12 15:56:32,667 - UnifiedFillManager - INFO - Checking protective orders to update for SQQQ
2025-06-12 15:56:32,667 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:56:32,667 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:56:32,667 - src.order.base - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 status changed: accepted -> filled (Order fully filled)
2025-06-12 15:56:32,668 - src.order.base - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 filled: 63.0 @ 22.0 (1363.0/1363)
2025-06-12 15:56:32,668 - UnifiedFillManager - INFO - Processing fill for SQQQ: 63.0 shares on order a1235550-c08b-4655-b1da-b6f030227873
2025-06-12 15:56:32,668 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:56:32,668 - UnifiedFillManager - INFO - Order a1235550-c08b-4655-b1da-b6f030227873 fill status: filled, is_fully_filled: True
2025-06-12 15:56:32,668 - UnifiedFillManager - INFO - Main order filled for SQQQ
2025-06-12 15:56:32,669 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:56:32,669 - UnifiedFillManager - INFO -   Main orders: {'a1235550-c08b-4655-b1da-b6f030227873'}
2025-06-12 15:56:32,669 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:56:32,669 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:56:32,669 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:56:32,669 - UnifiedFillManager - INFO -   Current position size: 1363.0
2025-06-12 15:56:32,669 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 1363.0
2025-06-12 15:56:32,670 - UnifiedFillManager - INFO - Updating protective orders for SQQQ: position=1363.0, protective_qty=-1363.0
2025-06-12 15:56:32,670 - UnifiedFillManager - INFO - Checking protective orders to update for SQQQ
2025-06-12 15:56:32,670 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:56:32,670 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:56:33,232 - src.rule.linked_order_actions - INFO - ATR for SQQQ: 0.0143
2025-06-12 15:56:33,232 - src.rule.linked_order_actions - INFO - ATR-based stop: SQQQ stop at $21.90 (ATR: 0.0143 * 6.5 = 0.0929)
2025-06-12 15:56:33,233 - src.order.base - INFO - Order f97537e9-52e5-4190-8d78-8f7cf6b9957f status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:56:33,233 - src.order.manager - INFO - Submitting order f97537e9-52e5-4190-8d78-8f7cf6b9957f to TWS
2025-06-12 15:56:33,234 - src.order.manager - INFO - Got broker order ID 97 for order f97537e9-52e5-4190-8d78-8f7cf6b9957f
2025-06-12 15:56:33,234 - src.order.manager - INFO - Calling placeOrder with ID 97, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 1363@0.000000 DAY
2025-06-12 15:56:33,234 - src.order.manager - INFO - placeOrder called successfully for order f97537e9-52e5-4190-8d78-8f7cf6b9957f
2025-06-12 15:56:33,234 - src.order.base - INFO - Order f97537e9-52e5-4190-8d78-8f7cf6b9957f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:56:33,235 - src.position.position_manager - INFO - Added 1 stop orders to SQQQ position
2025-06-12 15:56:33,235 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss f97537e9-52e5-4190-8d78-8f7cf6b9957f at $21.90
2025-06-12 15:56:33,235 - src.rule.linked_order_actions - INFO - ATR-based target: SQQQ target at $22.03 (ATR: 0.0143 * 3.0 = 0.0429)
2025-06-12 15:56:33,235 - src.order.base - INFO - Order 4d54badc-8987-4db1-9bad-763143859ead status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:56:33,235 - src.order.manager - INFO - Submitting order 4d54badc-8987-4db1-9bad-763143859ead to TWS
2025-06-12 15:56:33,235 - src.order.manager - INFO - Got broker order ID 98 for order 4d54badc-8987-4db1-9bad-763143859ead
2025-06-12 15:56:33,236 - src.order.manager - INFO - Calling placeOrder with ID 98, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1363@22.030000 DAY
2025-06-12 15:56:33,236 - src.order.manager - INFO - placeOrder called successfully for order 4d54badc-8987-4db1-9bad-763143859ead
2025-06-12 15:56:33,236 - src.order.base - INFO - Order 4d54badc-8987-4db1-9bad-763143859ead status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:56:33,236 - src.position.position_manager - INFO - Added 1 target orders to SQQQ position
2025-06-12 15:56:33,236 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit 4d54badc-8987-4db1-9bad-763143859ead at $22.03
2025-06-12 15:56:33,236 - src.rule.linked_order_actions - INFO - Starting double down order creation for SQQQ
2025-06-12 15:56:33,237 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.96)
2025-06-12 15:56:33,311 - src.tws_connection - INFO - Open Order - ID: 97, Symbol: SQQQ, Action: SELL, Quantity: 1363.0
2025-06-12 15:56:33,312 - src.order.base - INFO - Order f97537e9-52e5-4190-8d78-8f7cf6b9957f status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:56:33,426 - src.tws_connection - INFO - Open Order - ID: 98, Symbol: SQQQ, Action: SELL, Quantity: 1363.0
2025-06-12 15:56:33,703 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.87)
2025-06-12 15:56:33,748 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SQQQ: ['f97537e9-52e5-4190-8d78-8f7cf6b9957f']
2025-06-12 15:56:33,749 - src.rule.linked_order_actions - INFO - Executing double down action for SQQQ
2025-06-12 15:56:38,780 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SQQQ: 0.0929
2025-06-12 15:56:38,780 - src.rule.linked_order_actions - INFO - Double down calc for SQQQ (BUY): current=$22.00, stop_distance=$0.09, dd_distance=$0.05, dd_price=$21.95, original_qty=1363, dd_qty=1363
2025-06-12 15:56:38,780 - src.order.base - INFO - Order ff6b23ce-2ff3-488e-ad4b-49d8f6a7c598 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:56:38,780 - src.order.manager - INFO - Submitting order ff6b23ce-2ff3-488e-ad4b-49d8f6a7c598 to TWS
2025-06-12 15:56:38,781 - src.order.manager - INFO - Got broker order ID 99 for order ff6b23ce-2ff3-488e-ad4b-49d8f6a7c598
2025-06-12 15:56:38,781 - src.order.manager - INFO - Calling placeOrder with ID 99, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1363@21.950000 DAY
2025-06-12 15:56:38,781 - src.order.manager - INFO - placeOrder called successfully for order ff6b23ce-2ff3-488e-ad4b-49d8f6a7c598
2025-06-12 15:56:38,781 - src.order.base - INFO - Order ff6b23ce-2ff3-488e-ad4b-49d8f6a7c598 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:56:38,782 - src.position.position_manager - INFO - Added 1 doubledown orders to SQQQ position
2025-06-12 15:56:38,782 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for SQQQ: 1363 shares @ $21.95
2025-06-12 15:56:38,782 - src.rule.linked_order_actions - INFO - Auto-created double down order for SQQQ
2025-06-12 15:56:38,782 - src.rule.linked_order_actions - INFO - Created and linked BUY main order a1235550-c08b-4655-b1da-b6f030227873 for SQQQ
2025-06-12 15:56:38,886 - src.tws_connection - INFO - Open Order - ID: 99, Symbol: SQQQ, Action: BUY, Quantity: 1363.0
2025-06-12 15:57:34,226 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.90)
2025-06-12 15:57:34,665 - src.api.monitor - INFO - New prediction: GLD SELL (0.80)
2025-06-12 15:57:34,667 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for GLD - already have active SELL trade
2025-06-12 15:57:36,573 - src.api.monitor - INFO - New prediction: SLV BUY (0.57)
2025-06-12 15:57:36,574 - src.trade_tracker - INFO - Started tracking BUY trade for SLV
2025-06-12 15:57:36,575 - src.position.position_manager - INFO - Opened BUY position for SLV
2025-06-12 15:57:37,178 - src.position.sizer - INFO - BUY position size: 907 shares @ $33.04 = $29967.28 (99.9% of $30000.00 allocation)
2025-06-12 15:57:37,179 - src.order.base - INFO - Order 89a42a81-7c5b-4d1d-bf4b-a7de731234ea status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:57:37,179 - src.order.manager - INFO - Submitting order 89a42a81-7c5b-4d1d-bf4b-a7de731234ea to TWS
2025-06-12 15:57:37,179 - src.order.manager - INFO - Got broker order ID 100 for order 89a42a81-7c5b-4d1d-bf4b-a7de731234ea
2025-06-12 15:57:37,179 - src.order.manager - INFO - Calling placeOrder with ID 100, contract 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 907@0.000000 DAY
2025-06-12 15:57:37,180 - src.order.manager - INFO - placeOrder called successfully for order 89a42a81-7c5b-4d1d-bf4b-a7de731234ea
2025-06-12 15:57:37,180 - src.order.base - INFO - Order 89a42a81-7c5b-4d1d-bf4b-a7de731234ea status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:57:37,180 - src.position.position_manager - INFO - Added 1 main orders to SLV position
2025-06-12 15:57:37,301 - src.tws_connection - INFO - Open Order - ID: 100, Symbol: SLV, Action: BUY, Quantity: 907.0
2025-06-12 15:57:37,302 - src.order.base - INFO - Order 89a42a81-7c5b-4d1d-bf4b-a7de731234ea status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:57:37,304 - src.order.base - INFO - Order 89a42a81-7c5b-4d1d-bf4b-a7de731234ea status changed: accepted -> filled (Order fully filled)
2025-06-12 15:57:37,304 - src.tws_connection - INFO - Open Order - ID: 100, Symbol: SLV, Action: BUY, Quantity: 907.0
2025-06-12 15:57:37,305 - src.order.base - INFO - Order 89a42a81-7c5b-4d1d-bf4b-a7de731234ea filled: 907.0 @ 33.05 (907.0/907)
2025-06-12 15:57:37,306 - UnifiedFillManager - INFO - Processing fill for SLV: 907.0 shares on order 89a42a81-7c5b-4d1d-bf4b-a7de731234ea
2025-06-12 15:57:37,306 - UnifiedFillManager - INFO - Fill is for main order
2025-06-12 15:57:37,306 - UnifiedFillManager - INFO - Order 89a42a81-7c5b-4d1d-bf4b-a7de731234ea fill status: filled, is_fully_filled: True
2025-06-12 15:57:37,306 - UnifiedFillManager - INFO - Main order filled for SLV
2025-06-12 15:57:37,306 - UnifiedFillManager - INFO - Position state after main fill:
2025-06-12 15:57:37,307 - UnifiedFillManager - INFO -   Main orders: {'89a42a81-7c5b-4d1d-bf4b-a7de731234ea'}
2025-06-12 15:57:37,307 - src.tws_connection - INFO - Open Order - ID: 100, Symbol: SLV, Action: BUY, Quantity: 907.0
2025-06-12 15:57:37,307 - UnifiedFillManager - INFO -   Stop orders: set()
2025-06-12 15:57:37,308 - UnifiedFillManager - INFO -   Target orders: set()
2025-06-12 15:57:37,308 - UnifiedFillManager - INFO -   Double down orders: set()
2025-06-12 15:57:37,308 - UnifiedFillManager - INFO -   Current position size: 907.0
2025-06-12 15:57:37,308 - UnifiedFillManager - INFO - Updating protective orders after main fill to match position size: 907.0
2025-06-12 15:57:37,308 - UnifiedFillManager - INFO - Updating protective orders for SLV: position=907.0, protective_qty=-907.0
2025-06-12 15:57:37,308 - UnifiedFillManager - INFO - Checking protective orders to update for SLV
2025-06-12 15:57:37,308 - UnifiedFillManager - INFO - Checking 0 stop orders
2025-06-12 15:57:37,308 - UnifiedFillManager - INFO - Checking 0 target orders
2025-06-12 15:57:37,309 - UnifiedFillManager - INFO - Started order queue processor for SLV
2025-06-12 15:57:38,220 - src.rule.linked_order_actions - INFO - ATR for SLV: 0.0121
2025-06-12 15:57:38,221 - src.rule.linked_order_actions - INFO - ATR-based stop: SLV stop at $32.96 (ATR: 0.0121 * 6.5 = 0.0789)
2025-06-12 15:57:38,221 - src.order.base - INFO - Order b1996b3a-e2c3-4645-a52c-2abc0be77ded status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:57:38,221 - src.order.manager - INFO - Submitting order b1996b3a-e2c3-4645-a52c-2abc0be77ded to TWS
2025-06-12 15:57:38,221 - src.order.manager - INFO - Got broker order ID 101 for order b1996b3a-e2c3-4645-a52c-2abc0be77ded
2025-06-12 15:57:38,221 - src.order.manager - INFO - Calling placeOrder with ID 101, contract 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 907@0.000000 DAY
2025-06-12 15:57:38,222 - src.order.manager - INFO - placeOrder called successfully for order b1996b3a-e2c3-4645-a52c-2abc0be77ded
2025-06-12 15:57:38,222 - src.order.base - INFO - Order b1996b3a-e2c3-4645-a52c-2abc0be77ded status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:57:38,222 - src.position.position_manager - INFO - Added 1 stop orders to SLV position
2025-06-12 15:57:38,222 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss b1996b3a-e2c3-4645-a52c-2abc0be77ded at $32.96
2025-06-12 15:57:38,222 - src.rule.linked_order_actions - INFO - ATR-based target: SLV target at $33.08 (ATR: 0.0121 * 3.0 = 0.0364)
2025-06-12 15:57:38,223 - src.order.base - INFO - Order 540bbda9-a3a8-406c-8bbd-e53595b96d3b status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:57:38,223 - src.order.manager - INFO - Submitting order 540bbda9-a3a8-406c-8bbd-e53595b96d3b to TWS
2025-06-12 15:57:38,223 - src.order.manager - INFO - Got broker order ID 102 for order 540bbda9-a3a8-406c-8bbd-e53595b96d3b
2025-06-12 15:57:38,224 - src.order.manager - INFO - Calling placeOrder with ID 102, contract 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 907@33.080000 DAY
2025-06-12 15:57:38,224 - src.order.manager - INFO - placeOrder called successfully for order 540bbda9-a3a8-406c-8bbd-e53595b96d3b
2025-06-12 15:57:38,224 - src.order.base - INFO - Order 540bbda9-a3a8-406c-8bbd-e53595b96d3b status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:57:38,225 - src.position.position_manager - INFO - Added 1 target orders to SLV position
2025-06-12 15:57:38,225 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit 540bbda9-a3a8-406c-8bbd-e53595b96d3b at $33.08
2025-06-12 15:57:38,225 - src.rule.linked_order_actions - INFO - Starting double down order creation for SLV
2025-06-12 15:57:38,226 - src.api.monitor - INFO - New prediction: SOXL SELL (0.88)
2025-06-12 15:57:38,294 - src.tws_connection - INFO - Open Order - ID: 101, Symbol: SLV, Action: SELL, Quantity: 907.0
2025-06-12 15:57:38,295 - src.order.base - INFO - Order b1996b3a-e2c3-4645-a52c-2abc0be77ded status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:57:38,350 - src.tws_connection - INFO - Open Order - ID: 102, Symbol: SLV, Action: SELL, Quantity: 907.0
2025-06-12 15:57:38,737 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SLV: ['b1996b3a-e2c3-4645-a52c-2abc0be77ded']
2025-06-12 15:57:38,738 - src.rule.linked_order_actions - INFO - Executing double down action for SLV
2025-06-12 15:57:39,496 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SLV: 0.0789
2025-06-12 15:57:39,496 - src.rule.linked_order_actions - INFO - Double down calc for SLV (BUY): current=$33.04, stop_distance=$0.08, dd_distance=$0.04, dd_price=$33.00, original_qty=907, dd_qty=907
2025-06-12 15:57:39,497 - src.order.base - INFO - Order 5c7ff670-7580-482c-969f-2936048c93d6 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:57:39,497 - src.order.manager - INFO - Submitting order 5c7ff670-7580-482c-969f-2936048c93d6 to TWS
2025-06-12 15:57:39,497 - src.order.manager - INFO - Got broker order ID 103 for order 5c7ff670-7580-482c-969f-2936048c93d6
2025-06-12 15:57:39,498 - src.order.manager - INFO - Calling placeOrder with ID 103, contract 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 907@33.000000 DAY
2025-06-12 15:57:39,498 - src.order.manager - INFO - placeOrder called successfully for order 5c7ff670-7580-482c-969f-2936048c93d6
2025-06-12 15:57:39,499 - src.order.base - INFO - Order 5c7ff670-7580-482c-969f-2936048c93d6 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:57:39,499 - src.position.position_manager - INFO - Added 1 doubledown orders to SLV position
2025-06-12 15:57:39,499 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for SLV: 907 shares @ $33.00
2025-06-12 15:57:39,499 - src.rule.linked_order_actions - INFO - Auto-created double down order for SLV
2025-06-12 15:57:39,499 - src.rule.linked_order_actions - INFO - Created and linked BUY main order 89a42a81-7c5b-4d1d-bf4b-a7de731234ea for SLV
2025-06-12 15:57:39,501 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.58)
2025-06-12 15:57:39,596 - src.tws_connection - INFO - Open Order - ID: 103, Symbol: SLV, Action: BUY, Quantity: 907.0
2025-06-12 15:57:40,760 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.75)
2025-06-12 15:57:41,963 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.93)
2025-06-12 15:57:43,107 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.91)
2025-06-12 15:58:16,652 - src.order.base - INFO - Order ff6b23ce-2ff3-488e-ad4b-49d8f6a7c598 status changed: submitted -> filled (Order fully filled)
2025-06-12 15:58:16,653 - src.order.base - INFO - Order ff6b23ce-2ff3-488e-ad4b-49d8f6a7c598 filled: 1363.0 @ 21.95 (1363.0/1363)
2025-06-12 15:58:16,652 - src.tws_connection - INFO - Open Order - ID: 99, Symbol: SQQQ, Action: BUY, Quantity: 1363.0
2025-06-12 15:58:16,653 - UnifiedFillManager - INFO - Processing fill for SQQQ: 1363.0 shares on order ff6b23ce-2ff3-488e-ad4b-49d8f6a7c598
2025-06-12 15:58:16,654 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-12 15:58:16,654 - UnifiedFillManager - INFO - Order ff6b23ce-2ff3-488e-ad4b-49d8f6a7c598 fill status: filled, is_fully_filled: True
2025-06-12 15:58:16,654 - UnifiedFillManager - INFO - Double down fill for SQQQ, new position size: 2726.0
2025-06-12 15:58:16,654 - UnifiedFillManager - INFO - Updating protective orders for SQQQ: position=2726.0, protective_qty=-2726.0
2025-06-12 15:58:16,654 - UnifiedFillManager - INFO - Checking protective orders to update for SQQQ
2025-06-12 15:58:16,654 - UnifiedFillManager - INFO - Checking 1 stop orders
2025-06-12 15:58:16,654 - UnifiedFillManager - INFO - Queueing update for stop order f97537e9-52e5-4190-8d78-8f7cf6b9957f: current qty=-1363, new qty=-2726.0
2025-06-12 15:58:16,654 - UnifiedFillManager - INFO - Checking 1 target orders
2025-06-12 15:58:16,654 - UnifiedFillManager - INFO - Queueing update for target order 4d54badc-8987-4db1-9bad-763143859ead: current qty=-1363, new qty=-2726.0
2025-06-12 15:58:16,655 - UnifiedFillManager - INFO - Processing operation for SQQQ: replace_stop
2025-06-12 15:58:16,655 - src.order.base - INFO - Order f97537e9-52e5-4190-8d78-8f7cf6b9957f status changed: accepted -> pending_cancel (Updating quantity to -2726.0)
2025-06-12 15:58:16,655 - src.order.manager - INFO - Cancelling order f97537e9-52e5-4190-8d78-8f7cf6b9957f with broker ID 97
2025-06-12 15:58:16,656 - src.tws_connection - INFO - Open Order - ID: 99, Symbol: SQQQ, Action: BUY, Quantity: 1363.0
2025-06-12 15:58:16,690 - src.order.base - INFO - Order f97537e9-52e5-4190-8d78-8f7cf6b9957f status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:58:16,689 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 97)
2025-06-12 15:58:16,757 - src.order.base - INFO - Order f2e8492d-df4d-4961-af90-1752e5a08a16 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:58:16,757 - src.order.manager - INFO - Submitting order f2e8492d-df4d-4961-af90-1752e5a08a16 to TWS
2025-06-12 15:58:16,758 - src.order.manager - INFO - Got broker order ID 104 for order f2e8492d-df4d-4961-af90-1752e5a08a16
2025-06-12 15:58:16,758 - src.order.manager - INFO - Calling placeOrder with ID 104, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 2726@0.000000 DAY
2025-06-12 15:58:16,758 - src.order.manager - INFO - placeOrder called successfully for order f2e8492d-df4d-4961-af90-1752e5a08a16
2025-06-12 15:58:16,759 - src.order.base - INFO - Order f2e8492d-df4d-4961-af90-1752e5a08a16 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:58:16,759 - src.position.position_manager - INFO - Added 1 stop orders to SQQQ position
2025-06-12 15:58:16,759 - UnifiedFillManager - INFO - Created updated stop order f2e8492d-df4d-4961-af90-1752e5a08a16 for SQQQ at $21.90 for -2726.0 shares
2025-06-12 15:58:16,760 - UnifiedFillManager - INFO - Completed operation for SQQQ: replace_stop
2025-06-12 15:58:16,760 - UnifiedFillManager - INFO - Processing operation for SQQQ: replace_target
2025-06-12 15:58:16,760 - src.order.base - INFO - Order 4d54badc-8987-4db1-9bad-763143859ead status changed: submitted -> pending_cancel (Updating quantity to -2726.0)
2025-06-12 15:58:16,760 - src.order.manager - INFO - Cancelling order 4d54badc-8987-4db1-9bad-763143859ead with broker ID 98
2025-06-12 15:58:16,860 - src.order.base - INFO - Order 4d54badc-8987-4db1-9bad-763143859ead status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:58:16,860 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 98)
2025-06-12 15:58:16,863 - src.tws_connection - INFO - Open Order - ID: 104, Symbol: SQQQ, Action: SELL, Quantity: 2726.0
2025-06-12 15:58:16,864 - src.order.base - INFO - Order f2e8492d-df4d-4961-af90-1752e5a08a16 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 15:58:16,864 - src.order.base - INFO - Order f92445ec-17cc-49fc-83a2-a166a707310d status changed: created -> pending_submit (Submitting to broker)
2025-06-12 15:58:16,864 - src.order.manager - INFO - Submitting order f92445ec-17cc-49fc-83a2-a166a707310d to TWS
2025-06-12 15:58:16,864 - src.order.manager - INFO - Got broker order ID 105 for order f92445ec-17cc-49fc-83a2-a166a707310d
2025-06-12 15:58:16,864 - src.order.manager - INFO - Calling placeOrder with ID 105, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 2726@22.030000 DAY
2025-06-12 15:58:16,864 - src.order.manager - INFO - placeOrder called successfully for order f92445ec-17cc-49fc-83a2-a166a707310d
2025-06-12 15:58:16,865 - src.order.base - INFO - Order f92445ec-17cc-49fc-83a2-a166a707310d status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 15:58:16,865 - src.position.position_manager - INFO - Added 1 target orders to SQQQ position
2025-06-12 15:58:16,865 - UnifiedFillManager - INFO - Created updated target order f92445ec-17cc-49fc-83a2-a166a707310d for SQQQ at $22.03 for -2726.0 shares
2025-06-12 15:58:16,865 - UnifiedFillManager - INFO - Completed operation for SQQQ: replace_target
2025-06-12 15:58:16,954 - src.tws_connection - INFO - Open Order - ID: 105, Symbol: SQQQ, Action: SELL, Quantity: 2726.0
2025-06-12 15:58:44,738 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.85)
2025-06-12 15:58:47,263 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.51)
2025-06-12 15:58:49,141 - src.api.monitor - INFO - New prediction: SLV BUY (0.69)
2025-06-12 15:58:51,267 - src.api.monitor - INFO - New prediction: SOXL SELL (0.89)
2025-06-12 15:58:52,847 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.69)
2025-06-12 15:58:53,953 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.93)
2025-06-12 15:58:55,264 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.75)
2025-06-12 15:58:57,529 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.78)
2025-06-12 15:59:00,137 - src.order.manager - WARNING - Cannot cancel inactive order be4be3d0-a912-4344-99c4-bba72a31507b with status filled
2025-06-12 15:59:00,137 - src.order.manager - WARNING - Cannot cancel inactive order 35642b71-3a69-46a6-8a1a-14fc905f0020 with status cancelled
2025-06-12 15:59:00,138 - src.order.manager - WARNING - Cannot cancel inactive order 1570524a-d713-4ece-8de1-919ac0b2e23a with status filled
2025-06-12 15:59:00,138 - src.order.manager - WARNING - Cannot cancel inactive order d903ce50-f30e-4e63-8c90-d95e333d8f3c with status cancelled
2025-06-12 15:59:00,138 - src.position.position_manager - INFO - Closed position for CVNA
2025-06-12 15:59:00,138 - src.rule.linked_order_actions - INFO - Closed all linked orders and position for CVNA
2025-06-12 15:59:00,139 - src.order.manager - WARNING - Cannot cancel inactive order e1e2faae-a520-44cc-ad0c-c83ab5739ead with status filled
2025-06-12 15:59:00,139 - src.order.manager - WARNING - Cannot cancel inactive order 4c86351e-3d1f-4759-b95e-e8935f2ed1b8 with status cancelled
2025-06-12 15:59:00,139 - src.order.manager - WARNING - Cannot cancel inactive order 72651465-1f9b-47c0-a6f8-a426323528da with status filled
2025-06-12 15:59:00,139 - src.order.manager - WARNING - Cannot cancel inactive order 2d430390-3240-431b-aa54-b991c3c7a122 with status pending_cancel
2025-06-12 15:59:00,140 - src.position.position_manager - INFO - Closed position for UVXY
2025-06-12 15:59:00,140 - src.rule.linked_order_actions - INFO - Closed all linked orders and position for UVXY
2025-06-12 15:59:00,140 - src.order.manager - WARNING - Cannot cancel inactive order dad0af6a-c4fc-4c67-ada1-5c5ecf77905f with status cancelled
2025-06-12 15:59:00,140 - src.order.manager - WARNING - Cannot cancel inactive order 6cd7cb17-586e-4dfb-96be-4f323dd501cd with status cancelled
2025-06-12 15:59:00,140 - src.order.manager - WARNING - Cannot cancel inactive order bb799db1-5529-49be-be0e-63fb1cd5377f with status filled
2025-06-12 15:59:00,140 - src.order.manager - WARNING - Cannot cancel inactive order 13c951b1-82b9-4d63-aca3-b66b99ed255b with status cancelled
2025-06-12 15:59:00,141 - src.trade_tracker - INFO - Closed trade for SOXL
2025-06-12 15:59:00,141 - src.position.position_manager - INFO - Closed position for SOXL
2025-06-12 15:59:00,141 - src.rule.linked_order_actions - INFO - Closed all linked orders and position for SOXL
2025-06-12 15:59:00,141 - src.order.manager - WARNING - Cannot cancel inactive order 6ee1d2e5-9aec-4f42-8303-ceff37f030b1 with status filled
2025-06-12 15:59:00,141 - src.order.manager - WARNING - Cannot cancel inactive order c656c9bc-a678-4bfa-8f57-7ac9c34035cd with status cancelled
2025-06-12 15:59:00,141 - src.order.manager - WARNING - Cannot cancel inactive order 56e23eb1-4e77-4ced-8187-6d930bcb5a88 with status cancelled
2025-06-12 15:59:00,142 - src.order.manager - WARNING - Cannot cancel inactive order 4e158a92-092f-4715-986a-bb660512b216 with status filled
2025-06-12 15:59:00,142 - src.position.position_manager - INFO - Closed position for SOXS
2025-06-12 15:59:00,142 - src.rule.linked_order_actions - INFO - Closed all linked orders and position for SOXS
2025-06-12 15:59:00,142 - src.order.manager - WARNING - Cannot cancel inactive order 8b0c69c1-3967-4e6f-8cc6-54b1e1da0c09 with status filled
2025-06-12 15:59:00,142 - src.order.manager - WARNING - Cannot cancel inactive order 0e03d49a-b770-403d-9184-39ea026d765b with status cancelled
2025-06-12 15:59:00,143 - src.order.manager - WARNING - Cannot cancel inactive order 9ef9b0da-e52c-4fa7-856d-ccc0e7ed8adf with status cancelled
2025-06-12 15:59:00,143 - src.order.manager - WARNING - Cannot cancel inactive order 6d508399-7653-4d25-82af-07d16730193b with status filled
2025-06-12 15:59:00,143 - src.position.position_manager - INFO - Closed position for TQQQ
2025-06-12 15:59:00,143 - src.rule.linked_order_actions - INFO - Closed all linked orders and position for TQQQ
2025-06-12 15:59:00,143 - src.order.manager - WARNING - Cannot cancel inactive order a1235550-c08b-4655-b1da-b6f030227873 with status filled
2025-06-12 15:59:00,143 - src.order.base - INFO - Order f92445ec-17cc-49fc-83a2-a166a707310d status changed: submitted -> pending_cancel (End of day close)
2025-06-12 15:59:00,144 - src.order.manager - INFO - Cancelling order f92445ec-17cc-49fc-83a2-a166a707310d with broker ID 105
2025-06-12 15:59:00,144 - src.order.manager - WARNING - Cannot cancel inactive order ff6b23ce-2ff3-488e-ad4b-49d8f6a7c598 with status filled
2025-06-12 15:59:00,144 - src.order.base - INFO - Order f2e8492d-df4d-4961-af90-1752e5a08a16 status changed: accepted -> pending_cancel (End of day close)
2025-06-12 15:59:00,145 - src.order.manager - INFO - Cancelling order f2e8492d-df4d-4961-af90-1752e5a08a16 with broker ID 104
2025-06-12 15:59:00,145 - src.trade_tracker - INFO - Closed trade for SQQQ
2025-06-12 15:59:00,145 - src.position.position_manager - INFO - Closed position for SQQQ
2025-06-12 15:59:00,145 - src.rule.linked_order_actions - INFO - Closed all linked orders and position for SQQQ
2025-06-12 15:59:00,145 - src.order.manager - WARNING - Cannot cancel inactive order d0672b89-92ab-4654-9b46-a6c81e0b2c43 with status cancelled
2025-06-12 15:59:00,145 - src.order.manager - WARNING - Cannot cancel inactive order 75c43014-cbfc-461a-bb6f-1d8eef993146 with status filled
2025-06-12 15:59:00,145 - src.order.manager - WARNING - Cannot cancel inactive order 3ec74624-ec23-4c37-9ad3-6289e5376afe with status cancelled
2025-06-12 15:59:00,145 - src.order.manager - WARNING - Cannot cancel inactive order d3c4115a-7aa0-4994-8237-8a3820ca7a43 with status cancelled
2025-06-12 15:59:00,146 - src.trade_tracker - INFO - Closed trade for GLD
2025-06-12 15:59:00,146 - src.position.position_manager - INFO - Closed position for GLD
2025-06-12 15:59:00,146 - src.rule.linked_order_actions - INFO - Closed all linked orders and position for GLD
2025-06-12 15:59:00,146 - src.order.base - INFO - Order 540bbda9-a3a8-406c-8bbd-e53595b96d3b status changed: submitted -> pending_cancel (End of day close)
2025-06-12 15:59:00,146 - src.order.manager - INFO - Cancelling order 540bbda9-a3a8-406c-8bbd-e53595b96d3b with broker ID 102
2025-06-12 15:59:00,147 - src.order.manager - WARNING - Cannot cancel inactive order 89a42a81-7c5b-4d1d-bf4b-a7de731234ea with status filled
2025-06-12 15:59:00,147 - src.order.base - INFO - Order 5c7ff670-7580-482c-969f-2936048c93d6 status changed: submitted -> pending_cancel (End of day close)
2025-06-12 15:59:00,147 - src.order.manager - INFO - Cancelling order 5c7ff670-7580-482c-969f-2936048c93d6 with broker ID 103
2025-06-12 15:59:00,147 - src.order.base - INFO - Order b1996b3a-e2c3-4645-a52c-2abc0be77ded status changed: accepted -> pending_cancel (End of day close)
2025-06-12 15:59:00,148 - src.order.manager - INFO - Cancelling order b1996b3a-e2c3-4645-a52c-2abc0be77ded with broker ID 101
2025-06-12 15:59:00,148 - src.trade_tracker - INFO - Closed trade for SLV
2025-06-12 15:59:00,148 - src.position.position_manager - INFO - Closed position for SLV
2025-06-12 15:59:00,148 - src.rule.linked_order_actions - INFO - Closed all linked orders and position for SLV
2025-06-12 15:59:00,204 - src.order.base - INFO - Order f92445ec-17cc-49fc-83a2-a166a707310d status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:59:00,204 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 105)
2025-06-12 15:59:00,278 - src.order.base - INFO - Order f2e8492d-df4d-4961-af90-1752e5a08a16 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:59:00,278 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 104)
2025-06-12 15:59:00,428 - src.order.base - INFO - Order 540bbda9-a3a8-406c-8bbd-e53595b96d3b status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:59:00,427 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 102)
2025-06-12 15:59:00,499 - src.order.base - INFO - Order 5c7ff670-7580-482c-969f-2936048c93d6 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:59:00,499 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 103)
2025-06-12 15:59:00,578 - src.order.base - INFO - Order b1996b3a-e2c3-4645-a52c-2abc0be77ded status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-12 15:59:00,577 - src.tws_connection - WARNING - ⚠️ TWS Error 202: Order Canceled - reason: (reqId: 101)
2025-06-12 15:59:59,406 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.62)
2025-06-12 16:00:01,523 - src.api.monitor - INFO - New prediction: GLD SELL (0.74)
2025-06-12 16:00:03,843 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.78)
2025-06-12 16:00:05,680 - src.api.monitor - INFO - New prediction: SOXL SELL (0.86)
2025-06-12 16:00:05,682 - src.trade_tracker - INFO - Started tracking SELL trade for SOXL
2025-06-12 16:00:05,682 - src.position.position_manager - INFO - Opened SELL position for SOXL
2025-06-12 16:00:06,606 - src.position.sizer - INFO - SELL position size: 1380 shares @ $21.73 = $29987.40 (100.0% of $30000.00 allocation)
2025-06-12 16:00:06,607 - src.order.base - INFO - Order ce0fa15b-36ef-45c2-81eb-b473108f6f2e status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:00:06,607 - src.order.manager - INFO - Submitting order ce0fa15b-36ef-45c2-81eb-b473108f6f2e to TWS
2025-06-12 16:00:06,608 - src.order.manager - INFO - Got broker order ID 106 for order ce0fa15b-36ef-45c2-81eb-b473108f6f2e
2025-06-12 16:00:06,608 - src.order.manager - INFO - Calling placeOrder with ID 106, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 1380@0.000000 DAY
2025-06-12 16:00:06,609 - src.order.manager - INFO - placeOrder called successfully for order ce0fa15b-36ef-45c2-81eb-b473108f6f2e
2025-06-12 16:00:06,609 - src.order.base - INFO - Order ce0fa15b-36ef-45c2-81eb-b473108f6f2e status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:00:06,610 - src.position.position_manager - INFO - Added 1 main orders to SOXL position
2025-06-12 16:00:06,686 - src.tws_connection - INFO - Open Order - ID: 106, Symbol: SOXL, Action: SELL, Quantity: 1380.0
2025-06-12 16:00:06,775 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 106)
2025-06-12 16:00:06,777 - src.tws_connection - INFO - Open Order - ID: 106, Symbol: SOXL, Action: SELL, Quantity: 1380.0
2025-06-12 16:00:08,340 - src.rule.linked_order_actions - INFO - ATR for SOXL: 0.0186
2025-06-12 16:00:08,341 - src.rule.linked_order_actions - INFO - ATR-based stop: SOXL stop at $21.85 (ATR: 0.0186 * 6.5 = 0.1207)
2025-06-12 16:00:08,341 - src.order.base - INFO - Order d30d4ad3-d759-4cec-a109-0116515c923f status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:00:08,342 - src.order.manager - INFO - Submitting order d30d4ad3-d759-4cec-a109-0116515c923f to TWS
2025-06-12 16:00:08,342 - src.order.manager - INFO - Got broker order ID 107 for order d30d4ad3-d759-4cec-a109-0116515c923f
2025-06-12 16:00:08,342 - src.order.manager - INFO - Calling placeOrder with ID 107, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 1380@0.000000 DAY
2025-06-12 16:00:08,343 - src.order.manager - INFO - placeOrder called successfully for order d30d4ad3-d759-4cec-a109-0116515c923f
2025-06-12 16:00:08,344 - src.order.base - INFO - Order d30d4ad3-d759-4cec-a109-0116515c923f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:00:08,344 - src.position.position_manager - INFO - Added 1 stop orders to SOXL position
2025-06-12 16:00:08,344 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss d30d4ad3-d759-4cec-a109-0116515c923f at $21.85
2025-06-12 16:00:08,345 - src.rule.linked_order_actions - INFO - ATR-based target: SOXL target at $21.67 (ATR: 0.0186 * 3.0 = 0.0557)
2025-06-12 16:00:08,345 - src.order.base - INFO - Order 55eeb880-5200-4c99-bfce-c306caf731c1 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:00:08,346 - src.order.manager - INFO - Submitting order 55eeb880-5200-4c99-bfce-c306caf731c1 to TWS
2025-06-12 16:00:08,346 - src.order.manager - INFO - Got broker order ID 108 for order 55eeb880-5200-4c99-bfce-c306caf731c1
2025-06-12 16:00:08,346 - src.order.manager - INFO - Calling placeOrder with ID 108, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1380@21.670000 DAY
2025-06-12 16:00:08,347 - src.order.manager - INFO - placeOrder called successfully for order 55eeb880-5200-4c99-bfce-c306caf731c1
2025-06-12 16:00:08,347 - src.order.base - INFO - Order 55eeb880-5200-4c99-bfce-c306caf731c1 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:00:08,348 - src.position.position_manager - INFO - Added 1 target orders to SOXL position
2025-06-12 16:00:08,348 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit 55eeb880-5200-4c99-bfce-c306caf731c1 at $21.67
2025-06-12 16:00:08,348 - src.rule.linked_order_actions - INFO - Starting double down order creation for SOXL
2025-06-12 16:00:08,349 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.68)
2025-06-12 16:00:08,412 - src.tws_connection - INFO - Open Order - ID: 107, Symbol: SOXL, Action: BUY, Quantity: 1380.0
2025-06-12 16:00:08,413 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 107)
2025-06-12 16:00:08,413 - src.tws_connection - INFO - Open Order - ID: 107, Symbol: SOXL, Action: BUY, Quantity: 1380.0
2025-06-12 16:00:08,445 - src.tws_connection - INFO - Open Order - ID: 108, Symbol: SOXL, Action: BUY, Quantity: 1380.0
2025-06-12 16:00:08,445 - src.order.base - INFO - Order 55eeb880-5200-4c99-bfce-c306caf731c1 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:00:08,487 - src.tws_connection - INFO - Open Order - ID: 108, Symbol: SOXL, Action: BUY, Quantity: 1380.0
2025-06-12 16:00:08,488 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 108)
2025-06-12 16:00:08,489 - src.tws_connection - INFO - Open Order - ID: 108, Symbol: SOXL, Action: BUY, Quantity: 1380.0
2025-06-12 16:00:08,850 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SOXL: ['d30d4ad3-d759-4cec-a109-0116515c923f']
2025-06-12 16:00:08,851 - src.rule.linked_order_actions - INFO - Executing double down action for SOXL
2025-06-12 16:00:10,398 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SOXL: 0.1207
2025-06-12 16:00:10,398 - src.rule.linked_order_actions - INFO - Double down calc for SOXL (SELL): current=$21.71, stop_distance=$0.12, dd_distance=$0.06, dd_price=$21.77, original_qty=1380, dd_qty=-1380
2025-06-12 16:00:10,399 - src.order.base - INFO - Order 0a8b48a7-648d-4c3d-b530-6e0772d88467 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:00:10,399 - src.order.manager - INFO - Submitting order 0a8b48a7-648d-4c3d-b530-6e0772d88467 to TWS
2025-06-12 16:00:10,399 - src.order.manager - INFO - Got broker order ID 109 for order 0a8b48a7-648d-4c3d-b530-6e0772d88467
2025-06-12 16:00:10,400 - src.order.manager - INFO - Calling placeOrder with ID 109, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1380@21.770000 DAY
2025-06-12 16:00:10,400 - src.order.manager - INFO - placeOrder called successfully for order 0a8b48a7-648d-4c3d-b530-6e0772d88467
2025-06-12 16:00:10,400 - src.order.base - INFO - Order 0a8b48a7-648d-4c3d-b530-6e0772d88467 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:00:10,401 - src.position.position_manager - INFO - Added 1 doubledown orders to SOXL position
2025-06-12 16:00:10,401 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for SOXL: -1380 shares @ $21.77
2025-06-12 16:00:10,401 - src.rule.linked_order_actions - INFO - Auto-created double down order for SOXL
2025-06-12 16:00:10,401 - src.rule.linked_order_actions - INFO - Created and linked SELL main order ce0fa15b-36ef-45c2-81eb-b473108f6f2e for SOXL
2025-06-12 16:00:10,402 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.93)
2025-06-12 16:00:10,404 - src.trade_tracker - INFO - Started tracking BUY trade for SQQQ
2025-06-12 16:00:10,404 - src.position.position_manager - INFO - Opened BUY position for SQQQ
2025-06-12 16:00:10,513 - src.tws_connection - INFO - Open Order - ID: 109, Symbol: SOXL, Action: SELL, Quantity: 1380.0
2025-06-12 16:00:10,513 - src.order.base - INFO - Order 0a8b48a7-648d-4c3d-b530-6e0772d88467 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:00:10,554 - src.tws_connection - INFO - Open Order - ID: 109, Symbol: SOXL, Action: SELL, Quantity: 1380.0
2025-06-12 16:00:10,555 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 109)
2025-06-12 16:00:10,555 - src.tws_connection - INFO - Open Order - ID: 109, Symbol: SOXL, Action: SELL, Quantity: 1380.0
2025-06-12 16:00:11,405 - src.position.sizer - INFO - BUY position size: 1367 shares @ $21.93 = $29978.31 (99.9% of $30000.00 allocation)
2025-06-12 16:00:11,405 - src.order.base - INFO - Order fa0247a1-ae7b-4e9a-925b-b054d381c2d8 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:00:11,406 - src.order.manager - INFO - Submitting order fa0247a1-ae7b-4e9a-925b-b054d381c2d8 to TWS
2025-06-12 16:00:11,406 - src.order.manager - INFO - Got broker order ID 110 for order fa0247a1-ae7b-4e9a-925b-b054d381c2d8
2025-06-12 16:00:11,406 - src.order.manager - INFO - Calling placeOrder with ID 110, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 1367@0.000000 DAY
2025-06-12 16:00:11,406 - src.order.manager - INFO - placeOrder called successfully for order fa0247a1-ae7b-4e9a-925b-b054d381c2d8
2025-06-12 16:00:11,407 - src.order.base - INFO - Order fa0247a1-ae7b-4e9a-925b-b054d381c2d8 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:00:11,407 - src.position.position_manager - INFO - Added 1 main orders to SQQQ position
2025-06-12 16:00:11,506 - src.tws_connection - INFO - Open Order - ID: 110, Symbol: SQQQ, Action: BUY, Quantity: 1367.0
2025-06-12 16:00:11,524 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 110)
2025-06-12 16:00:11,525 - src.tws_connection - INFO - Open Order - ID: 110, Symbol: SQQQ, Action: BUY, Quantity: 1367.0
2025-06-12 16:00:12,445 - src.rule.linked_order_actions - INFO - ATR for SQQQ: 0.0143
2025-06-12 16:00:12,445 - src.rule.linked_order_actions - INFO - ATR-based stop: SQQQ stop at $21.84 (ATR: 0.0143 * 6.5 = 0.0929)
2025-06-12 16:00:12,446 - src.order.base - INFO - Order 41c1c4d5-7b1a-492c-bb09-cb757a6c9dd8 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:00:12,446 - src.order.manager - INFO - Submitting order 41c1c4d5-7b1a-492c-bb09-cb757a6c9dd8 to TWS
2025-06-12 16:00:12,446 - src.order.manager - INFO - Got broker order ID 111 for order 41c1c4d5-7b1a-492c-bb09-cb757a6c9dd8
2025-06-12 16:00:12,446 - src.order.manager - INFO - Calling placeOrder with ID 111, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 1367@0.000000 DAY
2025-06-12 16:00:12,447 - src.order.manager - INFO - placeOrder called successfully for order 41c1c4d5-7b1a-492c-bb09-cb757a6c9dd8
2025-06-12 16:00:12,447 - src.order.base - INFO - Order 41c1c4d5-7b1a-492c-bb09-cb757a6c9dd8 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:00:12,448 - src.position.position_manager - INFO - Added 1 stop orders to SQQQ position
2025-06-12 16:00:12,448 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss 41c1c4d5-7b1a-492c-bb09-cb757a6c9dd8 at $21.84
2025-06-12 16:00:12,449 - src.rule.linked_order_actions - INFO - ATR-based target: SQQQ target at $21.97 (ATR: 0.0143 * 3.0 = 0.0429)
2025-06-12 16:00:12,449 - src.order.base - INFO - Order 2e10cb78-829f-4db5-a0f5-61adc2ae1907 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:00:12,449 - src.order.manager - INFO - Submitting order 2e10cb78-829f-4db5-a0f5-61adc2ae1907 to TWS
2025-06-12 16:00:12,449 - src.order.manager - INFO - Got broker order ID 112 for order 2e10cb78-829f-4db5-a0f5-61adc2ae1907
2025-06-12 16:00:12,449 - src.order.manager - INFO - Calling placeOrder with ID 112, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1367@21.970000 DAY
2025-06-12 16:00:12,450 - src.order.manager - INFO - placeOrder called successfully for order 2e10cb78-829f-4db5-a0f5-61adc2ae1907
2025-06-12 16:00:12,450 - src.order.base - INFO - Order 2e10cb78-829f-4db5-a0f5-61adc2ae1907 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:00:12,450 - src.position.position_manager - INFO - Added 1 target orders to SQQQ position
2025-06-12 16:00:12,450 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit 2e10cb78-829f-4db5-a0f5-61adc2ae1907 at $21.97
2025-06-12 16:00:12,450 - src.rule.linked_order_actions - INFO - Starting double down order creation for SQQQ
2025-06-12 16:00:12,451 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.92)
2025-06-12 16:00:12,514 - src.tws_connection - INFO - Open Order - ID: 111, Symbol: SQQQ, Action: SELL, Quantity: 1367.0
2025-06-12 16:00:12,515 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 111)
2025-06-12 16:00:12,515 - src.tws_connection - INFO - Open Order - ID: 111, Symbol: SQQQ, Action: SELL, Quantity: 1367.0
2025-06-12 16:00:12,543 - src.tws_connection - INFO - Open Order - ID: 112, Symbol: SQQQ, Action: SELL, Quantity: 1367.0
2025-06-12 16:00:12,544 - src.order.base - INFO - Order 2e10cb78-829f-4db5-a0f5-61adc2ae1907 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:00:12,584 - src.tws_connection - INFO - Open Order - ID: 112, Symbol: SQQQ, Action: SELL, Quantity: 1367.0
2025-06-12 16:00:12,585 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 112)
2025-06-12 16:00:12,585 - src.tws_connection - INFO - Open Order - ID: 112, Symbol: SQQQ, Action: SELL, Quantity: 1367.0
2025-06-12 16:00:12,960 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SQQQ: ['41c1c4d5-7b1a-492c-bb09-cb757a6c9dd8']
2025-06-12 16:00:12,961 - src.rule.linked_order_actions - INFO - Executing double down action for SQQQ
2025-06-12 16:00:14,236 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SQQQ: 0.0929
2025-06-12 16:00:14,237 - src.rule.linked_order_actions - INFO - Double down calc for SQQQ (BUY): current=$21.93, stop_distance=$0.09, dd_distance=$0.05, dd_price=$21.88, original_qty=1367, dd_qty=1367
2025-06-12 16:00:14,237 - src.order.base - INFO - Order f9a7fb0f-2f84-47b2-aed4-008d63b4c866 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:00:14,237 - src.order.manager - INFO - Submitting order f9a7fb0f-2f84-47b2-aed4-008d63b4c866 to TWS
2025-06-12 16:00:14,238 - src.order.manager - INFO - Got broker order ID 113 for order f9a7fb0f-2f84-47b2-aed4-008d63b4c866
2025-06-12 16:00:14,238 - src.order.manager - INFO - Calling placeOrder with ID 113, contract 0,SQQQ,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1367@21.880000 DAY
2025-06-12 16:00:14,239 - src.order.manager - INFO - placeOrder called successfully for order f9a7fb0f-2f84-47b2-aed4-008d63b4c866
2025-06-12 16:00:14,239 - src.order.base - INFO - Order f9a7fb0f-2f84-47b2-aed4-008d63b4c866 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:00:14,239 - src.position.position_manager - INFO - Added 1 doubledown orders to SQQQ position
2025-06-12 16:00:14,239 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for SQQQ: 1367 shares @ $21.88
2025-06-12 16:00:14,239 - src.rule.linked_order_actions - INFO - Auto-created double down order for SQQQ
2025-06-12 16:00:14,239 - src.rule.linked_order_actions - INFO - Created and linked BUY main order fa0247a1-ae7b-4e9a-925b-b054d381c2d8 for SQQQ
2025-06-12 16:00:14,241 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.95)
2025-06-12 16:00:14,305 - src.tws_connection - INFO - Open Order - ID: 113, Symbol: SQQQ, Action: BUY, Quantity: 1367.0
2025-06-12 16:00:14,306 - src.order.base - INFO - Order f9a7fb0f-2f84-47b2-aed4-008d63b4c866 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:00:14,346 - src.tws_connection - INFO - Open Order - ID: 113, Symbol: SQQQ, Action: BUY, Quantity: 1367.0
2025-06-12 16:00:14,348 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 113)
2025-06-12 16:00:14,348 - src.tws_connection - INFO - Open Order - ID: 113, Symbol: SQQQ, Action: BUY, Quantity: 1367.0
2025-06-12 16:01:14,882 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.71)
2025-06-12 16:01:15,335 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.53)
2025-06-12 16:01:16,618 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.92)
2025-06-12 16:01:18,055 - src.api.monitor - INFO - New prediction: SOXL SELL (0.82)
2025-06-12 16:01:19,779 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.82)
2025-06-12 16:01:21,128 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.93)
2025-06-12 16:01:22,468 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.93)
2025-06-12 16:01:23,661 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.57)
2025-06-12 16:02:25,307 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.57)
2025-06-12 16:02:27,295 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.66)
2025-06-12 16:02:28,807 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.94)
2025-06-12 16:02:30,122 - src.api.monitor - INFO - New prediction: SOXL SELL (0.70)
2025-06-12 16:02:30,909 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.67)
2025-06-12 16:02:31,472 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.94)
2025-06-12 16:02:31,971 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.92)
2025-06-12 16:02:32,497 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.57)
2025-06-12 16:03:33,199 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.58)
2025-06-12 16:03:33,740 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.68)
2025-06-12 16:03:34,173 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.88)
2025-06-12 16:03:34,633 - src.api.monitor - INFO - New prediction: SOXL SELL (0.58)
2025-06-12 16:03:34,634 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for SOXL - already have active SELL trade
2025-06-12 16:03:35,636 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.78)
2025-06-12 16:03:35,637 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SQQQ - already have active BUY trade
2025-06-12 16:03:36,260 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.93)
2025-06-12 16:03:37,543 - src.api.monitor - INFO - New prediction: CVNA SELL (0.71)
2025-06-12 16:03:37,545 - src.trade_tracker - INFO - Started tracking SELL trade for CVNA
2025-06-12 16:03:37,545 - src.position.position_manager - INFO - Opened SELL position for CVNA
2025-06-12 16:03:37,716 - src.position.sizer - INFO - SELL position size: 93 shares @ $320.00 = $29760.00 (99.2% of $30000.00 allocation)
2025-06-12 16:03:37,716 - src.order.base - INFO - Order 4ac6614b-0e92-4cb2-a3a0-d43f535918bf status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:03:37,717 - src.order.manager - INFO - Submitting order 4ac6614b-0e92-4cb2-a3a0-d43f535918bf to TWS
2025-06-12 16:03:37,717 - src.order.manager - INFO - Got broker order ID 114 for order 4ac6614b-0e92-4cb2-a3a0-d43f535918bf
2025-06-12 16:03:37,718 - src.order.manager - INFO - Calling placeOrder with ID 114, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 93@0.000000 DAY
2025-06-12 16:03:37,719 - src.order.manager - INFO - placeOrder called successfully for order 4ac6614b-0e92-4cb2-a3a0-d43f535918bf
2025-06-12 16:03:37,719 - src.order.base - INFO - Order 4ac6614b-0e92-4cb2-a3a0-d43f535918bf status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:03:37,719 - src.position.position_manager - INFO - Added 1 main orders to CVNA position
2025-06-12 16:03:37,793 - src.tws_connection - INFO - Open Order - ID: 114, Symbol: CVNA, Action: SELL, Quantity: 93.0
2025-06-12 16:03:37,824 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 114)
2025-06-12 16:03:37,824 - src.tws_connection - INFO - Open Order - ID: 114, Symbol: CVNA, Action: SELL, Quantity: 93.0
2025-06-12 16:03:39,013 - src.rule.linked_order_actions - INFO - ATR for CVNA: 0.1343
2025-06-12 16:03:39,014 - src.rule.linked_order_actions - INFO - ATR-based stop: CVNA stop at $320.87 (ATR: 0.1343 * 6.5 = 0.8729)
2025-06-12 16:03:39,014 - src.order.base - INFO - Order d9775c10-5d16-4335-93f9-780a4757318c status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:03:39,014 - src.order.manager - INFO - Submitting order d9775c10-5d16-4335-93f9-780a4757318c to TWS
2025-06-12 16:03:39,015 - src.order.manager - INFO - Got broker order ID 115 for order d9775c10-5d16-4335-93f9-780a4757318c
2025-06-12 16:03:39,015 - src.order.manager - INFO - Calling placeOrder with ID 115, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 93@0.000000 DAY
2025-06-12 16:03:39,015 - src.order.manager - INFO - placeOrder called successfully for order d9775c10-5d16-4335-93f9-780a4757318c
2025-06-12 16:03:39,015 - src.order.base - INFO - Order d9775c10-5d16-4335-93f9-780a4757318c status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:03:39,015 - src.position.position_manager - INFO - Added 1 stop orders to CVNA position
2025-06-12 16:03:39,016 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss d9775c10-5d16-4335-93f9-780a4757318c at $320.87
2025-06-12 16:03:39,016 - src.rule.linked_order_actions - INFO - ATR-based target: CVNA target at $319.60 (ATR: 0.1343 * 3.0 = 0.4029)
2025-06-12 16:03:39,016 - src.order.base - INFO - Order a400f65d-a4a5-44fc-b58e-2e2b54348eb2 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:03:39,017 - src.order.manager - INFO - Submitting order a400f65d-a4a5-44fc-b58e-2e2b54348eb2 to TWS
2025-06-12 16:03:39,017 - src.order.manager - INFO - Got broker order ID 116 for order a400f65d-a4a5-44fc-b58e-2e2b54348eb2
2025-06-12 16:03:39,017 - src.order.manager - INFO - Calling placeOrder with ID 116, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 93@319.600000 DAY
2025-06-12 16:03:39,018 - src.order.manager - INFO - placeOrder called successfully for order a400f65d-a4a5-44fc-b58e-2e2b54348eb2
2025-06-12 16:03:39,018 - src.order.base - INFO - Order a400f65d-a4a5-44fc-b58e-2e2b54348eb2 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:03:39,018 - src.position.position_manager - INFO - Added 1 target orders to CVNA position
2025-06-12 16:03:39,019 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit a400f65d-a4a5-44fc-b58e-2e2b54348eb2 at $319.60
2025-06-12 16:03:39,019 - src.rule.linked_order_actions - INFO - Starting double down order creation for CVNA
2025-06-12 16:03:39,021 - src.api.monitor - INFO - New prediction: SOXS BUY (0.71)
2025-06-12 16:03:39,095 - src.tws_connection - INFO - Open Order - ID: 115, Symbol: CVNA, Action: BUY, Quantity: 93.0
2025-06-12 16:03:39,095 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 115)
2025-06-12 16:03:39,096 - src.tws_connection - INFO - Open Order - ID: 115, Symbol: CVNA, Action: BUY, Quantity: 93.0
2025-06-12 16:03:39,125 - src.tws_connection - INFO - Open Order - ID: 116, Symbol: CVNA, Action: BUY, Quantity: 93.0
2025-06-12 16:03:39,126 - src.order.base - INFO - Order a400f65d-a4a5-44fc-b58e-2e2b54348eb2 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:03:39,166 - src.tws_connection - INFO - Open Order - ID: 116, Symbol: CVNA, Action: BUY, Quantity: 93.0
2025-06-12 16:03:39,167 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 116)
2025-06-12 16:03:39,168 - src.tws_connection - INFO - Open Order - ID: 116, Symbol: CVNA, Action: BUY, Quantity: 93.0
2025-06-12 16:03:39,530 - src.rule.linked_order_actions - INFO - Found 1 stop orders for CVNA: ['d9775c10-5d16-4335-93f9-780a4757318c']
2025-06-12 16:03:39,530 - src.rule.linked_order_actions - INFO - Executing double down action for CVNA
2025-06-12 16:03:44,568 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for CVNA: 0.8729
2025-06-12 16:03:44,568 - src.rule.linked_order_actions - INFO - Double down calc for CVNA (SELL): current=$318.77, stop_distance=$0.87, dd_distance=$0.44, dd_price=$319.21, original_qty=93, dd_qty=-93
2025-06-12 16:03:44,569 - src.order.base - INFO - Order 46337455-9232-496d-a7d5-f1ce093bafe2 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:03:44,569 - src.order.manager - INFO - Submitting order 46337455-9232-496d-a7d5-f1ce093bafe2 to TWS
2025-06-12 16:03:44,569 - src.order.manager - INFO - Got broker order ID 117 for order 46337455-9232-496d-a7d5-f1ce093bafe2
2025-06-12 16:03:44,570 - src.order.manager - INFO - Calling placeOrder with ID 117, contract 0,CVNA,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 93@319.210000 DAY
2025-06-12 16:03:44,570 - src.order.manager - INFO - placeOrder called successfully for order 46337455-9232-496d-a7d5-f1ce093bafe2
2025-06-12 16:03:44,571 - src.order.base - INFO - Order 46337455-9232-496d-a7d5-f1ce093bafe2 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:03:44,571 - src.position.position_manager - INFO - Added 1 doubledown orders to CVNA position
2025-06-12 16:03:44,571 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for CVNA: -93 shares @ $319.21
2025-06-12 16:03:44,571 - src.rule.linked_order_actions - INFO - Auto-created double down order for CVNA
2025-06-12 16:03:44,571 - src.rule.linked_order_actions - INFO - Created and linked SELL main order 4ac6614b-0e92-4cb2-a3a0-d43f535918bf for CVNA
2025-06-12 16:03:44,572 - src.trade_tracker - INFO - Started tracking BUY trade for SOXS
2025-06-12 16:03:44,572 - src.position.position_manager - INFO - Opened BUY position for SOXS
2025-06-12 16:03:44,671 - src.tws_connection - INFO - Open Order - ID: 117, Symbol: CVNA, Action: SELL, Quantity: 93.0
2025-06-12 16:03:44,672 - src.order.base - INFO - Order 46337455-9232-496d-a7d5-f1ce093bafe2 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:03:44,711 - src.tws_connection - INFO - Open Order - ID: 117, Symbol: CVNA, Action: SELL, Quantity: 93.0
2025-06-12 16:03:44,711 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 117)
2025-06-12 16:03:44,712 - src.tws_connection - INFO - Open Order - ID: 117, Symbol: CVNA, Action: SELL, Quantity: 93.0
2025-06-12 16:03:45,582 - src.position.sizer - INFO - BUY position size: 3177 shares @ $9.44 = $29990.88 (100.0% of $30000.00 allocation)
2025-06-12 16:03:45,583 - src.order.base - INFO - Order 8a8f0734-5a3e-4652-ba01-47e000ffb7d2 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:03:45,584 - src.order.manager - INFO - Submitting order 8a8f0734-5a3e-4652-ba01-47e000ffb7d2 to TWS
2025-06-12 16:03:45,584 - src.order.manager - INFO - Got broker order ID 118 for order 8a8f0734-5a3e-4652-ba01-47e000ffb7d2
2025-06-12 16:03:45,584 - src.order.manager - INFO - Calling placeOrder with ID 118, contract 0,SOXS,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 3177@0.000000 DAY
2025-06-12 16:03:45,585 - src.order.manager - INFO - placeOrder called successfully for order 8a8f0734-5a3e-4652-ba01-47e000ffb7d2
2025-06-12 16:03:45,585 - src.order.base - INFO - Order 8a8f0734-5a3e-4652-ba01-47e000ffb7d2 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:03:45,585 - src.position.position_manager - INFO - Added 1 main orders to SOXS position
2025-06-12 16:03:45,666 - src.tws_connection - INFO - Open Order - ID: 118, Symbol: SOXS, Action: BUY, Quantity: 3177.0
2025-06-12 16:03:45,716 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 118)
2025-06-12 16:03:45,717 - src.tws_connection - INFO - Open Order - ID: 118, Symbol: SOXS, Action: BUY, Quantity: 3177.0
2025-06-12 16:03:50,626 - src.rule.linked_order_actions - INFO - ATR for SOXS: 0.0114
2025-06-12 16:03:50,627 - src.rule.linked_order_actions - INFO - ATR-based stop: SOXS stop at $9.37 (ATR: 0.0114 * 6.5 = 0.0743)
2025-06-12 16:03:50,627 - src.order.base - INFO - Order 86447b31-d655-4349-97bc-c153275f5d8d status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:03:50,627 - src.order.manager - INFO - Submitting order 86447b31-d655-4349-97bc-c153275f5d8d to TWS
2025-06-12 16:03:50,627 - src.order.manager - INFO - Got broker order ID 119 for order 86447b31-d655-4349-97bc-c153275f5d8d
2025-06-12 16:03:50,627 - src.order.manager - INFO - Calling placeOrder with ID 119, contract 0,SOXS,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 3177@0.000000 DAY
2025-06-12 16:03:50,628 - src.order.manager - INFO - placeOrder called successfully for order 86447b31-d655-4349-97bc-c153275f5d8d
2025-06-12 16:03:50,628 - src.order.base - INFO - Order 86447b31-d655-4349-97bc-c153275f5d8d status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:03:50,628 - src.position.position_manager - INFO - Added 1 stop orders to SOXS position
2025-06-12 16:03:50,628 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss 86447b31-d655-4349-97bc-c153275f5d8d at $9.37
2025-06-12 16:03:50,628 - src.rule.linked_order_actions - INFO - ATR-based target: SOXS target at $9.47 (ATR: 0.0114 * 3.0 = 0.0343)
2025-06-12 16:03:50,628 - src.order.base - INFO - Order 2fe2ced6-df49-4888-afe7-ba91ca091dd5 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:03:50,629 - src.order.manager - INFO - Submitting order 2fe2ced6-df49-4888-afe7-ba91ca091dd5 to TWS
2025-06-12 16:03:50,629 - src.order.manager - INFO - Got broker order ID 120 for order 2fe2ced6-df49-4888-afe7-ba91ca091dd5
2025-06-12 16:03:50,629 - src.order.manager - INFO - Calling placeOrder with ID 120, contract 0,SOXS,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 3177@9.470000 DAY
2025-06-12 16:03:50,629 - src.order.manager - INFO - placeOrder called successfully for order 2fe2ced6-df49-4888-afe7-ba91ca091dd5
2025-06-12 16:03:50,629 - src.order.base - INFO - Order 2fe2ced6-df49-4888-afe7-ba91ca091dd5 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:03:50,630 - src.position.position_manager - INFO - Added 1 target orders to SOXS position
2025-06-12 16:03:50,630 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit 2fe2ced6-df49-4888-afe7-ba91ca091dd5 at $9.47
2025-06-12 16:03:50,630 - src.rule.linked_order_actions - INFO - Starting double down order creation for SOXS
2025-06-12 16:03:50,712 - src.tws_connection - INFO - Open Order - ID: 119, Symbol: SOXS, Action: SELL, Quantity: 3177.0
2025-06-12 16:03:50,713 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 119)
2025-06-12 16:03:50,713 - src.tws_connection - INFO - Open Order - ID: 119, Symbol: SOXS, Action: SELL, Quantity: 3177.0
2025-06-12 16:03:50,741 - src.tws_connection - INFO - Open Order - ID: 120, Symbol: SOXS, Action: SELL, Quantity: 3177.0
2025-06-12 16:03:50,742 - src.order.base - INFO - Order 2fe2ced6-df49-4888-afe7-ba91ca091dd5 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:03:50,780 - src.tws_connection - INFO - Open Order - ID: 120, Symbol: SOXS, Action: SELL, Quantity: 3177.0
2025-06-12 16:03:50,781 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 120)
2025-06-12 16:03:50,781 - src.tws_connection - INFO - Open Order - ID: 120, Symbol: SOXS, Action: SELL, Quantity: 3177.0
2025-06-12 16:03:51,146 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SOXS: ['86447b31-d655-4349-97bc-c153275f5d8d']
2025-06-12 16:03:51,146 - src.rule.linked_order_actions - INFO - Executing double down action for SOXS
2025-06-12 16:03:56,181 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SOXS: 0.0743
2025-06-12 16:03:56,181 - src.rule.linked_order_actions - INFO - Double down calc for SOXS (BUY): current=$9.44, stop_distance=$0.07, dd_distance=$0.04, dd_price=$9.40, original_qty=3177, dd_qty=3177
2025-06-12 16:03:56,182 - src.order.base - INFO - Order c5cae485-bb0d-4e93-970e-14cbc7635b34 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:03:56,183 - src.order.manager - INFO - Submitting order c5cae485-bb0d-4e93-970e-14cbc7635b34 to TWS
2025-06-12 16:03:56,183 - src.order.manager - INFO - Got broker order ID 121 for order c5cae485-bb0d-4e93-970e-14cbc7635b34
2025-06-12 16:03:56,183 - src.order.manager - INFO - Calling placeOrder with ID 121, contract 0,SOXS,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 3177@9.400000 DAY
2025-06-12 16:03:56,184 - src.order.manager - INFO - placeOrder called successfully for order c5cae485-bb0d-4e93-970e-14cbc7635b34
2025-06-12 16:03:56,184 - src.order.base - INFO - Order c5cae485-bb0d-4e93-970e-14cbc7635b34 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:03:56,184 - src.position.position_manager - INFO - Added 1 doubledown orders to SOXS position
2025-06-12 16:03:56,184 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for SOXS: 3177 shares @ $9.40
2025-06-12 16:03:56,184 - src.rule.linked_order_actions - INFO - Auto-created double down order for SOXS
2025-06-12 16:03:56,184 - src.rule.linked_order_actions - INFO - Created and linked BUY main order 8a8f0734-5a3e-4652-ba01-47e000ffb7d2 for SOXS
2025-06-12 16:03:56,254 - src.tws_connection - INFO - Open Order - ID: 121, Symbol: SOXS, Action: BUY, Quantity: 3177.0
2025-06-12 16:03:56,255 - src.order.base - INFO - Order c5cae485-bb0d-4e93-970e-14cbc7635b34 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:03:56,296 - src.tws_connection - INFO - Open Order - ID: 121, Symbol: SOXS, Action: BUY, Quantity: 3177.0
2025-06-12 16:03:56,296 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 121)
2025-06-12 16:03:56,297 - src.tws_connection - INFO - Open Order - ID: 121, Symbol: SOXS, Action: BUY, Quantity: 3177.0
2025-06-12 16:04:39,948 - src.api.monitor - INFO - New prediction: UVXY BUY (0.53)
2025-06-12 16:04:39,948 - src.trade_tracker - INFO - Started tracking BUY trade for UVXY
2025-06-12 16:04:39,949 - src.position.position_manager - INFO - Opened BUY position for UVXY
2025-06-12 16:04:40,463 - src.position.sizer - INFO - BUY position size: 1443 shares @ $20.79 = $29999.97 (100.0% of $30000.00 allocation)
2025-06-12 16:04:40,463 - src.order.base - INFO - Order 38fe4968-3b43-4161-b76a-bdd316a49f50 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:04:40,464 - src.order.manager - INFO - Submitting order 38fe4968-3b43-4161-b76a-bdd316a49f50 to TWS
2025-06-12 16:04:40,464 - src.order.manager - INFO - Got broker order ID 122 for order 38fe4968-3b43-4161-b76a-bdd316a49f50
2025-06-12 16:04:40,464 - src.order.manager - INFO - Calling placeOrder with ID 122, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 1443@0.000000 DAY
2025-06-12 16:04:40,464 - src.order.manager - INFO - placeOrder called successfully for order 38fe4968-3b43-4161-b76a-bdd316a49f50
2025-06-12 16:04:40,464 - src.order.base - INFO - Order 38fe4968-3b43-4161-b76a-bdd316a49f50 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:04:40,465 - src.position.position_manager - INFO - Added 1 main orders to UVXY position
2025-06-12 16:04:40,546 - src.tws_connection - INFO - Open Order - ID: 122, Symbol: UVXY, Action: BUY, Quantity: 1443.0
2025-06-12 16:04:40,579 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 122)
2025-06-12 16:04:40,580 - src.tws_connection - INFO - Open Order - ID: 122, Symbol: UVXY, Action: BUY, Quantity: 1443.0
2025-06-12 16:04:40,789 - src.rule.linked_order_actions - INFO - ATR for UVXY: 0.0136
2025-06-12 16:04:40,789 - src.rule.linked_order_actions - INFO - ATR-based stop: UVXY stop at $20.67 (ATR: 0.0136 * 6.5 = 0.0882)
2025-06-12 16:04:40,790 - src.order.base - INFO - Order 0ab28e1f-57cd-4796-8089-93b52a921b68 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:04:40,790 - src.order.manager - INFO - Submitting order 0ab28e1f-57cd-4796-8089-93b52a921b68 to TWS
2025-06-12 16:04:40,790 - src.order.manager - INFO - Got broker order ID 123 for order 0ab28e1f-57cd-4796-8089-93b52a921b68
2025-06-12 16:04:40,790 - src.order.manager - INFO - Calling placeOrder with ID 123, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 1443@0.000000 DAY
2025-06-12 16:04:40,791 - src.order.manager - INFO - placeOrder called successfully for order 0ab28e1f-57cd-4796-8089-93b52a921b68
2025-06-12 16:04:40,791 - src.order.base - INFO - Order 0ab28e1f-57cd-4796-8089-93b52a921b68 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:04:40,791 - src.position.position_manager - INFO - Added 1 stop orders to UVXY position
2025-06-12 16:04:40,792 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss 0ab28e1f-57cd-4796-8089-93b52a921b68 at $20.67
2025-06-12 16:04:40,792 - src.rule.linked_order_actions - INFO - ATR-based target: UVXY target at $20.80 (ATR: 0.0136 * 3.0 = 0.0407)
2025-06-12 16:04:40,792 - src.order.base - INFO - Order 5fbcaf89-ca28-4c51-964e-03499f417e5d status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:04:40,793 - src.order.manager - INFO - Submitting order 5fbcaf89-ca28-4c51-964e-03499f417e5d to TWS
2025-06-12 16:04:40,793 - src.order.manager - INFO - Got broker order ID 124 for order 5fbcaf89-ca28-4c51-964e-03499f417e5d
2025-06-12 16:04:40,793 - src.order.manager - INFO - Calling placeOrder with ID 124, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1443@20.800000 DAY
2025-06-12 16:04:40,794 - src.order.manager - INFO - placeOrder called successfully for order 5fbcaf89-ca28-4c51-964e-03499f417e5d
2025-06-12 16:04:40,794 - src.order.base - INFO - Order 5fbcaf89-ca28-4c51-964e-03499f417e5d status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:04:40,794 - src.position.position_manager - INFO - Added 1 target orders to UVXY position
2025-06-12 16:04:40,794 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit 5fbcaf89-ca28-4c51-964e-03499f417e5d at $20.80
2025-06-12 16:04:40,795 - src.rule.linked_order_actions - INFO - Starting double down order creation for UVXY
2025-06-12 16:04:40,796 - src.api.monitor - INFO - New prediction: GLD SELL (0.83)
2025-06-12 16:04:40,865 - src.tws_connection - INFO - Open Order - ID: 123, Symbol: UVXY, Action: SELL, Quantity: 1443.0
2025-06-12 16:04:40,870 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 123)
2025-06-12 16:04:40,871 - src.tws_connection - INFO - Open Order - ID: 123, Symbol: UVXY, Action: SELL, Quantity: 1443.0
2025-06-12 16:04:40,891 - src.tws_connection - INFO - Open Order - ID: 124, Symbol: UVXY, Action: SELL, Quantity: 1443.0
2025-06-12 16:04:40,892 - src.order.base - INFO - Order 5fbcaf89-ca28-4c51-964e-03499f417e5d status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:04:40,934 - src.tws_connection - INFO - Open Order - ID: 124, Symbol: UVXY, Action: SELL, Quantity: 1443.0
2025-06-12 16:04:40,939 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 124)
2025-06-12 16:04:40,939 - src.tws_connection - INFO - Open Order - ID: 124, Symbol: UVXY, Action: SELL, Quantity: 1443.0
2025-06-12 16:04:41,302 - src.rule.linked_order_actions - INFO - Found 1 stop orders for UVXY: ['0ab28e1f-57cd-4796-8089-93b52a921b68']
2025-06-12 16:04:41,303 - src.rule.linked_order_actions - INFO - Executing double down action for UVXY
2025-06-12 16:04:41,503 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for UVXY: 0.0882
2025-06-12 16:04:41,504 - src.rule.linked_order_actions - INFO - Double down calc for UVXY (BUY): current=$20.76, stop_distance=$0.09, dd_distance=$0.04, dd_price=$20.72, original_qty=1443, dd_qty=1443
2025-06-12 16:04:41,504 - src.order.base - INFO - Order adfbe7e3-e8e2-47db-b087-bddb3230fc9f status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:04:41,505 - src.order.manager - INFO - Submitting order adfbe7e3-e8e2-47db-b087-bddb3230fc9f to TWS
2025-06-12 16:04:41,505 - src.order.manager - INFO - Got broker order ID 125 for order adfbe7e3-e8e2-47db-b087-bddb3230fc9f
2025-06-12 16:04:41,505 - src.order.manager - INFO - Calling placeOrder with ID 125, contract 0,UVXY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1443@20.720000 DAY
2025-06-12 16:04:41,506 - src.order.manager - INFO - placeOrder called successfully for order adfbe7e3-e8e2-47db-b087-bddb3230fc9f
2025-06-12 16:04:41,506 - src.order.base - INFO - Order adfbe7e3-e8e2-47db-b087-bddb3230fc9f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:04:41,506 - src.position.position_manager - INFO - Added 1 doubledown orders to UVXY position
2025-06-12 16:04:41,506 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for UVXY: 1443 shares @ $20.72
2025-06-12 16:04:41,506 - src.rule.linked_order_actions - INFO - Auto-created double down order for UVXY
2025-06-12 16:04:41,507 - src.rule.linked_order_actions - INFO - Created and linked BUY main order 38fe4968-3b43-4161-b76a-bdd316a49f50 for UVXY
2025-06-12 16:04:41,508 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.92)
2025-06-12 16:04:41,509 - src.trade_tracker - INFO - Started tracking SELL trade for GLD
2025-06-12 16:04:41,509 - src.position.position_manager - INFO - Opened SELL position for GLD
2025-06-12 16:04:41,604 - src.tws_connection - INFO - Open Order - ID: 125, Symbol: UVXY, Action: BUY, Quantity: 1443.0
2025-06-12 16:04:41,605 - src.order.base - INFO - Order adfbe7e3-e8e2-47db-b087-bddb3230fc9f status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:04:41,639 - src.tws_connection - INFO - Open Order - ID: 125, Symbol: UVXY, Action: BUY, Quantity: 1443.0
2025-06-12 16:04:41,640 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 125)
2025-06-12 16:04:41,640 - src.tws_connection - INFO - Open Order - ID: 125, Symbol: UVXY, Action: BUY, Quantity: 1443.0
2025-06-12 16:04:42,227 - src.position.sizer - INFO - SELL position size: 96 shares @ $312.18 = $29969.28 (99.9% of $30000.00 allocation)
2025-06-12 16:04:42,228 - src.order.base - INFO - Order 5f1f8ba3-2a02-4f6e-aba6-f0e54e5bc752 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:04:42,229 - src.order.manager - INFO - Submitting order 5f1f8ba3-2a02-4f6e-aba6-f0e54e5bc752 to TWS
2025-06-12 16:04:42,229 - src.order.manager - INFO - Got broker order ID 126 for order 5f1f8ba3-2a02-4f6e-aba6-f0e54e5bc752
2025-06-12 16:04:42,229 - src.order.manager - INFO - Calling placeOrder with ID 126, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT SELL 96@0.000000 DAY
2025-06-12 16:04:42,230 - src.order.manager - INFO - placeOrder called successfully for order 5f1f8ba3-2a02-4f6e-aba6-f0e54e5bc752
2025-06-12 16:04:42,230 - src.order.base - INFO - Order 5f1f8ba3-2a02-4f6e-aba6-f0e54e5bc752 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:04:42,230 - src.position.position_manager - INFO - Added 1 main orders to GLD position
2025-06-12 16:04:42,232 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.73)
2025-06-12 16:04:42,304 - src.tws_connection - INFO - Open Order - ID: 126, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 16:04:42,346 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 126)
2025-06-12 16:04:42,347 - src.tws_connection - INFO - Open Order - ID: 126, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 16:04:42,577 - src.rule.linked_order_actions - INFO - ATR for GLD: 0.0236
2025-06-12 16:04:42,577 - src.rule.linked_order_actions - INFO - ATR-based stop: GLD stop at $312.34 (ATR: 0.0236 * 6.5 = 0.1532)
2025-06-12 16:04:42,578 - src.order.base - INFO - Order dad72550-6091-45ab-816e-e26cdef428bc status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:04:42,578 - src.order.manager - INFO - Submitting order dad72550-6091-45ab-816e-e26cdef428bc to TWS
2025-06-12 16:04:42,579 - src.order.manager - INFO - Got broker order ID 127 for order dad72550-6091-45ab-816e-e26cdef428bc
2025-06-12 16:04:42,579 - src.order.manager - INFO - Calling placeOrder with ID 127, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP BUY 96@0.000000 DAY
2025-06-12 16:04:42,580 - src.order.manager - INFO - placeOrder called successfully for order dad72550-6091-45ab-816e-e26cdef428bc
2025-06-12 16:04:42,580 - src.order.base - INFO - Order dad72550-6091-45ab-816e-e26cdef428bc status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:04:42,580 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-12 16:04:42,581 - src.rule.linked_order_actions - INFO - Auto-created SELL stop loss dad72550-6091-45ab-816e-e26cdef428bc at $312.34
2025-06-12 16:04:42,581 - src.rule.linked_order_actions - INFO - ATR-based target: GLD target at $312.12 (ATR: 0.0236 * 3.0 = 0.0707)
2025-06-12 16:04:42,581 - src.order.base - INFO - Order 4660bbd8-6afb-46b1-830c-86a3e550b213 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:04:42,581 - src.order.manager - INFO - Submitting order 4660bbd8-6afb-46b1-830c-86a3e550b213 to TWS
2025-06-12 16:04:42,582 - src.order.manager - INFO - Got broker order ID 128 for order 4660bbd8-6afb-46b1-830c-86a3e550b213
2025-06-12 16:04:42,582 - src.order.manager - INFO - Calling placeOrder with ID 128, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 96@312.120000 DAY
2025-06-12 16:04:42,582 - src.order.manager - INFO - placeOrder called successfully for order 4660bbd8-6afb-46b1-830c-86a3e550b213
2025-06-12 16:04:42,583 - src.order.base - INFO - Order 4660bbd8-6afb-46b1-830c-86a3e550b213 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:04:42,583 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-12 16:04:42,583 - src.rule.linked_order_actions - INFO - Auto-created SELL take profit 4660bbd8-6afb-46b1-830c-86a3e550b213 at $312.12
2025-06-12 16:04:42,584 - src.rule.linked_order_actions - INFO - Starting double down order creation for GLD
2025-06-12 16:04:42,656 - src.tws_connection - INFO - Open Order - ID: 127, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 16:04:42,657 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 127)
2025-06-12 16:04:42,657 - src.tws_connection - INFO - Open Order - ID: 127, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 16:04:42,683 - src.tws_connection - INFO - Open Order - ID: 128, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 16:04:42,684 - src.order.base - INFO - Order 4660bbd8-6afb-46b1-830c-86a3e550b213 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:04:42,725 - src.tws_connection - INFO - Open Order - ID: 128, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 16:04:42,726 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 128)
2025-06-12 16:04:42,727 - src.tws_connection - INFO - Open Order - ID: 128, Symbol: GLD, Action: BUY, Quantity: 96.0
2025-06-12 16:04:43,089 - src.rule.linked_order_actions - INFO - Found 1 stop orders for GLD: ['dad72550-6091-45ab-816e-e26cdef428bc']
2025-06-12 16:04:43,090 - src.rule.linked_order_actions - INFO - Executing double down action for GLD
2025-06-12 16:04:43,167 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for GLD: 0.1532
2025-06-12 16:04:43,167 - src.rule.linked_order_actions - INFO - Double down calc for GLD (SELL): current=$312.19, stop_distance=$0.15, dd_distance=$0.08, dd_price=$312.27, original_qty=96, dd_qty=-96
2025-06-12 16:04:43,168 - src.order.base - INFO - Order 9304d2c7-c0fc-4156-bd56-e11e2a2264d6 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:04:43,168 - src.order.manager - INFO - Submitting order 9304d2c7-c0fc-4156-bd56-e11e2a2264d6 to TWS
2025-06-12 16:04:43,169 - src.order.manager - INFO - Got broker order ID 129 for order 9304d2c7-c0fc-4156-bd56-e11e2a2264d6
2025-06-12 16:04:43,169 - src.order.manager - INFO - Calling placeOrder with ID 129, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 96@312.270000 DAY
2025-06-12 16:04:43,169 - src.order.manager - INFO - placeOrder called successfully for order 9304d2c7-c0fc-4156-bd56-e11e2a2264d6
2025-06-12 16:04:43,170 - src.order.base - INFO - Order 9304d2c7-c0fc-4156-bd56-e11e2a2264d6 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:04:43,170 - src.position.position_manager - INFO - Added 1 doubledown orders to GLD position
2025-06-12 16:04:43,170 - src.rule.linked_order_actions - INFO - Created SELL double down order 'doubledown1' for GLD: -96 shares @ $312.27
2025-06-12 16:04:43,170 - src.rule.linked_order_actions - INFO - Auto-created double down order for GLD
2025-06-12 16:04:43,171 - src.rule.linked_order_actions - INFO - Created and linked SELL main order 5f1f8ba3-2a02-4f6e-aba6-f0e54e5bc752 for GLD
2025-06-12 16:04:43,172 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.71)
2025-06-12 16:04:43,257 - src.tws_connection - INFO - Open Order - ID: 129, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 16:04:43,258 - src.order.base - INFO - Order 9304d2c7-c0fc-4156-bd56-e11e2a2264d6 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:04:43,259 - src.tws_connection - INFO - Open Order - ID: 129, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 16:04:43,264 - src.tws_connection - WARNING - ⚠️ TWS Error 201: Order rejected - reason:Exchange is closed. (reqId: 129)
2025-06-12 16:04:43,265 - src.tws_connection - INFO - Open Order - ID: 129, Symbol: GLD, Action: SELL, Quantity: 96.0
2025-06-12 16:04:44,538 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.94)
2025-06-12 16:04:45,560 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.79)
2025-06-12 16:04:46,509 - src.api.monitor - INFO - New prediction: SOXS BUY (0.57)
2025-06-12 16:05:46,890 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.54)
2025-06-12 16:05:47,171 - src.api.monitor - INFO - New prediction: GLD SELL (0.75)
2025-06-12 16:05:47,507 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.54)
2025-06-12 16:05:47,864 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.77)
2025-06-12 16:05:48,130 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.65)
2025-06-12 16:05:48,419 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.95)
2025-06-12 16:05:48,844 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.81)
2025-06-12 16:05:49,185 - src.api.monitor - INFO - New prediction: SOXS BUY (0.62)
2025-06-12 16:06:20,226 - __main__ - INFO - 💰 Current positions: 0
2025-06-12 16:06:20,227 - __main__ - INFO - 💰 Total value: $0.00
2025-06-12 16:06:20,227 - __main__ - INFO - 💰 Unrealized P&L: $0.00
2025-06-12 16:06:50,421 - src.api.monitor - INFO - New prediction: GLD SELL (0.69)
2025-06-12 16:06:50,705 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.69)
2025-06-12 16:06:51,022 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.67)
2025-06-12 16:06:51,813 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.77)
2025-06-12 16:06:51,815 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SQQQ - already have active BUY trade
2025-06-12 16:06:52,330 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.94)
2025-06-12 16:06:52,836 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.91)
2025-06-12 16:06:53,329 - src.api.monitor - INFO - New prediction: SOXS BUY (0.80)
2025-06-12 16:06:57,180 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SOXS - already have active BUY trade
2025-06-12 16:07:54,160 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.58)
2025-06-12 16:07:55,486 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.53)
2025-06-12 16:07:56,482 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.67)
2025-06-12 16:07:57,822 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.69)
2025-06-12 16:07:59,415 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.70)
2025-06-12 16:08:01,352 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.90)
2025-06-12 16:08:03,176 - src.api.monitor - INFO - New prediction: CVNA SELL (0.51)
2025-06-12 16:08:03,177 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for CVNA - already have active SELL trade
2025-06-12 16:08:04,711 - src.api.monitor - INFO - New prediction: SOXS BUY (0.64)
2025-06-12 16:09:05,057 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.71)
2025-06-12 16:09:06,200 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.74)
2025-06-12 16:09:07,257 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.80)
2025-06-12 16:09:07,884 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.69)
2025-06-12 16:09:08,326 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.70)
2025-06-12 16:09:09,648 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.85)
2025-06-12 16:09:10,488 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.92)
2025-06-12 16:09:10,881 - src.api.monitor - INFO - New prediction: SOXS BUY (0.55)
2025-06-12 16:09:57,581 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SOXS - already have active BUY trade
2025-06-12 16:10:11,263 - src.api.monitor - INFO - New prediction: UVXY BUY (0.77)
2025-06-12 16:10:11,264 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for UVXY - already have active BUY trade
2025-06-12 16:10:11,523 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.85)
2025-06-12 16:10:11,819 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.84)
2025-06-12 16:10:12,945 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.75)
2025-06-12 16:10:13,606 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.54)
2025-06-12 16:10:13,607 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SQQQ - already have active BUY trade
2025-06-12 16:10:14,286 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.71)
2025-06-12 16:10:15,191 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.51)
2025-06-12 16:10:16,247 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.57)
2025-06-12 16:11:16,681 - src.api.monitor - INFO - New prediction: UVXY BUY (0.52)
2025-06-12 16:11:17,040 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.89)
2025-06-12 16:11:17,402 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.79)
2025-06-12 16:11:18,080 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.86)
2025-06-12 16:11:18,644 - src.api.monitor - INFO - New prediction: SQQQ BUY (0.68)
2025-06-12 16:11:19,815 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.77)
2025-06-12 16:11:21,009 - src.api.monitor - INFO - New prediction: CVNA SELL (0.79)
2025-06-12 16:11:21,010 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for CVNA - already have active SELL trade
2025-06-12 16:11:22,078 - src.api.monitor - INFO - New prediction: SOXS BUY (0.55)
2025-06-12 16:12:22,456 - src.api.monitor - INFO - New prediction: UVXY BUY (0.70)
2025-06-12 16:12:22,730 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.86)
2025-06-12 16:12:23,038 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.80)
2025-06-12 16:12:23,280 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.93)
2025-06-12 16:12:24,055 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.51)
2025-06-12 16:12:24,918 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.78)
2025-06-12 16:12:25,419 - src.api.monitor - INFO - New prediction: CVNA SELL (0.76)
2025-06-12 16:12:25,697 - src.api.monitor - INFO - New prediction: SOXS BUY (0.70)
2025-06-12 16:12:57,941 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SOXS - already have active BUY trade
2025-06-12 16:13:26,039 - src.api.monitor - INFO - New prediction: UVXY BUY (0.71)
2025-06-12 16:13:26,041 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for UVXY - already have active BUY trade
2025-06-12 16:13:26,292 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.94)
2025-06-12 16:13:26,540 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.86)
2025-06-12 16:13:26,791 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.85)
2025-06-12 16:13:27,386 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.65)
2025-06-12 16:13:28,696 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.64)
2025-06-12 16:13:29,568 - src.api.monitor - INFO - New prediction: CVNA SELL (0.65)
2025-06-12 16:13:30,054 - src.api.monitor - INFO - New prediction: SOXS BUY (0.80)
2025-06-12 16:14:30,471 - src.api.monitor - INFO - New prediction: UVXY BUY (0.53)
2025-06-12 16:14:30,871 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.93)
2025-06-12 16:14:31,116 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.84)
2025-06-12 16:14:31,365 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.73)
2025-06-12 16:14:31,624 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.73)
2025-06-12 16:14:31,890 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.86)
2025-06-12 16:14:32,421 - src.api.monitor - INFO - New prediction: CVNA SELL (0.64)
2025-06-12 16:14:32,423 - src.rule.linked_order_actions - INFO - Ignoring SELL signal for CVNA - already have active SELL trade
2025-06-12 16:14:33,229 - src.api.monitor - INFO - New prediction: SOXS BUY (0.81)
2025-06-12 16:15:34,113 - src.api.monitor - INFO - New prediction: UVXY BUY (0.67)
2025-06-12 16:15:35,244 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.80)
2025-06-12 16:15:36,123 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.84)
2025-06-12 16:15:36,807 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.70)
2025-06-12 16:15:37,521 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.77)
2025-06-12 16:15:38,192 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.79)
2025-06-12 16:15:39,534 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.67)
2025-06-12 16:15:41,230 - src.api.monitor - INFO - New prediction: SOXS BUY (0.81)
2025-06-12 16:15:58,529 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SOXS - already have active BUY trade
2025-06-12 16:16:20,231 - __main__ - INFO - 💰 Current positions: 0
2025-06-12 16:16:20,232 - __main__ - INFO - 💰 Total value: $0.00
2025-06-12 16:16:20,232 - __main__ - INFO - 💰 Unrealized P&L: $0.00
2025-06-12 16:16:41,968 - src.api.monitor - INFO - New prediction: UVXY NEUTRAL (0.75)
2025-06-12 16:16:42,540 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.76)
2025-06-12 16:16:43,139 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.75)
2025-06-12 16:16:43,556 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.73)
2025-06-12 16:16:43,910 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.82)
2025-06-12 16:16:44,225 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.91)
2025-06-12 16:16:46,081 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.63)
2025-06-12 16:16:47,583 - src.api.monitor - INFO - New prediction: SOXS BUY (0.82)
2025-06-12 16:17:47,983 - src.api.monitor - INFO - New prediction: UVXY BUY (0.75)
2025-06-12 16:17:47,985 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for UVXY - already have active BUY trade
2025-06-12 16:17:48,247 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.90)
2025-06-12 16:17:48,510 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.82)
2025-06-12 16:17:48,796 - src.api.monitor - INFO - New prediction: SOXL NEUTRAL (0.65)
2025-06-12 16:17:49,047 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.81)
2025-06-12 16:17:49,307 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.69)
2025-06-12 16:17:49,560 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.65)
2025-06-12 16:17:49,825 - src.api.monitor - INFO - New prediction: SOXS BUY (0.81)
2025-06-12 16:18:52,188 - src.api.monitor - INFO - New prediction: UVXY BUY (0.57)
2025-06-12 16:18:52,805 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.92)
2025-06-12 16:18:53,755 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.74)
2025-06-12 16:18:55,264 - src.api.monitor - INFO - New prediction: SOXL BUY (0.57)
2025-06-12 16:18:55,267 - src.rule.linked_order_actions - INFO - Reversing trade for SOXL: SELL → BUY
2025-06-12 16:18:55,269 - src.order.base - INFO - Order 55eeb880-5200-4c99-bfce-c306caf731c1 status changed: accepted -> pending_cancel (Position reversal - exiting current position)
2025-06-12 16:18:55,270 - src.order.manager - INFO - Cancelling order 55eeb880-5200-4c99-bfce-c306caf731c1 with broker ID 108
2025-06-12 16:18:55,272 - src.order.base - INFO - Order 0a8b48a7-648d-4c3d-b530-6e0772d88467 status changed: accepted -> pending_cancel (Position reversal - exiting current position)
2025-06-12 16:18:55,273 - src.order.manager - INFO - Cancelling order 0a8b48a7-648d-4c3d-b530-6e0772d88467 with broker ID 109
2025-06-12 16:18:55,274 - src.order.base - INFO - Order ce0fa15b-36ef-45c2-81eb-b473108f6f2e status changed: submitted -> pending_cancel (Position reversal - exiting current position)
2025-06-12 16:18:55,275 - src.order.manager - INFO - Cancelling order ce0fa15b-36ef-45c2-81eb-b473108f6f2e with broker ID 106
2025-06-12 16:18:55,275 - src.tws_connection - WARNING - ⚠️ TWS Error 10147: OrderId 108 that needs to be cancelled is not found. (reqId: 108)
2025-06-12 16:18:55,277 - src.order.base - INFO - Order d30d4ad3-d759-4cec-a109-0116515c923f status changed: submitted -> pending_cancel (Position reversal - exiting current position)
2025-06-12 16:18:55,278 - src.tws_connection - WARNING - ⚠️ TWS Error 10147: OrderId 109 that needs to be cancelled is not found. (reqId: 109)
2025-06-12 16:18:55,279 - src.order.manager - INFO - Cancelling order d30d4ad3-d759-4cec-a109-0116515c923f with broker ID 107
2025-06-12 16:18:55,280 - src.tws_connection - WARNING - ⚠️ TWS Error 10147: OrderId 106 that needs to be cancelled is not found. (reqId: 106)
2025-06-12 16:18:55,282 - src.trade_tracker - INFO - Closed trade for SOXL
2025-06-12 16:18:55,283 - src.position.position_manager - INFO - Closed position for SOXL
2025-06-12 16:18:55,283 - src.rule.linked_order_actions - INFO - Closed all linked orders and position for SOXL
2025-06-12 16:18:55,283 - src.rule.linked_order_actions - INFO - Successfully exited current position for SOXL
2025-06-12 16:18:55,284 - src.trade_tracker - INFO - Started tracking BUY trade for SOXL
2025-06-12 16:18:55,284 - src.tws_connection - WARNING - ⚠️ TWS Error 10147: OrderId 107 that needs to be cancelled is not found. (reqId: 107)
2025-06-12 16:18:55,285 - src.position.position_manager - INFO - Opened BUY position for SOXL
2025-06-12 16:18:55,824 - src.position.sizer - INFO - BUY position size: 1378 shares @ $21.77 = $29999.06 (100.0% of $30000.00 allocation)
2025-06-12 16:18:55,824 - src.order.base - INFO - Order 6bea827d-6f39-4718-bc27-c5bfd4f75a18 status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:18:55,824 - src.order.manager - INFO - Submitting order 6bea827d-6f39-4718-bc27-c5bfd4f75a18 to TWS
2025-06-12 16:18:55,824 - src.order.manager - INFO - Got broker order ID 130 for order 6bea827d-6f39-4718-bc27-c5bfd4f75a18
2025-06-12 16:18:55,825 - src.order.manager - INFO - Calling placeOrder with ID 130, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 1378@0.000000 DAY
2025-06-12 16:18:55,825 - src.order.manager - INFO - placeOrder called successfully for order 6bea827d-6f39-4718-bc27-c5bfd4f75a18
2025-06-12 16:18:55,825 - src.order.base - INFO - Order 6bea827d-6f39-4718-bc27-c5bfd4f75a18 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:18:55,825 - src.position.position_manager - INFO - Added 1 main orders to SOXL position
2025-06-12 16:18:55,899 - src.tws_connection - WARNING - ⚠️ TWS Error 399: Order Message: BUY 1,378 SOXL ARCA Warning: Your order will not be placed at the exchange until 2025-06-13 09:30:00 US/Eastern. (reqId: 130)
2025-06-12 16:18:55,900 - src.tws_connection - INFO - Open Order - ID: 130, Symbol: SOXL, Action: BUY, Quantity: 1378.0
2025-06-12 16:18:55,902 - src.order.base - INFO - Order 6bea827d-6f39-4718-bc27-c5bfd4f75a18 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:18:55,942 - src.tws_connection - INFO - Open Order - ID: 130, Symbol: SOXL, Action: BUY, Quantity: 1378.0
2025-06-12 16:18:56,534 - src.rule.linked_order_actions - INFO - ATR for SOXL: 0.0186
2025-06-12 16:18:56,534 - src.rule.linked_order_actions - INFO - ATR-based stop: SOXL stop at $21.66 (ATR: 0.0186 * 6.5 = 0.1207)
2025-06-12 16:18:56,534 - src.order.base - INFO - Order 617b0235-cec8-4556-a2dd-9893404c750e status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:18:56,535 - src.order.manager - INFO - Submitting order 617b0235-cec8-4556-a2dd-9893404c750e to TWS
2025-06-12 16:18:56,535 - src.order.manager - INFO - Got broker order ID 131 for order 617b0235-cec8-4556-a2dd-9893404c750e
2025-06-12 16:18:56,535 - src.order.manager - INFO - Calling placeOrder with ID 131, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 1378@0.000000 DAY
2025-06-12 16:18:56,536 - src.order.manager - INFO - placeOrder called successfully for order 617b0235-cec8-4556-a2dd-9893404c750e
2025-06-12 16:18:56,536 - src.order.base - INFO - Order 617b0235-cec8-4556-a2dd-9893404c750e status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:18:56,536 - src.position.position_manager - INFO - Added 1 stop orders to SOXL position
2025-06-12 16:18:56,536 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss 617b0235-cec8-4556-a2dd-9893404c750e at $21.66
2025-06-12 16:18:56,537 - src.rule.linked_order_actions - INFO - ATR-based target: SOXL target at $21.84 (ATR: 0.0186 * 3.0 = 0.0557)
2025-06-12 16:18:56,537 - src.order.base - INFO - Order 3ea1a2be-914b-4ae9-b220-883ea9bcf65f status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:18:56,537 - src.order.manager - INFO - Submitting order 3ea1a2be-914b-4ae9-b220-883ea9bcf65f to TWS
2025-06-12 16:18:56,537 - src.order.manager - INFO - Got broker order ID 132 for order 3ea1a2be-914b-4ae9-b220-883ea9bcf65f
2025-06-12 16:18:56,537 - src.order.manager - INFO - Calling placeOrder with ID 132, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1378@21.840000 DAY
2025-06-12 16:18:56,537 - src.order.manager - INFO - placeOrder called successfully for order 3ea1a2be-914b-4ae9-b220-883ea9bcf65f
2025-06-12 16:18:56,537 - src.order.base - INFO - Order 3ea1a2be-914b-4ae9-b220-883ea9bcf65f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:18:56,538 - src.position.position_manager - INFO - Added 1 target orders to SOXL position
2025-06-12 16:18:56,538 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit 3ea1a2be-914b-4ae9-b220-883ea9bcf65f at $21.84
2025-06-12 16:18:56,538 - src.rule.linked_order_actions - INFO - Starting double down order creation for SOXL
2025-06-12 16:18:56,539 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.86)
2025-06-12 16:18:56,623 - src.tws_connection - WARNING - ⚠️ TWS Error 399: Order Message: SELL 1,378 SOXL ARCA Warning: Your order will not be placed at the exchange until 2025-06-13 09:30:00 US/Eastern. (reqId: 131)
2025-06-12 16:18:56,624 - src.tws_connection - INFO - Open Order - ID: 131, Symbol: SOXL, Action: SELL, Quantity: 1378.0
2025-06-12 16:18:56,625 - src.order.base - INFO - Order 617b0235-cec8-4556-a2dd-9893404c750e status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:18:56,625 - src.tws_connection - INFO - Open Order - ID: 131, Symbol: SOXL, Action: SELL, Quantity: 1378.0
2025-06-12 16:18:56,710 - src.tws_connection - INFO - Open Order - ID: 132, Symbol: SOXL, Action: SELL, Quantity: 1378.0
2025-06-12 16:18:56,711 - src.order.base - INFO - Order 3ea1a2be-914b-4ae9-b220-883ea9bcf65f status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:18:56,754 - src.tws_connection - WARNING - ⚠️ TWS Error 399: Order Message: SELL 1,378 SOXL ARCA Warning: Your order will not be placed at the exchange until 2025-06-13 09:30:00 US/Eastern. (reqId: 132)
2025-06-12 16:18:56,755 - src.tws_connection - INFO - Open Order - ID: 132, Symbol: SOXL, Action: SELL, Quantity: 1378.0
2025-06-12 16:18:56,755 - src.tws_connection - INFO - Open Order - ID: 132, Symbol: SOXL, Action: SELL, Quantity: 1378.0
2025-06-12 16:18:57,049 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SOXL: ['617b0235-cec8-4556-a2dd-9893404c750e']
2025-06-12 16:18:57,049 - src.rule.linked_order_actions - INFO - Executing double down action for SOXL
2025-06-12 16:18:57,538 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SOXL: 0.1207
2025-06-12 16:18:57,538 - src.rule.linked_order_actions - INFO - Double down calc for SOXL (BUY): current=$21.77, stop_distance=$0.12, dd_distance=$0.06, dd_price=$21.71, original_qty=1378, dd_qty=1378
2025-06-12 16:18:57,539 - src.order.base - INFO - Order 0cf4f561-0049-44fa-a52a-4bc871e301ce status changed: created -> pending_submit (Submitting to broker)
2025-06-12 16:18:57,539 - src.order.manager - INFO - Submitting order 0cf4f561-0049-44fa-a52a-4bc871e301ce to TWS
2025-06-12 16:18:57,539 - src.order.manager - INFO - Got broker order ID 133 for order 0cf4f561-0049-44fa-a52a-4bc871e301ce
2025-06-12 16:18:57,540 - src.order.manager - INFO - Calling placeOrder with ID 133, contract 0,SOXL,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 1378@21.710000 DAY
2025-06-12 16:18:57,540 - src.order.manager - INFO - placeOrder called successfully for order 0cf4f561-0049-44fa-a52a-4bc871e301ce
2025-06-12 16:18:57,540 - src.order.base - INFO - Order 0cf4f561-0049-44fa-a52a-4bc871e301ce status changed: pending_submit -> submitted (Submitted to broker)
2025-06-12 16:18:57,540 - src.position.position_manager - INFO - Added 1 doubledown orders to SOXL position
2025-06-12 16:18:57,541 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for SOXL: 1378 shares @ $21.71
2025-06-12 16:18:57,541 - src.rule.linked_order_actions - INFO - Auto-created double down order for SOXL
2025-06-12 16:18:57,541 - src.rule.linked_order_actions - INFO - Created and linked BUY main order 6bea827d-6f39-4718-bc27-c5bfd4f75a18 for SOXL
2025-06-12 16:18:57,542 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.73)
2025-06-12 16:18:57,613 - src.tws_connection - INFO - Open Order - ID: 133, Symbol: SOXL, Action: BUY, Quantity: 1378.0
2025-06-12 16:18:57,614 - src.order.base - INFO - Order 0cf4f561-0049-44fa-a52a-4bc871e301ce status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-12 16:18:57,655 - src.tws_connection - WARNING - ⚠️ TWS Error 399: Order Message: BUY 1,378 SOXL ARCA Warning: Your order will not be placed at the exchange until 2025-06-13 09:30:00 US/Eastern. (reqId: 133)
2025-06-12 16:18:57,655 - src.tws_connection - INFO - Open Order - ID: 133, Symbol: SOXL, Action: BUY, Quantity: 1378.0
2025-06-12 16:18:57,656 - src.tws_connection - INFO - Open Order - ID: 133, Symbol: SOXL, Action: BUY, Quantity: 1378.0
2025-06-12 16:18:58,649 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.78)
2025-06-12 16:20:01,188 - src.api.monitor - INFO - New prediction: UVXY BUY (0.78)
2025-06-12 16:20:02,334 - src.api.monitor - INFO - New prediction: GLD NEUTRAL (0.87)
2025-06-12 16:20:03,574 - src.api.monitor - INFO - New prediction: SLV NEUTRAL (0.78)
2025-06-12 16:20:04,626 - src.api.monitor - INFO - New prediction: SOXL BUY (0.54)
2025-06-12 16:20:06,330 - src.api.monitor - INFO - New prediction: SQQQ NEUTRAL (0.84)
2025-06-12 16:20:08,118 - src.api.monitor - INFO - New prediction: TQQQ NEUTRAL (0.81)
2025-06-12 16:20:09,480 - src.api.monitor - INFO - New prediction: CVNA NEUTRAL (0.62)
2025-06-12 16:20:10,497 - src.api.monitor - INFO - New prediction: SOXS NEUTRAL (0.68)
2025-06-12 16:20:14,003 - __main__ - INFO - 🛑 Received shutdown signal
2025-06-12 16:20:14,003 - __main__ - INFO - ⏹️ Stopping trading system...
2025-06-12 16:20:14,003 - src.api.monitor - INFO - OptionsFlowMonitor stopped
2025-06-12 16:20:14,003 - src.rule.engine - INFO - Rule engine stopped
2025-06-12 16:20:14,004 - UnifiedFillManager - INFO - Order queue processor for SOXL cancelled
2025-06-12 16:20:14,004 - UnifiedFillManager - INFO - Order queue processor for TQQQ cancelled
2025-06-12 16:20:14,004 - UnifiedFillManager - INFO - Order queue processor for SQQQ cancelled
2025-06-12 16:20:14,004 - UnifiedFillManager - INFO - Order queue processor for CVNA cancelled
2025-06-12 16:20:14,004 - UnifiedFillManager - INFO - Order queue processor for UVXY cancelled
2025-06-12 16:20:14,004 - UnifiedFillManager - INFO - Order queue processor for GLD cancelled
2025-06-12 16:20:14,004 - UnifiedFillManager - INFO - Order queue processor for SOXS cancelled
2025-06-12 16:20:14,004 - UnifiedFillManager - INFO - Order queue processor for SLV cancelled
2025-06-12 16:20:14,005 - UnifiedFillManager - INFO - UnifiedFillManager cleanup completed
2025-06-12 16:20:14,005 - src.tws_connection - INFO - Disconnecting from TWS
2025-06-12 16:20:14,005 - src.tws_connection - INFO - ⚠️ Connection to TWS closed
2025-06-12 16:20:14,005 - src.tws_connection - INFO - ✅ Disconnect request sent
2025-06-12 16:20:14,006 - __main__ - INFO - ✅ Trading system stopped
2025-06-12 16:20:14,130 - src.tws_connection - WARNING - Not connected to TWS
2025-06-12 16:20:14,131 - src.tws_connection - INFO - Connection thread: Message loop ended
2025-06-12 16:25:55,520 - __main__ - INFO - 🚀 Initializing Trading Application...
2025-06-12 16:25:55,520 - __main__ - INFO - Feature Flags:
2025-06-12 16:25:55,521 - __main__ - INFO -   RECONCILIATION_ENABLED: False
2025-06-12 16:25:55,521 - __main__ - INFO - Connecting to TWS...
2025-06-12 16:25:55,521 - src.tws_connection - INFO - Connecting to TWS at 127.0.0.1:7497
2025-06-12 16:25:55,522 - src.tws_connection - INFO - Connection thread: Connecting to 127.0.0.1:7497 (client ID: 1)
2025-06-12 16:26:05,534 - src.tws_connection - ERROR - ❌ Connection failed or timed out
2025-06-12 16:26:05,535 - src.tws_connection - ERROR - Connected: False, Next ID: None
2025-06-12 16:26:05,536 - src.tws_connection - INFO - Forcing connection cleanup
2025-06-12 16:26:05,537 - src.tws_connection - INFO - ⚠️ Connection to TWS closed
2025-06-12 16:26:05,537 - ibapi.client - WARNING - Disconnected; resetting connection
2025-06-12 16:26:05,537 - __main__ - ERROR - ❌ Fatal error: Failed to connect to TWS
2025-06-12 16:26:05,538 - src.tws_connection - INFO - Connection thread: Socket connected, starting message loop
2025-06-12 16:26:05,538 - __main__ - INFO - ⏹️ Stopping trading system...
2025-06-12 16:26:05,538 - src.tws_connection - WARNING - Not connected to TWS
2025-06-12 16:26:05,539 - __main__ - INFO - ✅ Trading system stopped
2025-06-12 16:26:05,539 - src.tws_connection - INFO - Connection thread: Message loop ended
2025-06-12 16:26:20,239 - __main__ - INFO - ⏹️ Stopping trading system...
2025-06-12 16:26:20,240 - src.api.monitor - WARNING - OptionsFlowMonitor not running
2025-06-12 16:26:20,240 - src.rule.engine - WARNING - Rule engine is not running
2025-06-12 16:26:20,240 - UnifiedFillManager - INFO - UnifiedFillManager cleanup completed
2025-06-12 16:26:20,241 - __main__ - INFO - ✅ Trading system stopped
