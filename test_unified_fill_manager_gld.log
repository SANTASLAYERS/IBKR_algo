2025-06-11 15:44:09,572 - __main__ - INFO - ================================================================================
2025-06-11 15:44:09,573 - __main__ - INFO - INITIALIZING UNIFIED FILL MANAGER TEST
2025-06-11 15:44:09,574 - __main__ - INFO - ================================================================================
2025-06-11 15:44:09,575 - __main__ - INFO - Event bus created
2025-06-11 15:44:09,575 - __main__ - INFO - Subscribed to order events
2025-06-11 15:44:09,576 - __main__ - INFO - TWS Config: host=127.0.0.1, port=7497, client_id=999
2025-06-11 15:44:09,584 - __main__ - INFO - Connecting to TWS...
2025-06-11 15:44:09,584 - src.tws_connection - INFO - Connecting to TWS at 127.0.0.1:7497
2025-06-11 15:44:09,586 - src.tws_connection - INFO - Connection thread: Connecting to 127.0.0.1:7497 (client ID: 999)
2025-06-11 15:44:11,050 - src.tws_connection - INFO - âœ… Connection acknowledged by TWS
2025-06-11 15:44:11,052 - src.tws_connection - INFO - Connection thread: Socket connected, starting message loop
2025-06-11 15:44:11,111 - src.tws_connection - INFO - âœ… Next valid order ID received: 1
2025-06-11 15:44:11,113 - src.tws_connection - INFO - âœ… TWS connection fully established
2025-06-11 15:44:11,114 - src.tws_connection - INFO - Requesting additional order IDs from TWS
2025-06-11 15:44:11,115 - src.tws_connection - INFO - âœ… Next valid order ID received: 1
2025-06-11 15:44:11,117 - src.tws_connection - INFO - âœ… Successfully connected to TWS
2025-06-11 15:44:11,118 - src.tws_connection - INFO - âœ… Next valid order ID received: 1
2025-06-11 15:44:11,119 - __main__ - INFO - Connected to TWS successfully
2025-06-11 15:44:11,120 - src.order.manager - INFO - OrderManager callbacks set up with TWSConnection
2025-06-11 15:44:11,121 - src.position.tracker - INFO - PositionTracker async initialization completed
2025-06-11 15:44:11,121 - __main__ - INFO - Order manager and position tracker initialized
2025-06-11 15:44:11,122 - __main__ - INFO - Rule engine context configured
2025-06-11 15:44:11,123 - UnifiedFillManager - INFO - UnifiedFillManager initialized
2025-06-11 15:44:11,123 - __main__ - INFO - UnifiedFillManager initialized
2025-06-11 15:44:11,123 - __main__ - INFO - 
================================================================================
2025-06-11 15:44:11,124 - __main__ - INFO - SETTING UP GLD BUY RULE
2025-06-11 15:44:11,124 - __main__ - INFO - ================================================================================
2025-06-11 15:44:11,125 - __main__ - INFO - Created BUY condition (threshold: 50%)
2025-06-11 15:44:11,125 - __main__ - INFO - Created BUY action (300 shares, 2% stop, 4% target)
2025-06-11 15:44:11,126 - __main__ - INFO - Registered rule: gld_buy_test_rule
2025-06-11 15:44:11,126 - __main__ - INFO - 
================================================================================
2025-06-11 15:44:11,127 - __main__ - INFO - SIMULATING GLD BUY SIGNAL
2025-06-11 15:44:11,128 - __main__ - INFO - ================================================================================
2025-06-11 15:44:16,139 - __main__ - INFO - Current GLD price: $308.46
2025-06-11 15:44:16,140 - __main__ - INFO - Created prediction event:
2025-06-11 15:44:16,140 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:44:16,141 - __main__ - INFO -    Signal: BUY
2025-06-11 15:44:16,141 - __main__ - INFO -    Confidence: 75.0%
2025-06-11 15:44:16,142 - __main__ - INFO -    Price: $308.46
2025-06-11 15:44:16,142 - src.rule.engine - INFO - Rule engine started
2025-06-11 15:44:16,143 - __main__ - INFO - Rule engine started
2025-06-11 15:44:16,143 - __main__ - INFO - 
EMITTING PREDICTION EVENT...
2025-06-11 15:44:16,144 - __main__ - INFO - Prediction event emitted
2025-06-11 15:44:16,144 - __main__ - INFO - Waiting for initial order creation...
2025-06-11 15:44:16,145 - src.trade_tracker - INFO - TradeTracker initialized
2025-06-11 15:44:16,146 - src.position.position_manager - INFO - PositionManager initialized
2025-06-11 15:44:16,146 - src.trade_tracker - INFO - Started tracking BUY trade for GLD
2025-06-11 15:44:16,146 - src.position.position_manager - INFO - Opened BUY position for GLD
2025-06-11 15:44:16,147 - src.rule.linked_order_actions - INFO - Using fixed position size: 300 shares for GLD
2025-06-11 15:44:16,147 - src.order.base - INFO - Order 207c9ed8-b104-4df2-acf7-279c4baadba2 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:44:16,148 - src.order.manager - INFO - Submitting order 207c9ed8-b104-4df2-acf7-279c4baadba2 to TWS
2025-06-11 15:44:16,148 - src.order.manager - INFO - Got broker order ID 1 for order 207c9ed8-b104-4df2-acf7-279c4baadba2
2025-06-11 15:44:16,149 - src.order.manager - INFO - Calling placeOrder with ID 1, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 300@0.000000 DAY
2025-06-11 15:44:16,150 - src.order.manager - INFO - placeOrder called successfully for order 207c9ed8-b104-4df2-acf7-279c4baadba2
2025-06-11 15:44:16,150 - src.order.base - INFO - Order 207c9ed8-b104-4df2-acf7-279c4baadba2 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:44:16,151 - src.position.position_manager - INFO - Added 1 main orders to GLD position
2025-06-11 15:44:16,151 - src.rule.linked_order_actions - INFO - Percentage-based stop: GLD stop at $302.29 (2.0%)
2025-06-11 15:44:16,152 - src.order.base - INFO - Order b4035439-9b92-4532-be8d-864ebece2b9b status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:44:16,153 - src.order.manager - INFO - Submitting order b4035439-9b92-4532-be8d-864ebece2b9b to TWS
2025-06-11 15:44:16,154 - src.order.manager - INFO - Got broker order ID 2 for order b4035439-9b92-4532-be8d-864ebece2b9b
2025-06-11 15:44:16,154 - src.order.manager - INFO - Calling placeOrder with ID 2, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 300@0.000000 DAY
2025-06-11 15:44:16,155 - src.order.manager - INFO - placeOrder called successfully for order b4035439-9b92-4532-be8d-864ebece2b9b
2025-06-11 15:44:16,155 - src.order.base - INFO - Order b4035439-9b92-4532-be8d-864ebece2b9b status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:44:16,156 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:44:16,157 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss b4035439-9b92-4532-be8d-864ebece2b9b at $302.29
2025-06-11 15:44:16,157 - src.rule.linked_order_actions - INFO - Percentage-based target: GLD target at $320.80 (4.0%)
2025-06-11 15:44:16,158 - src.order.base - INFO - Order 476e013d-bb1b-40af-a94d-508a62ef10e0 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:44:16,159 - src.order.manager - INFO - Submitting order 476e013d-bb1b-40af-a94d-508a62ef10e0 to TWS
2025-06-11 15:44:16,159 - src.order.manager - INFO - Got broker order ID 3 for order 476e013d-bb1b-40af-a94d-508a62ef10e0
2025-06-11 15:44:16,160 - src.order.manager - INFO - Calling placeOrder with ID 3, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 300@320.800000 DAY
2025-06-11 15:44:16,161 - src.order.manager - INFO - placeOrder called successfully for order 476e013d-bb1b-40af-a94d-508a62ef10e0
2025-06-11 15:44:16,162 - src.order.base - INFO - Order 476e013d-bb1b-40af-a94d-508a62ef10e0 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:44:16,162 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:44:16,163 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit 476e013d-bb1b-40af-a94d-508a62ef10e0 at $320.80
2025-06-11 15:44:16,163 - src.rule.linked_order_actions - INFO - Starting double down order creation for GLD
2025-06-11 15:44:16,164 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:44:16,164 - __main__ - INFO -    Order ID: 207c9ed8-b104-4df2-acf7-279c4baadba2
2025-06-11 15:44:16,164 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:44:16,164 - __main__ - INFO -    Type: OrderType.MARKET
2025-06-11 15:44:16,165 - __main__ - INFO -    Quantity: 300
2025-06-11 15:44:16,165 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:44:16,166 - __main__ - INFO -    Order ID: 207c9ed8-b104-4df2-acf7-279c4baadba2
2025-06-11 15:44:16,167 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:44:16,167 - __main__ - INFO -    Previous: created
2025-06-11 15:44:16,168 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:44:16,169 - __main__ - INFO -    Order ID: 207c9ed8-b104-4df2-acf7-279c4baadba2
2025-06-11 15:44:16,169 - __main__ - INFO -    Status: submitted
2025-06-11 15:44:16,170 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:44:16,170 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:44:16,171 - __main__ - INFO -    Order ID: b4035439-9b92-4532-be8d-864ebece2b9b
2025-06-11 15:44:16,171 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:44:16,171 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:44:16,172 - __main__ - INFO -    Quantity: -300
2025-06-11 15:44:16,172 - __main__ - INFO -    Stop Price: $302.29
2025-06-11 15:44:16,173 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:44:16,173 - __main__ - INFO -    Order ID: b4035439-9b92-4532-be8d-864ebece2b9b
2025-06-11 15:44:16,173 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:44:16,173 - __main__ - INFO -    Previous: created
2025-06-11 15:44:16,174 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:44:16,174 - __main__ - INFO -    Order ID: b4035439-9b92-4532-be8d-864ebece2b9b
2025-06-11 15:44:16,174 - __main__ - INFO -    Status: submitted
2025-06-11 15:44:16,175 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:44:16,175 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:44:16,176 - __main__ - INFO -    Order ID: 476e013d-bb1b-40af-a94d-508a62ef10e0
2025-06-11 15:44:16,176 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:44:16,176 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:44:16,177 - __main__ - INFO -    Quantity: -300
2025-06-11 15:44:16,177 - __main__ - INFO -    Limit Price: $320.80
2025-06-11 15:44:16,178 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:44:16,178 - __main__ - INFO -    Order ID: 476e013d-bb1b-40af-a94d-508a62ef10e0
2025-06-11 15:44:16,179 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:44:16,179 - __main__ - INFO -    Previous: created
2025-06-11 15:44:16,180 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:44:16,180 - __main__ - INFO -    Order ID: 476e013d-bb1b-40af-a94d-508a62ef10e0
2025-06-11 15:44:16,181 - __main__ - INFO -    Status: submitted
2025-06-11 15:44:16,181 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:44:16,666 - src.rule.linked_order_actions - INFO - Found 1 stop orders for GLD: ['b4035439-9b92-4532-be8d-864ebece2b9b']
2025-06-11 15:44:16,666 - src.rule.linked_order_actions - INFO - Executing double down action for GLD
2025-06-11 15:44:16,667 - src.rule.linked_order_actions - INFO - Using context price for GLD: $308.46
2025-06-11 15:44:16,667 - src.rule.linked_order_actions - INFO - Using percentage-based stop distance for GLD: 9.2538
2025-06-11 15:44:16,668 - src.rule.linked_order_actions - INFO - Double down calc for GLD (BUY): current=$308.46, stop_distance=$9.25, dd_distance=$4.63, dd_price=$303.83, original_qty=300, dd_qty=300
2025-06-11 15:44:16,669 - src.order.base - INFO - Order 048ffc94-5bfb-4c3d-9753-5d0035abcebd status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:44:16,669 - src.order.manager - INFO - Submitting order 048ffc94-5bfb-4c3d-9753-5d0035abcebd to TWS
2025-06-11 15:44:16,669 - src.order.manager - INFO - Got broker order ID 4 for order 048ffc94-5bfb-4c3d-9753-5d0035abcebd
2025-06-11 15:44:16,670 - src.order.manager - INFO - Calling placeOrder with ID 4, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 300@303.830000 DAY
2025-06-11 15:44:16,671 - src.order.manager - INFO - placeOrder called successfully for order 048ffc94-5bfb-4c3d-9753-5d0035abcebd
2025-06-11 15:44:16,671 - src.order.base - INFO - Order 048ffc94-5bfb-4c3d-9753-5d0035abcebd status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:44:16,672 - src.position.position_manager - INFO - Added 1 doubledown orders to GLD position
2025-06-11 15:44:16,672 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for GLD: 300 shares @ $303.83
2025-06-11 15:44:16,673 - src.rule.linked_order_actions - INFO - Auto-created double down order for GLD
2025-06-11 15:44:16,673 - src.rule.linked_order_actions - INFO - Created and linked BUY main order 207c9ed8-b104-4df2-acf7-279c4baadba2 for GLD
2025-06-11 15:44:16,674 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:44:16,675 - __main__ - INFO -    Order ID: 048ffc94-5bfb-4c3d-9753-5d0035abcebd
2025-06-11 15:44:16,675 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:44:16,676 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:44:16,678 - __main__ - INFO -    Quantity: 300
2025-06-11 15:44:16,679 - __main__ - INFO -    Limit Price: $303.83
2025-06-11 15:44:16,679 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:44:16,680 - __main__ - INFO -    Order ID: 048ffc94-5bfb-4c3d-9753-5d0035abcebd
2025-06-11 15:44:16,680 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:44:16,681 - __main__ - INFO -    Previous: created
2025-06-11 15:44:16,681 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:44:16,682 - __main__ - INFO -    Order ID: 048ffc94-5bfb-4c3d-9753-5d0035abcebd
2025-06-11 15:44:16,682 - __main__ - INFO -    Status: submitted
2025-06-11 15:44:16,683 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:44:16,804 - src.tws_connection - INFO - Open Order - ID: 2, Symbol: GLD, Action: SELL, Quantity: 300.0
2025-06-11 15:44:16,806 - src.order.base - INFO - Order b4035439-9b92-4532-be8d-864ebece2b9b status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-11 15:44:16,825 - src.tws_connection - INFO - Open Order - ID: 1, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:44:16,826 - src.order.base - INFO - Order 207c9ed8-b104-4df2-acf7-279c4baadba2 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-11 15:44:16,834 - src.order.base - INFO - Order 207c9ed8-b104-4df2-acf7-279c4baadba2 status changed: accepted -> filled (Order fully filled)
2025-06-11 15:44:16,835 - src.order.base - INFO - Order 207c9ed8-b104-4df2-acf7-279c4baadba2 filled: 300.0 @ 308.46 (300.0/300)
2025-06-11 15:44:16,835 - src.tws_connection - INFO - Open Order - ID: 1, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:44:16,837 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:44:16,838 - __main__ - INFO -    Order ID: 207c9ed8-b104-4df2-acf7-279c4baadba2
2025-06-11 15:44:16,838 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:44:16,839 - __main__ - INFO -    Filled Qty: 300.0
2025-06-11 15:44:16,839 - __main__ - INFO -    Fill Price: $308.46
2025-06-11 15:44:16,840 - __main__ - INFO -    Is Partial: False
2025-06-11 15:44:16,840 - src.tws_connection - INFO - Open Order - ID: 3, Symbol: GLD, Action: SELL, Quantity: 300.0
2025-06-11 15:44:16,841 - UnifiedFillManager - INFO - Processing fill for GLD: 300.0 shares on order 207c9ed8-b104-4df2-acf7-279c4baadba2
2025-06-11 15:44:16,842 - UnifiedFillManager - INFO - Fill is for main order
2025-06-11 15:44:16,842 - src.tws_connection - INFO - Open Order - ID: 1, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:44:16,843 - UnifiedFillManager - INFO - Main order filled for GLD
2025-06-11 15:44:17,462 - src.tws_connection - INFO - Open Order - ID: 4, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:44:19,147 - __main__ - INFO - 
Waiting for order processing...
2025-06-11 15:44:24,157 - __main__ - INFO - 
================================================================================
2025-06-11 15:44:24,158 - __main__ - INFO - VERIFYING ORDERS CREATED
2025-06-11 15:44:24,159 - __main__ - INFO - ================================================================================
2025-06-11 15:44:24,160 - __main__ - WARNING - No GLD context found!
2025-06-11 15:44:24,160 - __main__ - INFO - 
ORDERS SUMMARY:
2025-06-11 15:44:24,161 - __main__ - INFO -    Total orders created: 4
2025-06-11 15:44:24,161 - __main__ - INFO -    Market orders: 1
2025-06-11 15:44:24,162 - __main__ - INFO -    Stop orders: 1
2025-06-11 15:44:24,162 - __main__ - INFO -    Limit orders: 2
2025-06-11 15:44:24,163 - __main__ - INFO - 
DETAILED ORDER LIST:
2025-06-11 15:44:24,163 - __main__ - INFO - 
   Order #1:
2025-06-11 15:44:24,164 - __main__ - INFO -      ID: 207c9ed8-b104-4df2-acf7-279c4baadba2
2025-06-11 15:44:24,164 - __main__ - INFO -      Type: market
2025-06-11 15:44:24,165 - __main__ - INFO -      Quantity: 300
2025-06-11 15:44:24,165 - __main__ - INFO - 
   Order #2:
2025-06-11 15:44:24,166 - __main__ - INFO -      ID: b4035439-9b92-4532-be8d-864ebece2b9b
2025-06-11 15:44:24,166 - __main__ - INFO -      Type: stop
2025-06-11 15:44:24,167 - __main__ - INFO -      Quantity: -300
2025-06-11 15:44:24,167 - __main__ - INFO -      Stop: $302.29
2025-06-11 15:44:24,168 - __main__ - INFO - 
   Order #3:
2025-06-11 15:44:24,168 - __main__ - INFO -      ID: 476e013d-bb1b-40af-a94d-508a62ef10e0
2025-06-11 15:44:24,169 - __main__ - INFO -      Type: limit
2025-06-11 15:44:24,169 - __main__ - INFO -      Quantity: -300
2025-06-11 15:44:24,169 - __main__ - INFO -      Limit: $320.80
2025-06-11 15:44:24,170 - __main__ - INFO - 
   Order #4:
2025-06-11 15:44:24,171 - __main__ - INFO -      ID: 048ffc94-5bfb-4c3d-9753-5d0035abcebd
2025-06-11 15:44:24,171 - __main__ - INFO -      Type: limit
2025-06-11 15:44:24,172 - __main__ - INFO -      Quantity: 300
2025-06-11 15:44:24,172 - __main__ - INFO -      Limit: $303.83
2025-06-11 15:44:24,173 - __main__ - INFO - 
FILLS SUMMARY:
2025-06-11 15:44:24,174 - __main__ - INFO -    Total fills received: 1
2025-06-11 15:44:24,175 - __main__ - INFO - 
   Fill #1:
2025-06-11 15:44:24,175 - __main__ - INFO -      Order ID: 207c9ed8-b104-4df2-acf7-279c4baadba2
2025-06-11 15:44:24,176 - __main__ - INFO -      Quantity: 300.0
2025-06-11 15:44:24,177 - __main__ - INFO -      Avg Price: $308.46
2025-06-11 15:44:24,177 - __main__ - INFO -      Partial: False
2025-06-11 15:44:24,178 - __main__ - INFO - 
ðŸ“ MONITORING FOR FILLS AND UPDATES...
2025-06-11 15:44:24,178 - __main__ - INFO - You can now manually fill orders in TWS to test UnifiedFillManager
2025-06-11 15:44:24,179 - __main__ - INFO - Press Ctrl+C when done testing
2025-06-11 15:44:26,192 - src.tws_connection - WARNING - âš ï¸ TWS Error 2103: Market data farm connection is broken:usfuture (reqId: -1)
2025-06-11 15:44:34,190 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:44:44,194 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:44:54,197 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:45:04,202 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:45:14,204 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:45:24,211 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:45:34,225 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:47:02,977 - __main__ - INFO - ================================================================================
2025-06-11 15:47:02,979 - __main__ - INFO - INITIALIZING UNIFIED FILL MANAGER TEST
2025-06-11 15:47:02,979 - __main__ - INFO - ================================================================================
2025-06-11 15:47:02,980 - __main__ - INFO - Event bus created
2025-06-11 15:47:02,982 - __main__ - INFO - Subscribed to order events
2025-06-11 15:47:02,983 - __main__ - INFO - TWS Config: host=127.0.0.1, port=7497, client_id=999
2025-06-11 15:47:02,996 - __main__ - INFO - Connecting to TWS...
2025-06-11 15:47:02,997 - src.tws_connection - INFO - Connecting to TWS at 127.0.0.1:7497
2025-06-11 15:47:03,001 - src.tws_connection - INFO - Connection thread: Connecting to 127.0.0.1:7497 (client ID: 999)
2025-06-11 15:47:04,756 - src.tws_connection - INFO - âœ… Connection acknowledged by TWS
2025-06-11 15:47:04,758 - src.tws_connection - INFO - Connection thread: Socket connected, starting message loop
2025-06-11 15:47:04,786 - src.tws_connection - INFO - âœ… Next valid order ID received: 5
2025-06-11 15:47:04,787 - src.tws_connection - INFO - âœ… TWS connection fully established
2025-06-11 15:47:04,788 - src.tws_connection - INFO - Requesting additional order IDs from TWS
2025-06-11 15:47:04,790 - src.tws_connection - INFO - âœ… Next valid order ID received: 5
2025-06-11 15:47:04,791 - src.tws_connection - INFO - âœ… Successfully connected to TWS
2025-06-11 15:47:04,794 - __main__ - INFO - Connected to TWS successfully
2025-06-11 15:47:04,793 - src.tws_connection - INFO - âœ… Next valid order ID received: 5
2025-06-11 15:47:04,796 - src.order.manager - INFO - OrderManager callbacks set up with TWSConnection
2025-06-11 15:47:04,797 - src.position.tracker - INFO - PositionTracker async initialization completed
2025-06-11 15:47:04,798 - __main__ - INFO - Order manager and position tracker initialized
2025-06-11 15:47:04,799 - __main__ - INFO - Rule engine context configured
2025-06-11 15:47:04,800 - UnifiedFillManager - INFO - UnifiedFillManager initialized
2025-06-11 15:47:04,801 - __main__ - INFO - UnifiedFillManager initialized
2025-06-11 15:47:04,802 - __main__ - INFO - 
================================================================================
2025-06-11 15:47:04,802 - __main__ - INFO - SETTING UP GLD BUY RULE
2025-06-11 15:47:04,803 - __main__ - INFO - ================================================================================
2025-06-11 15:47:04,803 - __main__ - INFO - Created BUY condition (threshold: 50%)
2025-06-11 15:47:04,804 - __main__ - INFO - Created BUY action (300 shares, 0.7x ATR stop, 1.0x ATR target)
2025-06-11 15:47:04,805 - __main__ - INFO - Registered rule: gld_buy_test_rule
2025-06-11 15:47:04,806 - __main__ - INFO - 
================================================================================
2025-06-11 15:47:04,807 - __main__ - INFO - SIMULATING GLD BUY SIGNAL
2025-06-11 15:47:04,807 - __main__ - INFO - ================================================================================
2025-06-11 15:47:09,813 - __main__ - INFO - Current GLD price: $308.54
2025-06-11 15:47:09,813 - __main__ - INFO - Created prediction event:
2025-06-11 15:47:09,814 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:09,814 - __main__ - INFO -    Signal: BUY
2025-06-11 15:47:09,815 - __main__ - INFO -    Confidence: 75.0%
2025-06-11 15:47:09,815 - __main__ - INFO -    Price: $308.54
2025-06-11 15:47:09,816 - src.rule.engine - INFO - Rule engine started
2025-06-11 15:47:09,816 - __main__ - INFO - Rule engine started
2025-06-11 15:47:09,816 - __main__ - INFO - 
EMITTING PREDICTION EVENT...
2025-06-11 15:47:09,816 - __main__ - INFO - Prediction event emitted
2025-06-11 15:47:09,817 - __main__ - INFO - Waiting for initial order creation...
2025-06-11 15:47:09,817 - src.trade_tracker - INFO - TradeTracker initialized
2025-06-11 15:47:09,817 - src.position.position_manager - INFO - PositionManager initialized
2025-06-11 15:47:09,818 - src.trade_tracker - INFO - Started tracking BUY trade for GLD
2025-06-11 15:47:09,818 - src.position.position_manager - INFO - Opened BUY position for GLD
2025-06-11 15:47:09,818 - src.rule.linked_order_actions - INFO - Using fixed position size: 300 shares for GLD
2025-06-11 15:47:09,819 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:09,819 - src.order.manager - INFO - Submitting order 0c70de32-13a4-4758-bc39-5f6fc02430b7 to TWS
2025-06-11 15:47:09,819 - src.order.manager - INFO - Got broker order ID 5 for order 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:09,820 - src.order.manager - INFO - Calling placeOrder with ID 5, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 300@0.000000 DAY
2025-06-11 15:47:09,820 - src.order.manager - INFO - placeOrder called successfully for order 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:09,820 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:09,821 - src.position.position_manager - INFO - Added 1 main orders to GLD position
2025-06-11 15:47:09,895 - src.rule.linked_order_actions - INFO - ATR for GLD: 0.0464
2025-06-11 15:47:09,895 - src.rule.linked_order_actions - INFO - ATR-based stop: GLD stop at $308.51 (ATR: 0.0464 * 0.7 = 0.0325)
2025-06-11 15:47:09,896 - src.order.base - INFO - Order 61653ac0-97d1-4b70-a465-fcffadaba6cd status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:09,896 - src.order.manager - INFO - Submitting order 61653ac0-97d1-4b70-a465-fcffadaba6cd to TWS
2025-06-11 15:47:09,897 - src.order.manager - INFO - Got broker order ID 6 for order 61653ac0-97d1-4b70-a465-fcffadaba6cd
2025-06-11 15:47:09,897 - src.order.manager - INFO - Calling placeOrder with ID 6, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 300@0.000000 DAY
2025-06-11 15:47:09,898 - src.order.manager - INFO - placeOrder called successfully for order 61653ac0-97d1-4b70-a465-fcffadaba6cd
2025-06-11 15:47:09,899 - src.order.base - INFO - Order 61653ac0-97d1-4b70-a465-fcffadaba6cd status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:09,899 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:47:09,899 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss 61653ac0-97d1-4b70-a465-fcffadaba6cd at $308.51
2025-06-11 15:47:09,900 - src.rule.linked_order_actions - INFO - ATR-based target: GLD target at $308.59 (ATR: 0.0464 * 1.0 = 0.0464)
2025-06-11 15:47:09,900 - src.order.base - INFO - Order d8cc43f5-c8e1-4472-a33c-8a8b83901d28 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:09,901 - src.order.manager - INFO - Submitting order d8cc43f5-c8e1-4472-a33c-8a8b83901d28 to TWS
2025-06-11 15:47:09,901 - src.order.manager - INFO - Got broker order ID 7 for order d8cc43f5-c8e1-4472-a33c-8a8b83901d28
2025-06-11 15:47:09,901 - src.order.manager - INFO - Calling placeOrder with ID 7, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 300@308.590000 DAY
2025-06-11 15:47:09,902 - src.order.manager - INFO - placeOrder called successfully for order d8cc43f5-c8e1-4472-a33c-8a8b83901d28
2025-06-11 15:47:09,902 - src.order.base - INFO - Order d8cc43f5-c8e1-4472-a33c-8a8b83901d28 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:09,902 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:47:09,903 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit d8cc43f5-c8e1-4472-a33c-8a8b83901d28 at $308.59
2025-06-11 15:47:09,903 - src.rule.linked_order_actions - INFO - Starting double down order creation for GLD
2025-06-11 15:47:09,903 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:09,903 - __main__ - INFO -    Order ID: 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:09,904 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:09,904 - __main__ - INFO -    Type: OrderType.MARKET
2025-06-11 15:47:09,904 - __main__ - INFO -    Quantity: 300
2025-06-11 15:47:09,905 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:09,905 - __main__ - INFO -    Order ID: 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:09,905 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:09,905 - __main__ - INFO -    Previous: created
2025-06-11 15:47:09,906 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:09,906 - __main__ - INFO -    Order ID: 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:09,906 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:09,906 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:09,907 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:09,907 - __main__ - INFO -    Order ID: 61653ac0-97d1-4b70-a465-fcffadaba6cd
2025-06-11 15:47:09,908 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:09,908 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:47:09,908 - __main__ - INFO -    Quantity: -300
2025-06-11 15:47:09,909 - __main__ - INFO -    Stop Price: $308.51
2025-06-11 15:47:09,909 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:09,910 - __main__ - INFO -    Order ID: 61653ac0-97d1-4b70-a465-fcffadaba6cd
2025-06-11 15:47:09,910 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:09,910 - __main__ - INFO -    Previous: created
2025-06-11 15:47:09,911 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:09,911 - __main__ - INFO -    Order ID: 61653ac0-97d1-4b70-a465-fcffadaba6cd
2025-06-11 15:47:09,911 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:09,911 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:09,912 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:09,912 - __main__ - INFO -    Order ID: d8cc43f5-c8e1-4472-a33c-8a8b83901d28
2025-06-11 15:47:09,912 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:09,913 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:09,914 - __main__ - INFO -    Quantity: -300
2025-06-11 15:47:09,914 - __main__ - INFO -    Limit Price: $308.59
2025-06-11 15:47:09,914 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:09,914 - __main__ - INFO -    Order ID: d8cc43f5-c8e1-4472-a33c-8a8b83901d28
2025-06-11 15:47:09,915 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:09,915 - __main__ - INFO -    Previous: created
2025-06-11 15:47:09,915 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:09,915 - __main__ - INFO -    Order ID: d8cc43f5-c8e1-4472-a33c-8a8b83901d28
2025-06-11 15:47:09,915 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:09,915 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:09,924 - src.tws_connection - INFO - Open Order - ID: 5, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:47:09,926 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-11 15:47:09,930 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 status changed: accepted -> partially_filled (Order partially filled)
2025-06-11 15:47:09,930 - src.tws_connection - INFO - Open Order - ID: 5, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:47:09,932 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 filled: 100.0 @ 308.54 (100.0/300)
2025-06-11 15:47:09,933 - src.tws_connection - INFO - Open Order - ID: 5, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:47:09,934 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:47:09,935 - __main__ - INFO -    Order ID: 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:09,935 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:09,936 - __main__ - INFO -    Filled Qty: 100.0
2025-06-11 15:47:09,936 - __main__ - INFO -    Fill Price: $308.54
2025-06-11 15:47:09,936 - __main__ - INFO -    Is Partial: False
2025-06-11 15:47:09,937 - UnifiedFillManager - INFO - Processing fill for GLD: 100.0 shares on order 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:09,937 - UnifiedFillManager - INFO - Fill is for main order
2025-06-11 15:47:09,938 - UnifiedFillManager - INFO - Main order filled for GLD
2025-06-11 15:47:09,937 - src.tws_connection - INFO - Open Order - ID: 5, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:47:09,939 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-11 15:47:09,940 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 status changed: accepted -> partially_filled (Order partially filled)
2025-06-11 15:47:09,941 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 filled: 106.0 @ 308.54 (206.0/300)
2025-06-11 15:47:09,941 - src.tws_connection - INFO - Open Order - ID: 5, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:47:09,942 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:47:09,943 - __main__ - INFO -    Order ID: 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:09,943 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:09,943 - src.tws_connection - INFO - Open Order - ID: 5, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:47:09,944 - __main__ - INFO -    Filled Qty: 106.0
2025-06-11 15:47:09,945 - __main__ - INFO -    Fill Price: $308.54
2025-06-11 15:47:09,945 - src.tws_connection - INFO - Open Order - ID: 5, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:47:09,946 - __main__ - INFO -    Is Partial: False
2025-06-11 15:47:09,947 - UnifiedFillManager - INFO - Processing fill for GLD: 106.0 shares on order 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:09,947 - src.tws_connection - INFO - Open Order - ID: 5, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:47:09,947 - UnifiedFillManager - INFO - Fill is for main order
2025-06-11 15:47:09,949 - UnifiedFillManager - INFO - Main order filled for GLD
2025-06-11 15:47:09,950 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-11 15:47:09,950 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 status changed: accepted -> partially_filled (Order partially filled)
2025-06-11 15:47:09,951 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 filled: 37.0 @ 308.54 (243.0/300)
2025-06-11 15:47:09,952 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-11 15:47:09,952 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:47:09,953 - __main__ - INFO -    Order ID: 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:09,953 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:09,954 - __main__ - INFO -    Filled Qty: 37.0
2025-06-11 15:47:09,954 - __main__ - INFO -    Fill Price: $308.54
2025-06-11 15:47:09,955 - __main__ - INFO -    Is Partial: False
2025-06-11 15:47:09,956 - UnifiedFillManager - INFO - Processing fill for GLD: 37.0 shares on order 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:09,956 - UnifiedFillManager - INFO - Fill is for main order
2025-06-11 15:47:09,956 - UnifiedFillManager - INFO - Main order filled for GLD
2025-06-11 15:47:09,957 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 status changed: accepted -> submitted (IB status: Submitted)
2025-06-11 15:47:10,022 - src.tws_connection - INFO - Open Order - ID: 6, Symbol: GLD, Action: SELL, Quantity: 300.0
2025-06-11 15:47:10,023 - src.order.base - INFO - Order 61653ac0-97d1-4b70-a465-fcffadaba6cd status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-11 15:47:10,088 - src.tws_connection - INFO - Open Order - ID: 7, Symbol: GLD, Action: SELL, Quantity: 300.0
2025-06-11 15:47:10,405 - src.rule.linked_order_actions - INFO - Found 1 stop orders for GLD: ['61653ac0-97d1-4b70-a465-fcffadaba6cd']
2025-06-11 15:47:10,405 - src.rule.linked_order_actions - INFO - Executing double down action for GLD
2025-06-11 15:47:10,406 - src.rule.linked_order_actions - INFO - Using context price for GLD: $308.54
2025-06-11 15:47:10,476 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for GLD: 0.0325
2025-06-11 15:47:10,476 - src.rule.linked_order_actions - INFO - Double down calc for GLD (BUY): current=$308.54, stop_distance=$0.03, dd_distance=$0.02, dd_price=$308.52, original_qty=300, dd_qty=300
2025-06-11 15:47:10,477 - src.order.base - INFO - Order 5d8f8537-e4b5-44bf-95fb-51be170155fb status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:10,478 - src.order.manager - INFO - Submitting order 5d8f8537-e4b5-44bf-95fb-51be170155fb to TWS
2025-06-11 15:47:10,478 - src.order.manager - INFO - Got broker order ID 8 for order 5d8f8537-e4b5-44bf-95fb-51be170155fb
2025-06-11 15:47:10,478 - src.order.manager - INFO - Calling placeOrder with ID 8, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 300@308.520000 DAY
2025-06-11 15:47:10,479 - src.order.manager - INFO - placeOrder called successfully for order 5d8f8537-e4b5-44bf-95fb-51be170155fb
2025-06-11 15:47:10,479 - src.order.base - INFO - Order 5d8f8537-e4b5-44bf-95fb-51be170155fb status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:10,480 - src.position.position_manager - INFO - Added 1 doubledown orders to GLD position
2025-06-11 15:47:10,480 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for GLD: 300 shares @ $308.52
2025-06-11 15:47:10,480 - src.rule.linked_order_actions - INFO - Auto-created double down order for GLD
2025-06-11 15:47:10,481 - src.rule.linked_order_actions - INFO - Created and linked BUY main order 0c70de32-13a4-4758-bc39-5f6fc02430b7 for GLD
2025-06-11 15:47:10,481 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:10,481 - __main__ - INFO -    Order ID: 5d8f8537-e4b5-44bf-95fb-51be170155fb
2025-06-11 15:47:10,482 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:10,482 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:10,482 - __main__ - INFO -    Quantity: 300
2025-06-11 15:47:10,483 - __main__ - INFO -    Limit Price: $308.52
2025-06-11 15:47:10,483 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:10,483 - __main__ - INFO -    Order ID: 5d8f8537-e4b5-44bf-95fb-51be170155fb
2025-06-11 15:47:10,484 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:10,484 - __main__ - INFO -    Previous: created
2025-06-11 15:47:10,485 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:10,485 - __main__ - INFO -    Order ID: 5d8f8537-e4b5-44bf-95fb-51be170155fb
2025-06-11 15:47:10,486 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:10,486 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:10,583 - src.tws_connection - INFO - Open Order - ID: 8, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:47:12,820 - __main__ - INFO - 
Waiting for order processing...
2025-06-11 15:47:17,831 - __main__ - INFO - 
================================================================================
2025-06-11 15:47:17,832 - __main__ - INFO - VERIFYING ORDERS CREATED
2025-06-11 15:47:17,832 - __main__ - INFO - ================================================================================
2025-06-11 15:47:17,833 - __main__ - WARNING - No GLD context found!
2025-06-11 15:47:17,833 - __main__ - INFO - 
ORDERS SUMMARY:
2025-06-11 15:47:17,833 - __main__ - INFO -    Total orders created: 4
2025-06-11 15:47:17,833 - __main__ - INFO -    Market orders: 1
2025-06-11 15:47:17,834 - __main__ - INFO -    Stop orders: 1
2025-06-11 15:47:17,834 - __main__ - INFO -    Limit orders: 2
2025-06-11 15:47:17,834 - __main__ - INFO - 
DETAILED ORDER LIST:
2025-06-11 15:47:17,834 - __main__ - INFO - 
   Order #1:
2025-06-11 15:47:17,835 - __main__ - INFO -      ID: 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:17,835 - __main__ - INFO -      Type: market
2025-06-11 15:47:17,835 - __main__ - INFO -      Quantity: 300
2025-06-11 15:47:17,835 - __main__ - INFO - 
   Order #2:
2025-06-11 15:47:17,836 - __main__ - INFO -      ID: 61653ac0-97d1-4b70-a465-fcffadaba6cd
2025-06-11 15:47:17,836 - __main__ - INFO -      Type: stop
2025-06-11 15:47:17,836 - __main__ - INFO -      Quantity: -300
2025-06-11 15:47:17,836 - __main__ - INFO -      Stop: $308.51
2025-06-11 15:47:17,840 - __main__ - INFO - 
   Order #3:
2025-06-11 15:47:17,840 - __main__ - INFO -      ID: d8cc43f5-c8e1-4472-a33c-8a8b83901d28
2025-06-11 15:47:17,841 - __main__ - INFO -      Type: limit
2025-06-11 15:47:17,841 - __main__ - INFO -      Quantity: -300
2025-06-11 15:47:17,842 - __main__ - INFO -      Limit: $308.59
2025-06-11 15:47:17,842 - __main__ - INFO - 
   Order #4:
2025-06-11 15:47:17,842 - __main__ - INFO -      ID: 5d8f8537-e4b5-44bf-95fb-51be170155fb
2025-06-11 15:47:17,843 - __main__ - INFO -      Type: limit
2025-06-11 15:47:17,843 - __main__ - INFO -      Quantity: 300
2025-06-11 15:47:17,843 - __main__ - INFO -      Limit: $308.52
2025-06-11 15:47:17,843 - __main__ - INFO - 
FILLS SUMMARY:
2025-06-11 15:47:17,844 - __main__ - INFO -    Total fills received: 3
2025-06-11 15:47:17,844 - __main__ - INFO - 
   Fill #1:
2025-06-11 15:47:17,844 - __main__ - INFO -      Order ID: 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:17,845 - __main__ - INFO -      Quantity: 100.0
2025-06-11 15:47:17,845 - __main__ - INFO -      Avg Price: $308.54
2025-06-11 15:47:17,846 - __main__ - INFO -      Partial: False
2025-06-11 15:47:17,846 - __main__ - INFO - 
   Fill #2:
2025-06-11 15:47:17,847 - __main__ - INFO -      Order ID: 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:17,847 - __main__ - INFO -      Quantity: 106.0
2025-06-11 15:47:17,848 - __main__ - INFO -      Avg Price: $308.54
2025-06-11 15:47:17,848 - __main__ - INFO -      Partial: False
2025-06-11 15:47:17,849 - __main__ - INFO - 
   Fill #3:
2025-06-11 15:47:17,849 - __main__ - INFO -      Order ID: 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:17,849 - __main__ - INFO -      Quantity: 37.0
2025-06-11 15:47:17,849 - __main__ - INFO -      Avg Price: $308.54
2025-06-11 15:47:17,849 - __main__ - INFO -      Partial: False
2025-06-11 15:47:17,850 - __main__ - INFO - 
ðŸ“ MONITORING FOR FILLS AND UPDATES...
2025-06-11 15:47:17,850 - __main__ - INFO - You can now manually fill orders in TWS to test UnifiedFillManager
2025-06-11 15:47:17,850 - __main__ - INFO - Press Ctrl+C when done testing
2025-06-11 15:47:26,280 - src.order.base - INFO - Order 5d8f8537-e4b5-44bf-95fb-51be170155fb status changed: submitted -> partially_filled (Order partially filled)
2025-06-11 15:47:26,281 - src.order.base - INFO - Order 5d8f8537-e4b5-44bf-95fb-51be170155fb filled: 100.0 @ 308.52 (100.0/300)
2025-06-11 15:47:26,281 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:47:26,281 - __main__ - INFO -    Order ID: 5d8f8537-e4b5-44bf-95fb-51be170155fb
2025-06-11 15:47:26,281 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:26,282 - __main__ - INFO -    Filled Qty: 100.0
2025-06-11 15:47:26,282 - __main__ - INFO -    Fill Price: $308.52
2025-06-11 15:47:26,282 - __main__ - INFO -    Is Partial: False
2025-06-11 15:47:26,282 - UnifiedFillManager - INFO - Processing fill for GLD: 100.0 shares on order 5d8f8537-e4b5-44bf-95fb-51be170155fb
2025-06-11 15:47:26,282 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-11 15:47:26,283 - UnifiedFillManager - INFO - Double down fill for GLD, new position size: 400.0
2025-06-11 15:47:26,283 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=400.0, protective_qty=-400.0
2025-06-11 15:47:26,283 - src.order.base - INFO - Order 61653ac0-97d1-4b70-a465-fcffadaba6cd status changed: accepted -> pending_cancel (Updating quantity to -400.0)
2025-06-11 15:47:26,284 - src.order.manager - INFO - Cancelling order 61653ac0-97d1-4b70-a465-fcffadaba6cd with broker ID 6
2025-06-11 15:47:26,284 - src.order.base - INFO - Order 5d74f817-b13f-47a5-a8d7-19ec179757f2 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:26,285 - src.order.manager - INFO - Submitting order 5d74f817-b13f-47a5-a8d7-19ec179757f2 to TWS
2025-06-11 15:47:26,285 - src.order.manager - INFO - Got broker order ID 9 for order 5d74f817-b13f-47a5-a8d7-19ec179757f2
2025-06-11 15:47:26,286 - src.order.manager - INFO - Calling placeOrder with ID 9, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 400@0.000000 DAY
2025-06-11 15:47:26,286 - src.order.manager - INFO - placeOrder called successfully for order 5d74f817-b13f-47a5-a8d7-19ec179757f2
2025-06-11 15:47:26,287 - src.order.base - INFO - Order 5d74f817-b13f-47a5-a8d7-19ec179757f2 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:26,287 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:47:26,287 - UnifiedFillManager - INFO - Created updated stop order 5d74f817-b13f-47a5-a8d7-19ec179757f2 for GLD at $308.51 for -400.0 shares
2025-06-11 15:47:26,288 - src.order.base - INFO - Order 5d74f817-b13f-47a5-a8d7-19ec179757f2 status changed: submitted -> pending_cancel (Updating quantity to -400.0)
2025-06-11 15:47:26,288 - src.order.manager - INFO - Cancelling order 5d74f817-b13f-47a5-a8d7-19ec179757f2 with broker ID 9
2025-06-11 15:47:26,288 - src.order.base - INFO - Order 517dfcdc-2ed8-4898-aa42-c8197caeec74 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:26,289 - src.order.manager - INFO - Submitting order 517dfcdc-2ed8-4898-aa42-c8197caeec74 to TWS
2025-06-11 15:47:26,289 - src.order.manager - INFO - Got broker order ID 10 for order 517dfcdc-2ed8-4898-aa42-c8197caeec74
2025-06-11 15:47:26,289 - src.order.manager - INFO - Calling placeOrder with ID 10, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 400@0.000000 DAY
2025-06-11 15:47:26,290 - src.order.manager - INFO - placeOrder called successfully for order 517dfcdc-2ed8-4898-aa42-c8197caeec74
2025-06-11 15:47:26,290 - src.order.base - INFO - Order 517dfcdc-2ed8-4898-aa42-c8197caeec74 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:26,290 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:47:26,290 - UnifiedFillManager - INFO - Created updated stop order 517dfcdc-2ed8-4898-aa42-c8197caeec74 for GLD at $308.51 for -400.0 shares
2025-06-11 15:47:26,291 - src.order.base - INFO - Order 517dfcdc-2ed8-4898-aa42-c8197caeec74 status changed: submitted -> pending_cancel (Updating quantity to -400.0)
2025-06-11 15:47:26,291 - src.order.manager - INFO - Cancelling order 517dfcdc-2ed8-4898-aa42-c8197caeec74 with broker ID 10
2025-06-11 15:47:26,292 - src.order.base - INFO - Order e379ccfb-d476-4785-b107-2027c6977c64 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:26,292 - src.order.manager - INFO - Submitting order e379ccfb-d476-4785-b107-2027c6977c64 to TWS
2025-06-11 15:47:26,292 - src.order.manager - INFO - Got broker order ID 11 for order e379ccfb-d476-4785-b107-2027c6977c64
2025-06-11 15:47:26,292 - src.order.manager - INFO - Calling placeOrder with ID 11, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 400@0.000000 DAY
2025-06-11 15:47:26,293 - src.order.manager - INFO - placeOrder called successfully for order e379ccfb-d476-4785-b107-2027c6977c64
2025-06-11 15:47:26,293 - src.order.base - INFO - Order e379ccfb-d476-4785-b107-2027c6977c64 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:26,293 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:47:26,293 - UnifiedFillManager - INFO - Created updated stop order e379ccfb-d476-4785-b107-2027c6977c64 for GLD at $308.51 for -400.0 shares
2025-06-11 15:47:26,294 - src.order.base - INFO - Order d8cc43f5-c8e1-4472-a33c-8a8b83901d28 status changed: submitted -> pending_cancel (Updating quantity to -400.0)
2025-06-11 15:47:26,294 - src.order.manager - INFO - Cancelling order d8cc43f5-c8e1-4472-a33c-8a8b83901d28 with broker ID 7
2025-06-11 15:47:26,294 - src.order.base - INFO - Order 7ab6a53b-728c-4793-93dc-5546da21838b status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:26,295 - src.order.manager - INFO - Submitting order 7ab6a53b-728c-4793-93dc-5546da21838b to TWS
2025-06-11 15:47:26,295 - src.order.manager - INFO - Got broker order ID 12 for order 7ab6a53b-728c-4793-93dc-5546da21838b
2025-06-11 15:47:26,295 - src.order.manager - INFO - Calling placeOrder with ID 12, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 400@308.590000 DAY
2025-06-11 15:47:26,296 - src.order.manager - INFO - placeOrder called successfully for order 7ab6a53b-728c-4793-93dc-5546da21838b
2025-06-11 15:47:26,296 - src.order.base - INFO - Order 7ab6a53b-728c-4793-93dc-5546da21838b status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:26,296 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:47:26,297 - UnifiedFillManager - INFO - Created updated target order 7ab6a53b-728c-4793-93dc-5546da21838b for GLD at $308.59 for -400.0 shares
2025-06-11 15:47:26,297 - src.order.base - INFO - Order 7ab6a53b-728c-4793-93dc-5546da21838b status changed: submitted -> pending_cancel (Updating quantity to -400.0)
2025-06-11 15:47:26,297 - src.order.manager - INFO - Cancelling order 7ab6a53b-728c-4793-93dc-5546da21838b with broker ID 12
2025-06-11 15:47:26,298 - src.order.base - INFO - Order 418d6712-72d6-4b92-868a-18c148639d6f status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:26,298 - src.order.manager - INFO - Submitting order 418d6712-72d6-4b92-868a-18c148639d6f to TWS
2025-06-11 15:47:26,298 - src.order.manager - INFO - Got broker order ID 13 for order 418d6712-72d6-4b92-868a-18c148639d6f
2025-06-11 15:47:26,299 - src.order.manager - INFO - Calling placeOrder with ID 13, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 400@308.590000 DAY
2025-06-11 15:47:26,299 - src.order.manager - INFO - placeOrder called successfully for order 418d6712-72d6-4b92-868a-18c148639d6f
2025-06-11 15:47:26,299 - src.order.base - INFO - Order 418d6712-72d6-4b92-868a-18c148639d6f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:26,300 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:47:26,300 - UnifiedFillManager - INFO - Created updated target order 418d6712-72d6-4b92-868a-18c148639d6f for GLD at $308.59 for -400.0 shares
2025-06-11 15:47:26,300 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:26,300 - __main__ - INFO -    Order ID: 5d74f817-b13f-47a5-a8d7-19ec179757f2
2025-06-11 15:47:26,300 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:26,301 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:47:26,301 - __main__ - INFO -    Quantity: -400.0
2025-06-11 15:47:26,302 - __main__ - INFO -    Stop Price: $308.51
2025-06-11 15:47:26,303 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,303 - __main__ - INFO -    Order ID: 5d74f817-b13f-47a5-a8d7-19ec179757f2
2025-06-11 15:47:26,303 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:26,303 - __main__ - INFO -    Previous: created
2025-06-11 15:47:26,304 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,304 - __main__ - INFO -    Order ID: 5d74f817-b13f-47a5-a8d7-19ec179757f2
2025-06-11 15:47:26,304 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:26,305 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:26,305 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:26,305 - __main__ - INFO -    Order ID: 517dfcdc-2ed8-4898-aa42-c8197caeec74
2025-06-11 15:47:26,305 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:26,306 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:47:26,306 - __main__ - INFO -    Quantity: -400.0
2025-06-11 15:47:26,306 - __main__ - INFO -    Stop Price: $308.51
2025-06-11 15:47:26,306 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,307 - __main__ - INFO -    Order ID: 517dfcdc-2ed8-4898-aa42-c8197caeec74
2025-06-11 15:47:26,308 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:26,308 - __main__ - INFO -    Previous: created
2025-06-11 15:47:26,308 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,308 - __main__ - INFO -    Order ID: 517dfcdc-2ed8-4898-aa42-c8197caeec74
2025-06-11 15:47:26,309 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:26,309 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:26,310 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:26,310 - __main__ - INFO -    Order ID: e379ccfb-d476-4785-b107-2027c6977c64
2025-06-11 15:47:26,310 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:26,310 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:47:26,310 - __main__ - INFO -    Quantity: -400.0
2025-06-11 15:47:26,310 - __main__ - INFO -    Stop Price: $308.51
2025-06-11 15:47:26,311 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,311 - __main__ - INFO -    Order ID: e379ccfb-d476-4785-b107-2027c6977c64
2025-06-11 15:47:26,311 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:26,312 - __main__ - INFO -    Previous: created
2025-06-11 15:47:26,312 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,312 - __main__ - INFO -    Order ID: e379ccfb-d476-4785-b107-2027c6977c64
2025-06-11 15:47:26,312 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:26,312 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:26,313 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:26,313 - __main__ - INFO -    Order ID: 7ab6a53b-728c-4793-93dc-5546da21838b
2025-06-11 15:47:26,313 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:26,313 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:26,314 - __main__ - INFO -    Quantity: -400.0
2025-06-11 15:47:26,314 - __main__ - INFO -    Limit Price: $308.59
2025-06-11 15:47:26,314 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,315 - __main__ - INFO -    Order ID: 7ab6a53b-728c-4793-93dc-5546da21838b
2025-06-11 15:47:26,315 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:26,315 - __main__ - INFO -    Previous: created
2025-06-11 15:47:26,315 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,316 - __main__ - INFO -    Order ID: 7ab6a53b-728c-4793-93dc-5546da21838b
2025-06-11 15:47:26,316 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:26,317 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:26,317 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:26,317 - __main__ - INFO -    Order ID: 418d6712-72d6-4b92-868a-18c148639d6f
2025-06-11 15:47:26,318 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:26,318 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:26,318 - __main__ - INFO -    Quantity: -400.0
2025-06-11 15:47:26,318 - __main__ - INFO -    Limit Price: $308.59
2025-06-11 15:47:26,319 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,319 - __main__ - INFO -    Order ID: 418d6712-72d6-4b92-868a-18c148639d6f
2025-06-11 15:47:26,319 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:26,319 - __main__ - INFO -    Previous: created
2025-06-11 15:47:26,320 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,320 - __main__ - INFO -    Order ID: 418d6712-72d6-4b92-868a-18c148639d6f
2025-06-11 15:47:26,320 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:26,320 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:26,343 - src.tws_connection - INFO - Open Order - ID: 8, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:47:26,347 - src.order.base - INFO - Order 5d8f8537-e4b5-44bf-95fb-51be170155fb status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-11 15:47:26,354 - src.order.base - INFO - Order 5d8f8537-e4b5-44bf-95fb-51be170155fb status changed: submitted -> filled (Order fully filled)
2025-06-11 15:47:26,355 - src.order.base - INFO - Order 5d8f8537-e4b5-44bf-95fb-51be170155fb filled: 200.0 @ 308.52 (300.0/300)
2025-06-11 15:47:26,354 - src.tws_connection - INFO - Open Order - ID: 8, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:47:26,357 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:47:26,358 - __main__ - INFO -    Order ID: 5d8f8537-e4b5-44bf-95fb-51be170155fb
2025-06-11 15:47:26,358 - src.tws_connection - INFO - Open Order - ID: 8, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:47:26,359 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:26,360 - src.tws_connection - INFO - Open Order - ID: 8, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:47:26,360 - __main__ - INFO -    Filled Qty: 200.0
2025-06-11 15:47:26,361 - __main__ - INFO -    Fill Price: $308.52
2025-06-11 15:47:26,361 - __main__ - INFO -    Is Partial: False
2025-06-11 15:47:26,361 - UnifiedFillManager - INFO - Processing fill for GLD: 200.0 shares on order 5d8f8537-e4b5-44bf-95fb-51be170155fb
2025-06-11 15:47:26,362 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-11 15:47:26,362 - UnifiedFillManager - INFO - Double down fill for GLD, new position size: 600.0
2025-06-11 15:47:26,362 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=600.0, protective_qty=-600.0
2025-06-11 15:47:26,362 - src.order.base - INFO - Order e379ccfb-d476-4785-b107-2027c6977c64 status changed: submitted -> pending_cancel (Updating quantity to -600.0)
2025-06-11 15:47:26,363 - src.order.manager - INFO - Cancelling order e379ccfb-d476-4785-b107-2027c6977c64 with broker ID 11
2025-06-11 15:47:26,363 - src.order.base - INFO - Order e85f801f-b4dc-44a6-8175-f5ece2117597 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:26,364 - src.order.manager - INFO - Submitting order e85f801f-b4dc-44a6-8175-f5ece2117597 to TWS
2025-06-11 15:47:26,364 - src.order.manager - INFO - Got broker order ID 14 for order e85f801f-b4dc-44a6-8175-f5ece2117597
2025-06-11 15:47:26,364 - src.order.manager - INFO - Calling placeOrder with ID 14, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 600@0.000000 DAY
2025-06-11 15:47:26,364 - src.order.manager - INFO - placeOrder called successfully for order e85f801f-b4dc-44a6-8175-f5ece2117597
2025-06-11 15:47:26,365 - src.order.base - INFO - Order e85f801f-b4dc-44a6-8175-f5ece2117597 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:26,366 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:47:26,366 - UnifiedFillManager - INFO - Created updated stop order e85f801f-b4dc-44a6-8175-f5ece2117597 for GLD at $308.51 for -600.0 shares
2025-06-11 15:47:26,366 - src.order.base - INFO - Order e85f801f-b4dc-44a6-8175-f5ece2117597 status changed: submitted -> pending_cancel (Updating quantity to -600.0)
2025-06-11 15:47:26,367 - src.order.manager - INFO - Cancelling order e85f801f-b4dc-44a6-8175-f5ece2117597 with broker ID 14
2025-06-11 15:47:26,367 - src.order.base - INFO - Order c77db07c-a150-4a9d-baba-baadb67f97c6 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:26,367 - src.order.manager - INFO - Submitting order c77db07c-a150-4a9d-baba-baadb67f97c6 to TWS
2025-06-11 15:47:26,368 - src.order.manager - INFO - Got broker order ID 15 for order c77db07c-a150-4a9d-baba-baadb67f97c6
2025-06-11 15:47:26,369 - src.order.manager - INFO - Calling placeOrder with ID 15, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 600@0.000000 DAY
2025-06-11 15:47:26,370 - src.order.manager - INFO - placeOrder called successfully for order c77db07c-a150-4a9d-baba-baadb67f97c6
2025-06-11 15:47:26,370 - src.order.base - INFO - Order c77db07c-a150-4a9d-baba-baadb67f97c6 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:26,371 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:47:26,372 - UnifiedFillManager - INFO - Created updated stop order c77db07c-a150-4a9d-baba-baadb67f97c6 for GLD at $308.51 for -600.0 shares
2025-06-11 15:47:26,372 - src.order.base - INFO - Order c77db07c-a150-4a9d-baba-baadb67f97c6 status changed: submitted -> pending_cancel (Updating quantity to -600.0)
2025-06-11 15:47:26,373 - src.order.manager - INFO - Cancelling order c77db07c-a150-4a9d-baba-baadb67f97c6 with broker ID 15
2025-06-11 15:47:26,373 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:26,374 - src.order.manager - INFO - Submitting order 21282688-3658-4d2b-8d4c-862ae238d4ca to TWS
2025-06-11 15:47:26,374 - src.order.manager - INFO - Got broker order ID 16 for order 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:26,375 - src.order.manager - INFO - Calling placeOrder with ID 16, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 600@0.000000 DAY
2025-06-11 15:47:26,375 - src.order.manager - INFO - placeOrder called successfully for order 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:26,376 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:26,376 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:47:26,376 - UnifiedFillManager - INFO - Created updated stop order 21282688-3658-4d2b-8d4c-862ae238d4ca for GLD at $308.51 for -600.0 shares
2025-06-11 15:47:26,376 - src.order.base - INFO - Order 418d6712-72d6-4b92-868a-18c148639d6f status changed: submitted -> pending_cancel (Updating quantity to -600.0)
2025-06-11 15:47:26,377 - src.order.manager - INFO - Cancelling order 418d6712-72d6-4b92-868a-18c148639d6f with broker ID 13
2025-06-11 15:47:26,377 - src.order.base - INFO - Order db69d0ca-988d-4b46-a10f-e98c5f841e3d status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:26,378 - src.order.manager - INFO - Submitting order db69d0ca-988d-4b46-a10f-e98c5f841e3d to TWS
2025-06-11 15:47:26,378 - src.order.manager - INFO - Got broker order ID 17 for order db69d0ca-988d-4b46-a10f-e98c5f841e3d
2025-06-11 15:47:26,378 - src.order.manager - INFO - Calling placeOrder with ID 17, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 600@308.590000 DAY
2025-06-11 15:47:26,379 - src.order.manager - INFO - placeOrder called successfully for order db69d0ca-988d-4b46-a10f-e98c5f841e3d
2025-06-11 15:47:26,380 - src.order.base - INFO - Order db69d0ca-988d-4b46-a10f-e98c5f841e3d status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:26,381 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:47:26,380 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 6)
2025-06-11 15:47:26,382 - UnifiedFillManager - INFO - Created updated target order db69d0ca-988d-4b46-a10f-e98c5f841e3d for GLD at $308.59 for -600.0 shares
2025-06-11 15:47:26,384 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:26,385 - __main__ - INFO -    Order ID: e85f801f-b4dc-44a6-8175-f5ece2117597
2025-06-11 15:47:26,386 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:26,386 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:47:26,386 - __main__ - INFO -    Quantity: -600.0
2025-06-11 15:47:26,386 - __main__ - INFO -    Stop Price: $308.51
2025-06-11 15:47:26,387 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,387 - __main__ - INFO -    Order ID: e85f801f-b4dc-44a6-8175-f5ece2117597
2025-06-11 15:47:26,388 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:26,388 - __main__ - INFO -    Previous: created
2025-06-11 15:47:26,389 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,389 - __main__ - INFO -    Order ID: e85f801f-b4dc-44a6-8175-f5ece2117597
2025-06-11 15:47:26,389 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:26,390 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:26,390 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:26,390 - __main__ - INFO -    Order ID: c77db07c-a150-4a9d-baba-baadb67f97c6
2025-06-11 15:47:26,391 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:26,391 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:47:26,391 - __main__ - INFO -    Quantity: -600.0
2025-06-11 15:47:26,392 - __main__ - INFO -    Stop Price: $308.51
2025-06-11 15:47:26,392 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,392 - __main__ - INFO -    Order ID: c77db07c-a150-4a9d-baba-baadb67f97c6
2025-06-11 15:47:26,393 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:26,393 - __main__ - INFO -    Previous: created
2025-06-11 15:47:26,393 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,394 - __main__ - INFO -    Order ID: c77db07c-a150-4a9d-baba-baadb67f97c6
2025-06-11 15:47:26,394 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:26,394 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:26,394 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:26,394 - __main__ - INFO -    Order ID: 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:26,394 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:26,395 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:47:26,395 - __main__ - INFO -    Quantity: -600.0
2025-06-11 15:47:26,395 - __main__ - INFO -    Stop Price: $308.51
2025-06-11 15:47:26,395 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,395 - __main__ - INFO -    Order ID: 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:26,395 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:26,396 - __main__ - INFO -    Previous: created
2025-06-11 15:47:26,396 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,396 - __main__ - INFO -    Order ID: 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:26,396 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:26,397 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:26,397 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:26,397 - __main__ - INFO -    Order ID: db69d0ca-988d-4b46-a10f-e98c5f841e3d
2025-06-11 15:47:26,399 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:26,399 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:26,400 - __main__ - INFO -    Quantity: -600.0
2025-06-11 15:47:26,400 - __main__ - INFO -    Limit Price: $308.59
2025-06-11 15:47:26,400 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,401 - __main__ - INFO -    Order ID: db69d0ca-988d-4b46-a10f-e98c5f841e3d
2025-06-11 15:47:26,401 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:26,402 - __main__ - INFO -    Previous: created
2025-06-11 15:47:26,402 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:26,403 - __main__ - INFO -    Order ID: db69d0ca-988d-4b46-a10f-e98c5f841e3d
2025-06-11 15:47:26,404 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:26,404 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:26,405 - src.order.base - INFO - Order 61653ac0-97d1-4b70-a465-fcffadaba6cd status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:47:26,526 - src.tws_connection - INFO - Open Order - ID: 9, Symbol: GLD, Action: SELL, Quantity: 400.0
2025-06-11 15:47:26,527 - src.order.base - INFO - Order 5d74f817-b13f-47a5-a8d7-19ec179757f2 status changed: pending_cancel -> accepted (IB status: PreSubmitted)
2025-06-11 15:47:26,575 - src.order.base - INFO - Order 5d74f817-b13f-47a5-a8d7-19ec179757f2 status changed: accepted -> cancelled (IB status: Cancelled)
2025-06-11 15:47:26,575 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 9)
2025-06-11 15:47:26,721 - src.tws_connection - INFO - Open Order - ID: 10, Symbol: GLD, Action: SELL, Quantity: 400.0
2025-06-11 15:47:26,723 - src.order.base - INFO - Order 517dfcdc-2ed8-4898-aa42-c8197caeec74 status changed: pending_cancel -> accepted (IB status: PreSubmitted)
2025-06-11 15:47:26,792 - src.order.base - INFO - Order 517dfcdc-2ed8-4898-aa42-c8197caeec74 status changed: accepted -> cancelled (IB status: Cancelled)
2025-06-11 15:47:26,791 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 10)
2025-06-11 15:47:26,921 - src.tws_connection - INFO - Open Order - ID: 11, Symbol: GLD, Action: SELL, Quantity: 400.0
2025-06-11 15:47:26,924 - src.order.base - INFO - Order e379ccfb-d476-4785-b107-2027c6977c64 status changed: pending_cancel -> accepted (IB status: PreSubmitted)
2025-06-11 15:47:27,008 - src.order.base - INFO - Order d8cc43f5-c8e1-4472-a33c-8a8b83901d28 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:47:27,008 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 7)
2025-06-11 15:47:27,135 - src.tws_connection - INFO - Open Order - ID: 12, Symbol: GLD, Action: SELL, Quantity: 400.0
2025-06-11 15:47:27,137 - src.order.base - INFO - Order 7ab6a53b-728c-4793-93dc-5546da21838b status changed: pending_cancel -> submitted (IB status: Submitted)
2025-06-11 15:47:27,197 - src.order.base - INFO - Order 7ab6a53b-728c-4793-93dc-5546da21838b status changed: submitted -> cancelled (IB status: Cancelled)
2025-06-11 15:47:27,197 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 12)
2025-06-11 15:47:27,334 - src.tws_connection - INFO - Open Order - ID: 13, Symbol: GLD, Action: SELL, Quantity: 400.0
2025-06-11 15:47:27,335 - src.order.base - INFO - Order 418d6712-72d6-4b92-868a-18c148639d6f status changed: pending_cancel -> submitted (IB status: Submitted)
2025-06-11 15:47:27,344 - src.order.manager - WARNING - Unknown IB order status: ApiCancelled for order e85f801f-b4dc-44a6-8175-f5ece2117597
2025-06-11 15:47:27,375 - src.order.base - INFO - Order e379ccfb-d476-4785-b107-2027c6977c64 status changed: accepted -> cancelled (IB status: Cancelled)
2025-06-11 15:47:27,375 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 11)
2025-06-11 15:47:27,449 - src.tws_connection - INFO - Open Order - ID: 15, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:27,487 - src.order.base - INFO - Order c77db07c-a150-4a9d-baba-baadb67f97c6 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:47:27,487 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 15)
2025-06-11 15:47:27,529 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:27,531 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-11 15:47:27,595 - src.order.base - INFO - Order 418d6712-72d6-4b92-868a-18c148639d6f status changed: submitted -> cancelled (IB status: Cancelled)
2025-06-11 15:47:27,595 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 13)
2025-06-11 15:47:27,740 - src.tws_connection - INFO - Open Order - ID: 17, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:27,855 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:47:30,810 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:30,875 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: accepted -> partially_filled (Order partially filled)
2025-06-11 15:47:30,876 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca filled: 200.0 @ 308.49 (200.0/600.0)
2025-06-11 15:47:30,876 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:30,877 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:47:30,878 - __main__ - INFO -    Order ID: 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:30,879 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:30,879 - __main__ - INFO -    Filled Qty: 200.0
2025-06-11 15:47:30,880 - __main__ - INFO -    Fill Price: $308.49
2025-06-11 15:47:30,879 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:30,880 - __main__ - INFO -    Is Partial: False
2025-06-11 15:47:30,882 - UnifiedFillManager - INFO - Processing fill for GLD: 200.0 shares on order 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:30,882 - UnifiedFillManager - INFO - Fill is for stop order
2025-06-11 15:47:30,883 - UnifiedFillManager - INFO - Partial stop fill for GLD, remaining position: 800.0
2025-06-11 15:47:30,882 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:30,884 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=800.0, protective_qty=-800.0
2025-06-11 15:47:30,885 - src.order.base - INFO - Order db69d0ca-988d-4b46-a10f-e98c5f841e3d status changed: submitted -> pending_cancel (Updating quantity to -800.0)
2025-06-11 15:47:30,885 - src.order.manager - INFO - Cancelling order db69d0ca-988d-4b46-a10f-e98c5f841e3d with broker ID 17
2025-06-11 15:47:30,885 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:30,886 - src.order.base - INFO - Order 10340f18-d348-414f-bb05-f492e3da8326 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:30,887 - src.order.manager - INFO - Submitting order 10340f18-d348-414f-bb05-f492e3da8326 to TWS
2025-06-11 15:47:30,888 - src.order.manager - INFO - Got broker order ID 18 for order 10340f18-d348-414f-bb05-f492e3da8326
2025-06-11 15:47:30,887 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:30,888 - src.order.manager - INFO - Calling placeOrder with ID 18, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 800@308.590000 DAY
2025-06-11 15:47:30,890 - src.order.manager - INFO - placeOrder called successfully for order 10340f18-d348-414f-bb05-f492e3da8326
2025-06-11 15:47:30,889 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:30,891 - src.order.base - INFO - Order 10340f18-d348-414f-bb05-f492e3da8326 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:30,891 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:30,892 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:47:30,893 - UnifiedFillManager - INFO - Created updated target order 10340f18-d348-414f-bb05-f492e3da8326 for GLD at $308.59 for -800.0 shares
2025-06-11 15:47:30,893 - src.order.base - INFO - Order 10340f18-d348-414f-bb05-f492e3da8326 status changed: submitted -> pending_cancel (Updating quantity to -800.0)
2025-06-11 15:47:30,893 - src.order.manager - INFO - Cancelling order 10340f18-d348-414f-bb05-f492e3da8326 with broker ID 18
2025-06-11 15:47:30,894 - src.order.base - INFO - Order 9c6b2b08-d242-4980-a640-a36908efeb0f status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:30,894 - src.order.manager - INFO - Submitting order 9c6b2b08-d242-4980-a640-a36908efeb0f to TWS
2025-06-11 15:47:30,894 - src.order.manager - INFO - Got broker order ID 19 for order 9c6b2b08-d242-4980-a640-a36908efeb0f
2025-06-11 15:47:30,895 - src.order.manager - INFO - Calling placeOrder with ID 19, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 800@308.590000 DAY
2025-06-11 15:47:30,895 - src.order.manager - INFO - placeOrder called successfully for order 9c6b2b08-d242-4980-a640-a36908efeb0f
2025-06-11 15:47:30,896 - src.order.base - INFO - Order 9c6b2b08-d242-4980-a640-a36908efeb0f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:30,896 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:47:30,896 - UnifiedFillManager - INFO - Created updated target order 9c6b2b08-d242-4980-a640-a36908efeb0f for GLD at $308.59 for -800.0 shares
2025-06-11 15:47:30,896 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:30,897 - __main__ - INFO -    Order ID: 10340f18-d348-414f-bb05-f492e3da8326
2025-06-11 15:47:30,897 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:30,897 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:30,897 - __main__ - INFO -    Quantity: -800.0
2025-06-11 15:47:30,898 - __main__ - INFO -    Limit Price: $308.59
2025-06-11 15:47:30,898 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:30,899 - __main__ - INFO -    Order ID: 10340f18-d348-414f-bb05-f492e3da8326
2025-06-11 15:47:30,899 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:30,899 - __main__ - INFO -    Previous: created
2025-06-11 15:47:30,900 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:30,900 - __main__ - INFO -    Order ID: 10340f18-d348-414f-bb05-f492e3da8326
2025-06-11 15:47:30,900 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:30,901 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:30,901 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:30,901 - __main__ - INFO -    Order ID: 9c6b2b08-d242-4980-a640-a36908efeb0f
2025-06-11 15:47:30,903 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:30,903 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:30,903 - __main__ - INFO -    Quantity: -800.0
2025-06-11 15:47:30,903 - __main__ - INFO -    Limit Price: $308.59
2025-06-11 15:47:30,903 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:30,904 - __main__ - INFO -    Order ID: 9c6b2b08-d242-4980-a640-a36908efeb0f
2025-06-11 15:47:30,904 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:30,904 - __main__ - INFO -    Previous: created
2025-06-11 15:47:30,904 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:30,905 - __main__ - INFO -    Order ID: 9c6b2b08-d242-4980-a640-a36908efeb0f
2025-06-11 15:47:30,905 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:30,905 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:30,906 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-11 15:47:30,906 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: accepted -> partially_filled (Order partially filled)
2025-06-11 15:47:30,906 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca filled: 100.0 @ 308.49 (300.0/600.0)
2025-06-11 15:47:30,907 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-11 15:47:30,907 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: accepted -> partially_filled (Order partially filled)
2025-06-11 15:47:30,907 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca filled: 100.0 @ 308.49 (400.0/600.0)
2025-06-11 15:47:30,907 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-11 15:47:30,908 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: accepted -> submitted (IB status: Submitted)
2025-06-11 15:47:30,908 - src.order.manager - WARNING - Unknown IB order status: ApiCancelled for order 10340f18-d348-414f-bb05-f492e3da8326
2025-06-11 15:47:30,908 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:47:30,908 - __main__ - INFO -    Order ID: 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:30,908 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:30,908 - __main__ - INFO -    Filled Qty: 100.0
2025-06-11 15:47:30,908 - __main__ - INFO -    Fill Price: $308.49
2025-06-11 15:47:30,908 - __main__ - INFO -    Is Partial: False
2025-06-11 15:47:30,909 - UnifiedFillManager - INFO - Processing fill for GLD: 100.0 shares on order 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:30,909 - UnifiedFillManager - INFO - Fill is for stop order
2025-06-11 15:47:30,909 - UnifiedFillManager - INFO - Partial stop fill for GLD, remaining position: 1000.0
2025-06-11 15:47:30,909 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=1000.0, protective_qty=-1000.0
2025-06-11 15:47:30,909 - src.order.base - INFO - Order 9c6b2b08-d242-4980-a640-a36908efeb0f status changed: submitted -> pending_cancel (Updating quantity to -1000.0)
2025-06-11 15:47:30,909 - src.order.manager - INFO - Cancelling order 9c6b2b08-d242-4980-a640-a36908efeb0f with broker ID 19
2025-06-11 15:47:30,910 - src.order.base - INFO - Order 9651c3c3-2298-4037-9873-3c92723d81e9 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:30,910 - src.order.manager - INFO - Submitting order 9651c3c3-2298-4037-9873-3c92723d81e9 to TWS
2025-06-11 15:47:30,910 - src.order.manager - INFO - Got broker order ID 20 for order 9651c3c3-2298-4037-9873-3c92723d81e9
2025-06-11 15:47:30,910 - src.order.manager - INFO - Calling placeOrder with ID 20, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1000@308.590000 DAY
2025-06-11 15:47:30,911 - src.order.manager - INFO - placeOrder called successfully for order 9651c3c3-2298-4037-9873-3c92723d81e9
2025-06-11 15:47:30,911 - src.order.base - INFO - Order 9651c3c3-2298-4037-9873-3c92723d81e9 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:30,911 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:47:30,911 - UnifiedFillManager - INFO - Created updated target order 9651c3c3-2298-4037-9873-3c92723d81e9 for GLD at $308.59 for -1000.0 shares
2025-06-11 15:47:30,912 - src.order.base - INFO - Order 9651c3c3-2298-4037-9873-3c92723d81e9 status changed: submitted -> pending_cancel (Updating quantity to -1000.0)
2025-06-11 15:47:30,912 - src.order.manager - INFO - Cancelling order 9651c3c3-2298-4037-9873-3c92723d81e9 with broker ID 20
2025-06-11 15:47:30,912 - src.order.base - INFO - Order fa0166e4-2d8f-4aff-b583-3ded61da7fd6 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:30,912 - src.order.manager - INFO - Submitting order fa0166e4-2d8f-4aff-b583-3ded61da7fd6 to TWS
2025-06-11 15:47:30,913 - src.order.manager - INFO - Got broker order ID 21 for order fa0166e4-2d8f-4aff-b583-3ded61da7fd6
2025-06-11 15:47:30,914 - src.order.manager - INFO - Calling placeOrder with ID 21, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1000@308.590000 DAY
2025-06-11 15:47:30,914 - src.order.manager - INFO - placeOrder called successfully for order fa0166e4-2d8f-4aff-b583-3ded61da7fd6
2025-06-11 15:47:30,915 - src.order.base - INFO - Order fa0166e4-2d8f-4aff-b583-3ded61da7fd6 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:30,916 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:47:30,916 - UnifiedFillManager - INFO - Created updated target order fa0166e4-2d8f-4aff-b583-3ded61da7fd6 for GLD at $308.59 for -1000.0 shares
2025-06-11 15:47:30,917 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:47:30,917 - __main__ - INFO -    Order ID: 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:30,917 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:30,917 - __main__ - INFO -    Filled Qty: 100.0
2025-06-11 15:47:30,917 - __main__ - INFO -    Fill Price: $308.49
2025-06-11 15:47:30,917 - __main__ - INFO -    Is Partial: False
2025-06-11 15:47:30,919 - UnifiedFillManager - INFO - Processing fill for GLD: 100.0 shares on order 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:30,919 - UnifiedFillManager - INFO - Fill is for stop order
2025-06-11 15:47:30,919 - UnifiedFillManager - INFO - Partial stop fill for GLD, remaining position: 1000.0
2025-06-11 15:47:30,920 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=1000.0, protective_qty=-1000.0
2025-06-11 15:47:30,920 - src.order.base - INFO - Order fa0166e4-2d8f-4aff-b583-3ded61da7fd6 status changed: submitted -> pending_cancel (Updating quantity to -1000.0)
2025-06-11 15:47:30,921 - src.order.manager - INFO - Cancelling order fa0166e4-2d8f-4aff-b583-3ded61da7fd6 with broker ID 21
2025-06-11 15:47:30,921 - src.order.base - INFO - Order 2d16ce86-79f8-4534-802e-8bf14da17f24 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:30,921 - src.order.manager - INFO - Submitting order 2d16ce86-79f8-4534-802e-8bf14da17f24 to TWS
2025-06-11 15:47:30,922 - src.order.manager - INFO - Got broker order ID 22 for order 2d16ce86-79f8-4534-802e-8bf14da17f24
2025-06-11 15:47:30,922 - src.order.manager - INFO - Calling placeOrder with ID 22, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1000@308.590000 DAY
2025-06-11 15:47:30,923 - src.order.manager - INFO - placeOrder called successfully for order 2d16ce86-79f8-4534-802e-8bf14da17f24
2025-06-11 15:47:30,923 - src.order.base - INFO - Order 2d16ce86-79f8-4534-802e-8bf14da17f24 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:30,923 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:47:30,924 - UnifiedFillManager - INFO - Created updated target order 2d16ce86-79f8-4534-802e-8bf14da17f24 for GLD at $308.59 for -1000.0 shares
2025-06-11 15:47:30,924 - src.order.base - INFO - Order 2d16ce86-79f8-4534-802e-8bf14da17f24 status changed: submitted -> pending_cancel (Updating quantity to -1000.0)
2025-06-11 15:47:30,924 - src.order.manager - INFO - Cancelling order 2d16ce86-79f8-4534-802e-8bf14da17f24 with broker ID 22
2025-06-11 15:47:30,925 - src.order.base - INFO - Order 302765e9-8492-4eae-8782-bd6b32a33e86 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:30,925 - src.order.manager - INFO - Submitting order 302765e9-8492-4eae-8782-bd6b32a33e86 to TWS
2025-06-11 15:47:30,925 - src.order.manager - INFO - Got broker order ID 23 for order 302765e9-8492-4eae-8782-bd6b32a33e86
2025-06-11 15:47:30,925 - src.order.manager - INFO - Calling placeOrder with ID 23, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1000@308.590000 DAY
2025-06-11 15:47:30,926 - src.order.manager - INFO - placeOrder called successfully for order 302765e9-8492-4eae-8782-bd6b32a33e86
2025-06-11 15:47:30,926 - src.order.base - INFO - Order 302765e9-8492-4eae-8782-bd6b32a33e86 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:30,926 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:47:30,927 - UnifiedFillManager - INFO - Created updated target order 302765e9-8492-4eae-8782-bd6b32a33e86 for GLD at $308.59 for -1000.0 shares
2025-06-11 15:47:30,927 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:30,927 - __main__ - INFO -    Order ID: 9651c3c3-2298-4037-9873-3c92723d81e9
2025-06-11 15:47:30,927 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:30,928 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:30,928 - __main__ - INFO -    Quantity: -1000.0
2025-06-11 15:47:30,928 - __main__ - INFO -    Limit Price: $308.59
2025-06-11 15:47:30,929 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:30,929 - __main__ - INFO -    Order ID: 9651c3c3-2298-4037-9873-3c92723d81e9
2025-06-11 15:47:30,929 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:30,930 - __main__ - INFO -    Previous: created
2025-06-11 15:47:30,930 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:30,930 - __main__ - INFO -    Order ID: 9651c3c3-2298-4037-9873-3c92723d81e9
2025-06-11 15:47:30,930 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:30,931 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:30,931 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:30,931 - __main__ - INFO -    Order ID: fa0166e4-2d8f-4aff-b583-3ded61da7fd6
2025-06-11 15:47:30,931 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:30,932 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:30,932 - __main__ - INFO -    Quantity: -1000.0
2025-06-11 15:47:30,932 - __main__ - INFO -    Limit Price: $308.59
2025-06-11 15:47:30,932 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:30,932 - __main__ - INFO -    Order ID: fa0166e4-2d8f-4aff-b583-3ded61da7fd6
2025-06-11 15:47:30,933 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:30,933 - __main__ - INFO -    Previous: created
2025-06-11 15:47:30,933 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:30,933 - __main__ - INFO -    Order ID: fa0166e4-2d8f-4aff-b583-3ded61da7fd6
2025-06-11 15:47:30,934 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:30,934 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:30,935 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:30,935 - __main__ - INFO -    Order ID: 2d16ce86-79f8-4534-802e-8bf14da17f24
2025-06-11 15:47:30,935 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:30,936 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:30,936 - __main__ - INFO -    Quantity: -1000.0
2025-06-11 15:47:30,936 - __main__ - INFO -    Limit Price: $308.59
2025-06-11 15:47:30,936 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:30,936 - __main__ - INFO -    Order ID: 2d16ce86-79f8-4534-802e-8bf14da17f24
2025-06-11 15:47:30,936 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:30,936 - __main__ - INFO -    Previous: created
2025-06-11 15:47:30,936 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:30,936 - __main__ - INFO -    Order ID: 2d16ce86-79f8-4534-802e-8bf14da17f24
2025-06-11 15:47:30,937 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:30,937 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:30,937 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:30,937 - __main__ - INFO -    Order ID: 302765e9-8492-4eae-8782-bd6b32a33e86
2025-06-11 15:47:30,937 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:30,937 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:30,937 - __main__ - INFO -    Quantity: -1000.0
2025-06-11 15:47:30,937 - __main__ - INFO -    Limit Price: $308.59
2025-06-11 15:47:30,937 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:30,938 - __main__ - INFO -    Order ID: 302765e9-8492-4eae-8782-bd6b32a33e86
2025-06-11 15:47:30,938 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:30,938 - __main__ - INFO -    Previous: created
2025-06-11 15:47:30,938 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:30,939 - __main__ - INFO -    Order ID: 302765e9-8492-4eae-8782-bd6b32a33e86
2025-06-11 15:47:30,939 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:30,939 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:30,939 - src.order.manager - WARNING - Unknown IB order status: ApiCancelled for order 9c6b2b08-d242-4980-a640-a36908efeb0f
2025-06-11 15:47:30,949 - src.order.base - INFO - Order db69d0ca-988d-4b46-a10f-e98c5f841e3d status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:47:30,949 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 17)
2025-06-11 15:47:31,022 - src.tws_connection - INFO - Open Order - ID: 20, Symbol: GLD, Action: SELL, Quantity: 1000.0
2025-06-11 15:47:31,066 - src.order.base - INFO - Order 9651c3c3-2298-4037-9873-3c92723d81e9 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:47:31,065 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 20)
2025-06-11 15:47:31,201 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: submitted -> partially_filled (Order partially filled)
2025-06-11 15:47:31,200 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:31,203 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca filled: 103.0 @ 308.49 (503.0/600.0)
2025-06-11 15:47:31,205 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:47:31,205 - __main__ - INFO -    Order ID: 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:31,206 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:31,206 - __main__ - INFO -    Filled Qty: 103.0
2025-06-11 15:47:31,206 - __main__ - INFO -    Fill Price: $308.49
2025-06-11 15:47:31,206 - __main__ - INFO -    Is Partial: False
2025-06-11 15:47:31,207 - UnifiedFillManager - INFO - Processing fill for GLD: 103.0 shares on order 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:31,207 - UnifiedFillManager - INFO - Fill is for stop order
2025-06-11 15:47:31,208 - UnifiedFillManager - INFO - Partial stop fill for GLD, remaining position: 1103.0
2025-06-11 15:47:31,208 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=1103.0, protective_qty=-1103.0
2025-06-11 15:47:31,209 - src.order.base - INFO - Order 302765e9-8492-4eae-8782-bd6b32a33e86 status changed: submitted -> pending_cancel (Updating quantity to -1103.0)
2025-06-11 15:47:31,209 - src.order.manager - INFO - Cancelling order 302765e9-8492-4eae-8782-bd6b32a33e86 with broker ID 23
2025-06-11 15:47:31,210 - src.order.base - INFO - Order 247640c7-8aad-4ed2-a8d5-014bdcaa98f4 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:31,210 - src.order.manager - INFO - Submitting order 247640c7-8aad-4ed2-a8d5-014bdcaa98f4 to TWS
2025-06-11 15:47:31,211 - src.order.manager - INFO - Got broker order ID 24 for order 247640c7-8aad-4ed2-a8d5-014bdcaa98f4
2025-06-11 15:47:31,211 - src.order.manager - INFO - Calling placeOrder with ID 24, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1103@308.590000 DAY
2025-06-11 15:47:31,212 - src.order.manager - INFO - placeOrder called successfully for order 247640c7-8aad-4ed2-a8d5-014bdcaa98f4
2025-06-11 15:47:31,213 - src.order.base - INFO - Order 247640c7-8aad-4ed2-a8d5-014bdcaa98f4 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:31,213 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:47:31,214 - UnifiedFillManager - INFO - Created updated target order 247640c7-8aad-4ed2-a8d5-014bdcaa98f4 for GLD at $308.59 for -1103.0 shares
2025-06-11 15:47:31,214 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-11 15:47:31,214 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:31,215 - __main__ - INFO -    Order ID: 247640c7-8aad-4ed2-a8d5-014bdcaa98f4
2025-06-11 15:47:31,215 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:31,215 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:31,215 - __main__ - INFO -    Quantity: -1103.0
2025-06-11 15:47:31,215 - __main__ - INFO -    Limit Price: $308.59
2025-06-11 15:47:31,215 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:31,215 - __main__ - INFO -    Order ID: 247640c7-8aad-4ed2-a8d5-014bdcaa98f4
2025-06-11 15:47:31,215 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:31,216 - __main__ - INFO -    Previous: created
2025-06-11 15:47:31,216 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:31,216 - __main__ - INFO -    Order ID: 247640c7-8aad-4ed2-a8d5-014bdcaa98f4
2025-06-11 15:47:31,216 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:31,216 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:31,228 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: submitted -> partially_filled (Order partially filled)
2025-06-11 15:47:31,229 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca filled: 57.0 @ 308.48 (560.0/600.0)
2025-06-11 15:47:31,228 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:31,230 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:47:31,231 - __main__ - INFO -    Order ID: 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:31,231 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:31,232 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:31,233 - __main__ - INFO -    Filled Qty: 57.0
2025-06-11 15:47:31,233 - __main__ - INFO -    Fill Price: $308.48
2025-06-11 15:47:31,234 - __main__ - INFO -    Is Partial: False
2025-06-11 15:47:31,234 - UnifiedFillManager - INFO - Processing fill for GLD: 57.0 shares on order 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:31,233 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:31,235 - UnifiedFillManager - INFO - Fill is for stop order
2025-06-11 15:47:31,237 - UnifiedFillManager - INFO - Partial stop fill for GLD, remaining position: 1160.0
2025-06-11 15:47:31,239 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=1160.0, protective_qty=-1160.0
2025-06-11 15:47:31,236 - src.tws_connection - INFO - Open Order - ID: 21, Symbol: GLD, Action: SELL, Quantity: 1000.0
2025-06-11 15:47:31,240 - src.order.base - INFO - Order 247640c7-8aad-4ed2-a8d5-014bdcaa98f4 status changed: submitted -> pending_cancel (Updating quantity to -1160.0)
2025-06-11 15:47:31,240 - src.order.manager - INFO - Cancelling order 247640c7-8aad-4ed2-a8d5-014bdcaa98f4 with broker ID 24
2025-06-11 15:47:31,240 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:31,242 - src.order.base - INFO - Order a9c1239c-27d3-486c-adf2-5bb849c7292f status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:31,243 - src.order.manager - INFO - Submitting order a9c1239c-27d3-486c-adf2-5bb849c7292f to TWS
2025-06-11 15:47:31,244 - src.order.manager - INFO - Got broker order ID 25 for order a9c1239c-27d3-486c-adf2-5bb849c7292f
2025-06-11 15:47:31,244 - src.order.manager - INFO - Calling placeOrder with ID 25, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1160@308.590000 DAY
2025-06-11 15:47:31,244 - src.order.manager - INFO - placeOrder called successfully for order a9c1239c-27d3-486c-adf2-5bb849c7292f
2025-06-11 15:47:31,244 - src.order.base - INFO - Order a9c1239c-27d3-486c-adf2-5bb849c7292f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:31,245 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:47:31,245 - UnifiedFillManager - INFO - Created updated target order a9c1239c-27d3-486c-adf2-5bb849c7292f for GLD at $308.59 for -1160.0 shares
2025-06-11 15:47:31,245 - src.order.base - INFO - Order a9c1239c-27d3-486c-adf2-5bb849c7292f status changed: submitted -> pending_cancel (Updating quantity to -1160.0)
2025-06-11 15:47:31,246 - src.order.manager - INFO - Cancelling order a9c1239c-27d3-486c-adf2-5bb849c7292f with broker ID 25
2025-06-11 15:47:31,246 - src.order.base - INFO - Order 5302be0f-c807-4598-a8a5-158ddc985493 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:47:31,247 - src.order.manager - INFO - Submitting order 5302be0f-c807-4598-a8a5-158ddc985493 to TWS
2025-06-11 15:47:31,247 - src.order.manager - INFO - Got broker order ID 26 for order 5302be0f-c807-4598-a8a5-158ddc985493
2025-06-11 15:47:31,248 - src.order.manager - INFO - Calling placeOrder with ID 26, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 1160@308.590000 DAY
2025-06-11 15:47:31,248 - src.order.manager - INFO - placeOrder called successfully for order 5302be0f-c807-4598-a8a5-158ddc985493
2025-06-11 15:47:31,248 - src.order.base - INFO - Order 5302be0f-c807-4598-a8a5-158ddc985493 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:47:31,249 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:47:31,249 - UnifiedFillManager - INFO - Created updated target order 5302be0f-c807-4598-a8a5-158ddc985493 for GLD at $308.59 for -1160.0 shares
2025-06-11 15:47:31,249 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:31,250 - __main__ - INFO -    Order ID: a9c1239c-27d3-486c-adf2-5bb849c7292f
2025-06-11 15:47:31,250 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:31,250 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:31,250 - __main__ - INFO -    Quantity: -1160.0
2025-06-11 15:47:31,251 - __main__ - INFO -    Limit Price: $308.59
2025-06-11 15:47:31,252 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:31,252 - __main__ - INFO -    Order ID: a9c1239c-27d3-486c-adf2-5bb849c7292f
2025-06-11 15:47:31,252 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:31,253 - __main__ - INFO -    Previous: created
2025-06-11 15:47:31,254 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:31,255 - __main__ - INFO -    Order ID: a9c1239c-27d3-486c-adf2-5bb849c7292f
2025-06-11 15:47:31,255 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:31,256 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:31,256 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:47:31,256 - __main__ - INFO -    Order ID: 5302be0f-c807-4598-a8a5-158ddc985493
2025-06-11 15:47:31,256 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:31,257 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:47:31,258 - __main__ - INFO -    Quantity: -1160.0
2025-06-11 15:47:31,258 - __main__ - INFO -    Limit Price: $308.59
2025-06-11 15:47:31,259 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:31,259 - __main__ - INFO -    Order ID: 5302be0f-c807-4598-a8a5-158ddc985493
2025-06-11 15:47:31,259 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:47:31,260 - __main__ - INFO -    Previous: created
2025-06-11 15:47:31,260 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:47:31,261 - __main__ - INFO -    Order ID: 5302be0f-c807-4598-a8a5-158ddc985493
2025-06-11 15:47:31,261 - __main__ - INFO -    Status: submitted
2025-06-11 15:47:31,261 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:47:31,261 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-11 15:47:31,262 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-11 15:47:31,265 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca status changed: accepted -> filled (Order fully filled)
2025-06-11 15:47:31,265 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:31,266 - src.order.base - INFO - Order 21282688-3658-4d2b-8d4c-862ae238d4ca filled: 40.0 @ 308.48 (600.0/600.0)
2025-06-11 15:47:31,267 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:47:31,267 - __main__ - INFO -    Order ID: 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:31,267 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:47:31,268 - __main__ - INFO -    Filled Qty: 40.0
2025-06-11 15:47:31,269 - __main__ - INFO -    Fill Price: $308.48
2025-06-11 15:47:31,270 - __main__ - INFO -    Is Partial: False
2025-06-11 15:47:31,270 - UnifiedFillManager - INFO - Processing fill for GLD: 40.0 shares on order 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:31,270 - UnifiedFillManager - INFO - Fill is for stop order
2025-06-11 15:47:31,271 - UnifiedFillManager - INFO - Closing position for GLD: Stop order fully filled
2025-06-11 15:47:31,272 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 status changed: submitted -> pending_cancel (Position closed: Stop order fully filled)
2025-06-11 15:47:31,272 - src.order.manager - INFO - Cancelling order 0c70de32-13a4-4758-bc39-5f6fc02430b7 with broker ID 5
2025-06-11 15:47:31,273 - src.order.base - INFO - Order 5302be0f-c807-4598-a8a5-158ddc985493 status changed: submitted -> pending_cancel (Position closed: Stop order fully filled)
2025-06-11 15:47:31,273 - src.order.manager - INFO - Cancelling order 5302be0f-c807-4598-a8a5-158ddc985493 with broker ID 26
2025-06-11 15:47:31,274 - src.position.position_manager - INFO - Closed position for GLD
2025-06-11 15:47:31,274 - src.trade_tracker - INFO - Closed trade for GLD
2025-06-11 15:47:31,274 - UnifiedFillManager - INFO - Position closed for GLD: all orders cancelled, trackers updated
2025-06-11 15:47:31,301 - src.tws_connection - INFO - Open Order - ID: 16, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:47:31,304 - src.order.base - INFO - Order fa0166e4-2d8f-4aff-b583-3ded61da7fd6 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:47:31,304 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 21)
2025-06-11 15:47:31,406 - src.tws_connection - INFO - Open Order - ID: 22, Symbol: GLD, Action: SELL, Quantity: 1000.0
2025-06-11 15:47:31,407 - src.order.base - INFO - Order 2d16ce86-79f8-4534-802e-8bf14da17f24 status changed: pending_cancel -> submitted (IB status: Submitted)
2025-06-11 15:47:31,472 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 22)
2025-06-11 15:47:31,473 - src.order.base - INFO - Order 2d16ce86-79f8-4534-802e-8bf14da17f24 status changed: submitted -> cancelled (IB status: Cancelled)
2025-06-11 15:47:31,611 - src.tws_connection - INFO - Open Order - ID: 23, Symbol: GLD, Action: SELL, Quantity: 1000.0
2025-06-11 15:47:31,612 - src.order.base - INFO - Order 302765e9-8492-4eae-8782-bd6b32a33e86 status changed: pending_cancel -> submitted (IB status: Submitted)
2025-06-11 15:47:31,661 - src.order.base - INFO - Order 302765e9-8492-4eae-8782-bd6b32a33e86 status changed: submitted -> cancelled (IB status: Cancelled)
2025-06-11 15:47:31,661 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 23)
2025-06-11 15:47:31,896 - src.tws_connection - INFO - Open Order - ID: 24, Symbol: GLD, Action: SELL, Quantity: 1103.0
2025-06-11 15:47:31,913 - src.order.manager - WARNING - Unknown IB order status: ApiCancelled for order a9c1239c-27d3-486c-adf2-5bb849c7292f
2025-06-11 15:47:31,921 - src.order.base - INFO - Order 247640c7-8aad-4ed2-a8d5-014bdcaa98f4 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:47:31,921 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 24)
2025-06-11 15:47:32,007 - src.tws_connection - INFO - Open Order - ID: 26, Symbol: GLD, Action: SELL, Quantity: 1160.0
2025-06-11 15:47:32,008 - src.order.base - INFO - Order 5302be0f-c807-4598-a8a5-158ddc985493 status changed: pending_cancel -> submitted (IB status: Submitted)
2025-06-11 15:47:32,067 - src.order.base - INFO - Order 0c70de32-13a4-4758-bc39-5f6fc02430b7 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:47:32,067 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 5)
2025-06-11 15:47:32,108 - src.order.base - INFO - Order 5302be0f-c807-4598-a8a5-158ddc985493 status changed: submitted -> cancelled (IB status: Cancelled)
2025-06-11 15:47:32,108 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 26)
2025-06-11 15:47:37,871 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:47:47,881 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:47:54,324 - __main__ - INFO - 
================================================================================
2025-06-11 15:47:54,325 - __main__ - INFO - CLEANING UP TEST
2025-06-11 15:47:54,325 - __main__ - INFO - ================================================================================
2025-06-11 15:47:54,326 - __main__ - INFO - Cancelling 22 test orders...
2025-06-11 15:47:54,326 - src.order.manager - WARNING - Cannot cancel inactive order 0c70de32-13a4-4758-bc39-5f6fc02430b7 with status cancelled
2025-06-11 15:47:54,327 - __main__ - INFO -    Cancelled order 0c70de32-13a4-4758-bc39-5f6fc02430b7
2025-06-11 15:47:54,327 - src.order.manager - WARNING - Cannot cancel inactive order 61653ac0-97d1-4b70-a465-fcffadaba6cd with status cancelled
2025-06-11 15:47:54,327 - __main__ - INFO -    Cancelled order 61653ac0-97d1-4b70-a465-fcffadaba6cd
2025-06-11 15:47:54,328 - src.order.manager - WARNING - Cannot cancel inactive order d8cc43f5-c8e1-4472-a33c-8a8b83901d28 with status cancelled
2025-06-11 15:47:54,328 - __main__ - INFO -    Cancelled order d8cc43f5-c8e1-4472-a33c-8a8b83901d28
2025-06-11 15:47:54,329 - src.order.manager - WARNING - Cannot cancel inactive order 5d8f8537-e4b5-44bf-95fb-51be170155fb with status filled
2025-06-11 15:47:54,329 - __main__ - INFO -    Cancelled order 5d8f8537-e4b5-44bf-95fb-51be170155fb
2025-06-11 15:47:54,330 - src.order.manager - WARNING - Cannot cancel inactive order 5d74f817-b13f-47a5-a8d7-19ec179757f2 with status cancelled
2025-06-11 15:47:54,331 - __main__ - INFO -    Cancelled order 5d74f817-b13f-47a5-a8d7-19ec179757f2
2025-06-11 15:47:54,331 - src.order.manager - WARNING - Cannot cancel inactive order 517dfcdc-2ed8-4898-aa42-c8197caeec74 with status cancelled
2025-06-11 15:47:54,331 - __main__ - INFO -    Cancelled order 517dfcdc-2ed8-4898-aa42-c8197caeec74
2025-06-11 15:47:54,331 - src.order.manager - WARNING - Cannot cancel inactive order e379ccfb-d476-4785-b107-2027c6977c64 with status cancelled
2025-06-11 15:47:54,332 - __main__ - INFO -    Cancelled order e379ccfb-d476-4785-b107-2027c6977c64
2025-06-11 15:47:54,332 - src.order.manager - WARNING - Cannot cancel inactive order 7ab6a53b-728c-4793-93dc-5546da21838b with status cancelled
2025-06-11 15:47:54,332 - __main__ - INFO -    Cancelled order 7ab6a53b-728c-4793-93dc-5546da21838b
2025-06-11 15:47:54,333 - src.order.manager - WARNING - Cannot cancel inactive order 418d6712-72d6-4b92-868a-18c148639d6f with status cancelled
2025-06-11 15:47:54,333 - __main__ - INFO -    Cancelled order 418d6712-72d6-4b92-868a-18c148639d6f
2025-06-11 15:47:54,334 - src.order.manager - WARNING - Cannot cancel inactive order e85f801f-b4dc-44a6-8175-f5ece2117597 with status pending_cancel
2025-06-11 15:47:54,334 - __main__ - INFO -    Cancelled order e85f801f-b4dc-44a6-8175-f5ece2117597
2025-06-11 15:47:54,334 - src.order.manager - WARNING - Cannot cancel inactive order c77db07c-a150-4a9d-baba-baadb67f97c6 with status cancelled
2025-06-11 15:47:54,335 - __main__ - INFO -    Cancelled order c77db07c-a150-4a9d-baba-baadb67f97c6
2025-06-11 15:47:54,336 - src.order.manager - WARNING - Cannot cancel inactive order 21282688-3658-4d2b-8d4c-862ae238d4ca with status filled
2025-06-11 15:47:54,336 - __main__ - INFO -    Cancelled order 21282688-3658-4d2b-8d4c-862ae238d4ca
2025-06-11 15:47:54,336 - src.order.manager - WARNING - Cannot cancel inactive order db69d0ca-988d-4b46-a10f-e98c5f841e3d with status cancelled
2025-06-11 15:47:54,337 - __main__ - INFO -    Cancelled order db69d0ca-988d-4b46-a10f-e98c5f841e3d
2025-06-11 15:47:54,337 - src.order.manager - WARNING - Cannot cancel inactive order 10340f18-d348-414f-bb05-f492e3da8326 with status pending_cancel
2025-06-11 15:47:54,337 - __main__ - INFO -    Cancelled order 10340f18-d348-414f-bb05-f492e3da8326
2025-06-11 15:47:54,338 - src.order.manager - WARNING - Cannot cancel inactive order 9c6b2b08-d242-4980-a640-a36908efeb0f with status pending_cancel
2025-06-11 15:47:54,338 - __main__ - INFO -    Cancelled order 9c6b2b08-d242-4980-a640-a36908efeb0f
2025-06-11 15:47:54,338 - src.order.manager - WARNING - Cannot cancel inactive order 9651c3c3-2298-4037-9873-3c92723d81e9 with status cancelled
2025-06-11 15:47:54,339 - __main__ - INFO -    Cancelled order 9651c3c3-2298-4037-9873-3c92723d81e9
2025-06-11 15:47:54,339 - src.order.manager - WARNING - Cannot cancel inactive order fa0166e4-2d8f-4aff-b583-3ded61da7fd6 with status cancelled
2025-06-11 15:47:54,339 - __main__ - INFO -    Cancelled order fa0166e4-2d8f-4aff-b583-3ded61da7fd6
2025-06-11 15:47:54,340 - src.order.manager - WARNING - Cannot cancel inactive order 2d16ce86-79f8-4534-802e-8bf14da17f24 with status cancelled
2025-06-11 15:47:54,340 - __main__ - INFO -    Cancelled order 2d16ce86-79f8-4534-802e-8bf14da17f24
2025-06-11 15:47:54,341 - src.order.manager - WARNING - Cannot cancel inactive order 302765e9-8492-4eae-8782-bd6b32a33e86 with status cancelled
2025-06-11 15:47:54,341 - __main__ - INFO -    Cancelled order 302765e9-8492-4eae-8782-bd6b32a33e86
2025-06-11 15:47:54,342 - src.order.manager - WARNING - Cannot cancel inactive order 247640c7-8aad-4ed2-a8d5-014bdcaa98f4 with status cancelled
2025-06-11 15:47:54,342 - __main__ - INFO -    Cancelled order 247640c7-8aad-4ed2-a8d5-014bdcaa98f4
2025-06-11 15:47:54,342 - src.order.manager - WARNING - Cannot cancel inactive order a9c1239c-27d3-486c-adf2-5bb849c7292f with status pending_cancel
2025-06-11 15:47:54,343 - __main__ - INFO -    Cancelled order a9c1239c-27d3-486c-adf2-5bb849c7292f
2025-06-11 15:47:54,343 - src.order.manager - WARNING - Cannot cancel inactive order 5302be0f-c807-4598-a8a5-158ddc985493 with status cancelled
2025-06-11 15:47:54,343 - __main__ - INFO -    Cancelled order 5302be0f-c807-4598-a8a5-158ddc985493
2025-06-11 15:47:54,344 - src.rule.engine - INFO - Rule engine stopped
2025-06-11 15:47:54,345 - __main__ - INFO - Rule engine stopped
2025-06-11 15:52:53,466 - __main__ - INFO - ================================================================================
2025-06-11 15:52:53,467 - __main__ - INFO - INITIALIZING UNIFIED FILL MANAGER TEST
2025-06-11 15:52:53,468 - __main__ - INFO - ================================================================================
2025-06-11 15:52:53,468 - __main__ - INFO - Event bus created
2025-06-11 15:52:53,469 - __main__ - INFO - Subscribed to order events
2025-06-11 15:52:53,470 - __main__ - INFO - TWS Config: host=127.0.0.1, port=7497, client_id=999
2025-06-11 15:52:53,473 - __main__ - INFO - Connecting to TWS...
2025-06-11 15:52:53,474 - src.tws_connection - INFO - Connecting to TWS at 127.0.0.1:7497
2025-06-11 15:52:53,476 - src.tws_connection - INFO - Connection thread: Connecting to 127.0.0.1:7497 (client ID: 999)
2025-06-11 15:52:54,855 - src.tws_connection - INFO - âœ… Connection acknowledged by TWS
2025-06-11 15:52:54,856 - src.tws_connection - INFO - Connection thread: Socket connected, starting message loop
2025-06-11 15:52:54,879 - src.tws_connection - INFO - âœ… Next valid order ID received: 27
2025-06-11 15:52:54,880 - src.tws_connection - INFO - âœ… TWS connection fully established
2025-06-11 15:52:54,881 - src.tws_connection - INFO - Requesting additional order IDs from TWS
2025-06-11 15:52:54,882 - src.tws_connection - INFO - âœ… Next valid order ID received: 27
2025-06-11 15:52:54,882 - src.tws_connection - INFO - âœ… Successfully connected to TWS
2025-06-11 15:52:54,883 - src.tws_connection - INFO - âœ… Next valid order ID received: 27
2025-06-11 15:52:54,883 - __main__ - INFO - Connected to TWS successfully
2025-06-11 15:52:54,884 - src.order.manager - INFO - OrderManager callbacks set up with TWSConnection
2025-06-11 15:52:54,884 - src.position.tracker - INFO - PositionTracker async initialization completed
2025-06-11 15:52:54,885 - __main__ - INFO - Order manager and position tracker initialized
2025-06-11 15:52:54,885 - __main__ - INFO - Rule engine context configured
2025-06-11 15:52:54,885 - UnifiedFillManager - INFO - UnifiedFillManager initialized
2025-06-11 15:52:54,886 - __main__ - INFO - UnifiedFillManager initialized
2025-06-11 15:52:54,886 - __main__ - INFO - 
================================================================================
2025-06-11 15:52:54,886 - __main__ - INFO - SETTING UP GLD BUY RULE
2025-06-11 15:52:54,886 - __main__ - INFO - ================================================================================
2025-06-11 15:52:54,887 - __main__ - INFO - Created BUY condition (threshold: 50%)
2025-06-11 15:52:54,887 - __main__ - INFO - Created BUY action (300 shares, 1.5x ATR stop, 1.5x ATR target)
2025-06-11 15:52:54,887 - __main__ - INFO - Registered rule: gld_buy_test_rule
2025-06-11 15:52:54,888 - __main__ - INFO - 
================================================================================
2025-06-11 15:52:54,888 - __main__ - INFO - SIMULATING GLD BUY SIGNAL
2025-06-11 15:52:54,888 - __main__ - INFO - ================================================================================
2025-06-11 15:52:59,891 - __main__ - INFO - Current GLD price: $308.38
2025-06-11 15:52:59,892 - __main__ - INFO - Created prediction event:
2025-06-11 15:52:59,892 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:52:59,892 - __main__ - INFO -    Signal: BUY
2025-06-11 15:52:59,893 - __main__ - INFO -    Confidence: 75.0%
2025-06-11 15:52:59,893 - __main__ - INFO -    Price: $308.38
2025-06-11 15:52:59,893 - src.rule.engine - INFO - Rule engine started
2025-06-11 15:52:59,894 - __main__ - INFO - Rule engine started
2025-06-11 15:52:59,894 - __main__ - INFO - 
EMITTING PREDICTION EVENT...
2025-06-11 15:52:59,894 - __main__ - INFO - Prediction event emitted
2025-06-11 15:52:59,894 - __main__ - INFO - Waiting for initial order creation...
2025-06-11 15:52:59,895 - src.trade_tracker - INFO - TradeTracker initialized
2025-06-11 15:52:59,895 - src.position.position_manager - INFO - PositionManager initialized
2025-06-11 15:52:59,896 - src.trade_tracker - INFO - Started tracking BUY trade for GLD
2025-06-11 15:52:59,896 - src.position.position_manager - INFO - Opened BUY position for GLD
2025-06-11 15:52:59,896 - src.rule.linked_order_actions - INFO - Using fixed position size: 300 shares for GLD
2025-06-11 15:52:59,897 - src.order.base - INFO - Order 2442c97b-cf3c-446c-864c-3dcd07eb688e status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:52:59,897 - src.order.manager - INFO - Submitting order 2442c97b-cf3c-446c-864c-3dcd07eb688e to TWS
2025-06-11 15:52:59,897 - src.order.manager - INFO - Got broker order ID 27 for order 2442c97b-cf3c-446c-864c-3dcd07eb688e
2025-06-11 15:52:59,898 - src.order.manager - INFO - Calling placeOrder with ID 27, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 300@0.000000 DAY
2025-06-11 15:52:59,898 - src.order.manager - INFO - placeOrder called successfully for order 2442c97b-cf3c-446c-864c-3dcd07eb688e
2025-06-11 15:52:59,900 - src.order.base - INFO - Order 2442c97b-cf3c-446c-864c-3dcd07eb688e status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:52:59,900 - src.position.position_manager - INFO - Added 1 main orders to GLD position
2025-06-11 15:52:59,954 - src.rule.linked_order_actions - INFO - ATR for GLD: 0.0464
2025-06-11 15:52:59,955 - src.rule.linked_order_actions - INFO - ATR-based stop: GLD stop at $308.31 (ATR: 0.0464 * 1.5 = 0.0696)
2025-06-11 15:52:59,956 - src.order.base - INFO - Order 2627bac9-609a-4659-9a10-6492ef0e6016 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:52:59,956 - src.order.manager - INFO - Submitting order 2627bac9-609a-4659-9a10-6492ef0e6016 to TWS
2025-06-11 15:52:59,957 - src.order.manager - INFO - Got broker order ID 28 for order 2627bac9-609a-4659-9a10-6492ef0e6016
2025-06-11 15:52:59,957 - src.order.manager - INFO - Calling placeOrder with ID 28, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 300@0.000000 DAY
2025-06-11 15:52:59,958 - src.order.manager - INFO - placeOrder called successfully for order 2627bac9-609a-4659-9a10-6492ef0e6016
2025-06-11 15:52:59,958 - src.order.base - INFO - Order 2627bac9-609a-4659-9a10-6492ef0e6016 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:52:59,959 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:52:59,959 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss 2627bac9-609a-4659-9a10-6492ef0e6016 at $308.31
2025-06-11 15:52:59,960 - src.rule.linked_order_actions - INFO - ATR-based target: GLD target at $308.45 (ATR: 0.0464 * 1.5 = 0.0696)
2025-06-11 15:52:59,961 - src.order.base - INFO - Order 2204546a-c948-4337-b000-67cea33f7911 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:52:59,961 - src.order.manager - INFO - Submitting order 2204546a-c948-4337-b000-67cea33f7911 to TWS
2025-06-11 15:52:59,961 - src.order.manager - INFO - Got broker order ID 29 for order 2204546a-c948-4337-b000-67cea33f7911
2025-06-11 15:52:59,962 - src.order.manager - INFO - Calling placeOrder with ID 29, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 300@308.450000 DAY
2025-06-11 15:52:59,963 - src.order.manager - INFO - placeOrder called successfully for order 2204546a-c948-4337-b000-67cea33f7911
2025-06-11 15:52:59,964 - src.order.base - INFO - Order 2204546a-c948-4337-b000-67cea33f7911 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:52:59,964 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:52:59,965 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit 2204546a-c948-4337-b000-67cea33f7911 at $308.45
2025-06-11 15:52:59,965 - src.rule.linked_order_actions - INFO - Starting double down order creation for GLD
2025-06-11 15:52:59,966 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:52:59,966 - __main__ - INFO -    Order ID: 2442c97b-cf3c-446c-864c-3dcd07eb688e
2025-06-11 15:52:59,966 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:52:59,967 - __main__ - INFO -    Type: OrderType.MARKET
2025-06-11 15:52:59,968 - __main__ - INFO -    Quantity: 300
2025-06-11 15:52:59,969 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:52:59,970 - __main__ - INFO -    Order ID: 2442c97b-cf3c-446c-864c-3dcd07eb688e
2025-06-11 15:52:59,970 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:52:59,971 - __main__ - INFO -    Previous: created
2025-06-11 15:52:59,971 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:52:59,971 - __main__ - INFO -    Order ID: 2442c97b-cf3c-446c-864c-3dcd07eb688e
2025-06-11 15:52:59,971 - __main__ - INFO -    Status: submitted
2025-06-11 15:52:59,971 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:52:59,972 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:52:59,972 - __main__ - INFO -    Order ID: 2627bac9-609a-4659-9a10-6492ef0e6016
2025-06-11 15:52:59,972 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:52:59,973 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:52:59,973 - __main__ - INFO -    Quantity: -300
2025-06-11 15:52:59,974 - __main__ - INFO -    Stop Price: $308.31
2025-06-11 15:52:59,974 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:52:59,974 - __main__ - INFO -    Order ID: 2627bac9-609a-4659-9a10-6492ef0e6016
2025-06-11 15:52:59,975 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:52:59,975 - __main__ - INFO -    Previous: created
2025-06-11 15:52:59,975 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:52:59,976 - __main__ - INFO -    Order ID: 2627bac9-609a-4659-9a10-6492ef0e6016
2025-06-11 15:52:59,976 - __main__ - INFO -    Status: submitted
2025-06-11 15:52:59,976 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:52:59,977 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:52:59,977 - __main__ - INFO -    Order ID: 2204546a-c948-4337-b000-67cea33f7911
2025-06-11 15:52:59,977 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:52:59,977 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:52:59,978 - __main__ - INFO -    Quantity: -300
2025-06-11 15:52:59,978 - __main__ - INFO -    Limit Price: $308.45
2025-06-11 15:52:59,979 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:52:59,979 - __main__ - INFO -    Order ID: 2204546a-c948-4337-b000-67cea33f7911
2025-06-11 15:52:59,979 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:52:59,979 - __main__ - INFO -    Previous: created
2025-06-11 15:52:59,980 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:52:59,980 - __main__ - INFO -    Order ID: 2204546a-c948-4337-b000-67cea33f7911
2025-06-11 15:52:59,980 - __main__ - INFO -    Status: submitted
2025-06-11 15:52:59,981 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:53:00,005 - src.tws_connection - INFO - Open Order - ID: 27, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:53:00,006 - src.order.base - INFO - Order 2442c97b-cf3c-446c-864c-3dcd07eb688e status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-11 15:53:00,010 - src.order.base - INFO - Order 2442c97b-cf3c-446c-864c-3dcd07eb688e status changed: accepted -> partially_filled (Order partially filled)
2025-06-11 15:53:00,010 - src.tws_connection - INFO - Open Order - ID: 27, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:53:00,011 - src.order.base - INFO - Order 2442c97b-cf3c-446c-864c-3dcd07eb688e filled: 100.0 @ 308.4 (100.0/300)
2025-06-11 15:53:00,012 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:53:00,013 - __main__ - INFO -    Order ID: 2442c97b-cf3c-446c-864c-3dcd07eb688e
2025-06-11 15:53:00,013 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:53:00,014 - __main__ - INFO -    Filled Qty: 100.0
2025-06-11 15:53:00,014 - __main__ - INFO -    Fill Price: $308.40
2025-06-11 15:53:00,014 - __main__ - INFO -    Is Partial: False
2025-06-11 15:53:00,015 - UnifiedFillManager - INFO - Processing fill for GLD: 100.0 shares on order 2442c97b-cf3c-446c-864c-3dcd07eb688e
2025-06-11 15:53:00,016 - UnifiedFillManager - INFO - Fill is for main order
2025-06-11 15:53:00,016 - UnifiedFillManager - INFO - Main order filled for GLD
2025-06-11 15:53:00,017 - src.order.base - INFO - Order 2442c97b-cf3c-446c-864c-3dcd07eb688e status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-11 15:53:00,045 - src.tws_connection - INFO - Open Order - ID: 27, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:53:00,047 - src.order.base - INFO - Order 2442c97b-cf3c-446c-864c-3dcd07eb688e status changed: accepted -> submitted (IB status: Submitted)
2025-06-11 15:53:00,061 - src.tws_connection - INFO - Open Order - ID: 27, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:53:00,070 - src.order.base - INFO - Order 2442c97b-cf3c-446c-864c-3dcd07eb688e status changed: submitted -> partially_filled (Order partially filled)
2025-06-11 15:53:00,070 - src.tws_connection - INFO - Open Order - ID: 27, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:53:00,071 - src.order.base - INFO - Order 2442c97b-cf3c-446c-864c-3dcd07eb688e filled: 100.0 @ 308.39 (200.0/300)
2025-06-11 15:53:00,072 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:53:00,072 - __main__ - INFO -    Order ID: 2442c97b-cf3c-446c-864c-3dcd07eb688e
2025-06-11 15:53:00,073 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:53:00,073 - __main__ - INFO -    Filled Qty: 100.0
2025-06-11 15:53:00,073 - __main__ - INFO -    Fill Price: $308.39
2025-06-11 15:53:00,074 - __main__ - INFO -    Is Partial: False
2025-06-11 15:53:00,074 - UnifiedFillManager - INFO - Processing fill for GLD: 100.0 shares on order 2442c97b-cf3c-446c-864c-3dcd07eb688e
2025-06-11 15:53:00,074 - UnifiedFillManager - INFO - Fill is for main order
2025-06-11 15:53:00,075 - UnifiedFillManager - INFO - Main order filled for GLD
2025-06-11 15:53:00,075 - src.order.base - INFO - Order 2442c97b-cf3c-446c-864c-3dcd07eb688e status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-11 15:53:00,079 - src.tws_connection - INFO - Open Order - ID: 27, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:53:00,150 - src.tws_connection - INFO - Open Order - ID: 28, Symbol: GLD, Action: SELL, Quantity: 300.0
2025-06-11 15:53:00,152 - src.order.base - INFO - Order 2627bac9-609a-4659-9a10-6492ef0e6016 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-11 15:53:00,333 - src.tws_connection - INFO - Open Order - ID: 29, Symbol: GLD, Action: SELL, Quantity: 300.0
2025-06-11 15:53:00,474 - src.rule.linked_order_actions - INFO - Found 1 stop orders for GLD: ['2627bac9-609a-4659-9a10-6492ef0e6016']
2025-06-11 15:53:00,474 - src.rule.linked_order_actions - INFO - Executing double down action for GLD
2025-06-11 15:53:00,474 - src.rule.linked_order_actions - INFO - Using context price for GLD: $308.38
2025-06-11 15:53:00,523 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for GLD: 0.0696
2025-06-11 15:53:00,524 - src.rule.linked_order_actions - INFO - Double down calc for GLD (BUY): current=$308.38, stop_distance=$0.07, dd_distance=$0.03, dd_price=$308.35, original_qty=300, dd_qty=300
2025-06-11 15:53:00,524 - src.order.base - INFO - Order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:53:00,525 - src.order.manager - INFO - Submitting order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8 to TWS
2025-06-11 15:53:00,525 - src.order.manager - INFO - Got broker order ID 30 for order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8
2025-06-11 15:53:00,525 - src.order.manager - INFO - Calling placeOrder with ID 30, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 300@308.350000 DAY
2025-06-11 15:53:00,525 - src.order.manager - INFO - placeOrder called successfully for order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8
2025-06-11 15:53:00,526 - src.order.base - INFO - Order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:53:00,526 - src.position.position_manager - INFO - Added 1 doubledown orders to GLD position
2025-06-11 15:53:00,527 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for GLD: 300 shares @ $308.35
2025-06-11 15:53:00,527 - src.rule.linked_order_actions - INFO - Auto-created double down order for GLD
2025-06-11 15:53:00,527 - src.rule.linked_order_actions - INFO - Created and linked BUY main order 2442c97b-cf3c-446c-864c-3dcd07eb688e for GLD
2025-06-11 15:53:00,527 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:53:00,528 - __main__ - INFO -    Order ID: 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8
2025-06-11 15:53:00,528 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:53:00,528 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:53:00,529 - __main__ - INFO -    Quantity: 300
2025-06-11 15:53:00,529 - __main__ - INFO -    Limit Price: $308.35
2025-06-11 15:53:00,529 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:53:00,530 - __main__ - INFO -    Order ID: 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8
2025-06-11 15:53:00,530 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:53:00,530 - __main__ - INFO -    Previous: created
2025-06-11 15:53:00,531 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:53:00,531 - __main__ - INFO -    Order ID: 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8
2025-06-11 15:53:00,531 - __main__ - INFO -    Status: submitted
2025-06-11 15:53:00,532 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:53:00,629 - src.tws_connection - INFO - Open Order - ID: 30, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:53:02,907 - __main__ - INFO - 
Waiting for order processing...
2025-06-11 15:53:07,919 - __main__ - INFO - 
================================================================================
2025-06-11 15:53:07,919 - __main__ - INFO - VERIFYING ORDERS CREATED
2025-06-11 15:53:07,920 - __main__ - INFO - ================================================================================
2025-06-11 15:53:07,920 - __main__ - WARNING - No GLD context found!
2025-06-11 15:53:07,921 - __main__ - INFO - 
ORDERS SUMMARY:
2025-06-11 15:53:07,921 - __main__ - INFO -    Total orders created: 4
2025-06-11 15:53:07,922 - __main__ - INFO -    Market orders: 1
2025-06-11 15:53:07,922 - __main__ - INFO -    Stop orders: 1
2025-06-11 15:53:07,922 - __main__ - INFO -    Limit orders: 2
2025-06-11 15:53:07,923 - __main__ - INFO - 
DETAILED ORDER LIST:
2025-06-11 15:53:07,924 - __main__ - INFO - 
   Order #1:
2025-06-11 15:53:07,924 - __main__ - INFO -      ID: 2442c97b-cf3c-446c-864c-3dcd07eb688e
2025-06-11 15:53:07,924 - __main__ - INFO -      Type: market
2025-06-11 15:53:07,925 - __main__ - INFO -      Quantity: 300
2025-06-11 15:53:07,925 - __main__ - INFO - 
   Order #2:
2025-06-11 15:53:07,926 - __main__ - INFO -      ID: 2627bac9-609a-4659-9a10-6492ef0e6016
2025-06-11 15:53:07,926 - __main__ - INFO -      Type: stop
2025-06-11 15:53:07,927 - __main__ - INFO -      Quantity: -300
2025-06-11 15:53:07,927 - __main__ - INFO -      Stop: $308.31
2025-06-11 15:53:07,928 - __main__ - INFO - 
   Order #3:
2025-06-11 15:53:07,928 - __main__ - INFO -      ID: 2204546a-c948-4337-b000-67cea33f7911
2025-06-11 15:53:07,929 - __main__ - INFO -      Type: limit
2025-06-11 15:53:07,930 - __main__ - INFO -      Quantity: -300
2025-06-11 15:53:07,931 - __main__ - INFO -      Limit: $308.45
2025-06-11 15:53:07,931 - __main__ - INFO - 
   Order #4:
2025-06-11 15:53:07,932 - __main__ - INFO -      ID: 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8
2025-06-11 15:53:07,933 - __main__ - INFO -      Type: limit
2025-06-11 15:53:07,933 - __main__ - INFO -      Quantity: 300
2025-06-11 15:53:07,934 - __main__ - INFO -      Limit: $308.35
2025-06-11 15:53:07,934 - __main__ - INFO - 
FILLS SUMMARY:
2025-06-11 15:53:07,934 - __main__ - INFO -    Total fills received: 2
2025-06-11 15:53:07,934 - __main__ - INFO - 
   Fill #1:
2025-06-11 15:53:07,935 - __main__ - INFO -      Order ID: 2442c97b-cf3c-446c-864c-3dcd07eb688e
2025-06-11 15:53:07,935 - __main__ - INFO -      Quantity: 100.0
2025-06-11 15:53:07,935 - __main__ - INFO -      Avg Price: $308.40
2025-06-11 15:53:07,936 - __main__ - INFO -      Partial: False
2025-06-11 15:53:07,936 - __main__ - INFO - 
   Fill #2:
2025-06-11 15:53:07,936 - __main__ - INFO -      Order ID: 2442c97b-cf3c-446c-864c-3dcd07eb688e
2025-06-11 15:53:07,936 - __main__ - INFO -      Quantity: 100.0
2025-06-11 15:53:07,937 - __main__ - INFO -      Avg Price: $308.39
2025-06-11 15:53:07,937 - __main__ - INFO -      Partial: False
2025-06-11 15:53:07,937 - __main__ - INFO - 
ðŸ“ MONITORING FOR FILLS AND UPDATES...
2025-06-11 15:53:07,937 - __main__ - INFO - You can now manually fill orders in TWS to test UnifiedFillManager
2025-06-11 15:53:07,938 - __main__ - INFO - Press Ctrl+C when done testing
2025-06-11 15:53:17,945 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:53:27,952 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:53:37,966 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:53:47,982 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:53:57,988 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:54:07,996 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:54:18,006 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:54:28,013 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:54:38,022 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:54:48,034 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:54:58,045 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:55:08,060 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:55:18,065 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:55:28,074 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:55:38,088 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:55:48,100 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:55:58,108 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:56:08,110 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:56:18,126 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:56:28,135 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:56:38,144 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:56:48,150 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:56:58,158 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:57:08,166 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:57:08,276 - src.order.base - INFO - Order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8 status changed: submitted -> partially_filled (Order partially filled)
2025-06-11 15:57:08,277 - src.order.base - INFO - Order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8 filled: 100.0 @ 308.35 (100.0/300)
2025-06-11 15:57:08,277 - src.tws_connection - INFO - Open Order - ID: 30, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:57:08,279 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:57:08,280 - __main__ - INFO -    Order ID: 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8
2025-06-11 15:57:08,280 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:08,281 - __main__ - INFO -    Filled Qty: 100.0
2025-06-11 15:57:08,282 - __main__ - INFO -    Fill Price: $308.35
2025-06-11 15:57:08,283 - __main__ - INFO -    Is Partial: False
2025-06-11 15:57:08,283 - UnifiedFillManager - INFO - Processing fill for GLD: 100.0 shares on order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8
2025-06-11 15:57:08,284 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-11 15:57:08,285 - UnifiedFillManager - INFO - Double down fill for GLD, new position size: 400.0
2025-06-11 15:57:08,285 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=400.0, protective_qty=-400.0
2025-06-11 15:57:08,288 - src.order.base - INFO - Order 2627bac9-609a-4659-9a10-6492ef0e6016 status changed: accepted -> pending_cancel (Updating quantity to -400.0)
2025-06-11 15:57:08,290 - src.order.manager - INFO - Cancelling order 2627bac9-609a-4659-9a10-6492ef0e6016 with broker ID 28
2025-06-11 15:57:08,291 - src.tws_connection - INFO - Open Order - ID: 30, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:57:08,295 - src.order.base - INFO - Order 9aff5d38-7409-4937-82f2-584e4e67c00a status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:57:08,298 - src.order.manager - INFO - Submitting order 9aff5d38-7409-4937-82f2-584e4e67c00a to TWS
2025-06-11 15:57:08,297 - src.tws_connection - INFO - Open Order - ID: 30, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:57:08,299 - src.order.manager - INFO - Got broker order ID 31 for order 9aff5d38-7409-4937-82f2-584e4e67c00a
2025-06-11 15:57:08,300 - src.order.manager - INFO - Calling placeOrder with ID 31, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 400@0.000000 DAY
2025-06-11 15:57:08,303 - src.tws_connection - INFO - Open Order - ID: 30, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:57:08,306 - src.order.manager - INFO - placeOrder called successfully for order 9aff5d38-7409-4937-82f2-584e4e67c00a
2025-06-11 15:57:08,310 - src.order.base - INFO - Order 9aff5d38-7409-4937-82f2-584e4e67c00a status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:57:08,310 - src.tws_connection - INFO - Open Order - ID: 30, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:57:08,313 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:57:08,318 - UnifiedFillManager - INFO - Created updated stop order 9aff5d38-7409-4937-82f2-584e4e67c00a for GLD at $308.31 for -400.0 shares
2025-06-11 15:57:08,319 - src.order.base - INFO - Order 9aff5d38-7409-4937-82f2-584e4e67c00a status changed: submitted -> pending_cancel (Updating quantity to -400.0)
2025-06-11 15:57:08,321 - src.order.manager - INFO - Cancelling order 9aff5d38-7409-4937-82f2-584e4e67c00a with broker ID 31
2025-06-11 15:57:08,324 - src.order.base - INFO - Order e0817987-5275-4a39-b22e-a735cc88d63d status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:57:08,325 - src.order.manager - INFO - Submitting order e0817987-5275-4a39-b22e-a735cc88d63d to TWS
2025-06-11 15:57:08,326 - src.order.manager - INFO - Got broker order ID 32 for order e0817987-5275-4a39-b22e-a735cc88d63d
2025-06-11 15:57:08,326 - src.order.manager - INFO - Calling placeOrder with ID 32, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 400@0.000000 DAY
2025-06-11 15:57:08,328 - src.order.manager - INFO - placeOrder called successfully for order e0817987-5275-4a39-b22e-a735cc88d63d
2025-06-11 15:57:08,329 - src.order.base - INFO - Order e0817987-5275-4a39-b22e-a735cc88d63d status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:57:08,329 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:57:08,330 - UnifiedFillManager - INFO - Created updated stop order e0817987-5275-4a39-b22e-a735cc88d63d for GLD at $308.31 for -400.0 shares
2025-06-11 15:57:08,330 - src.order.base - INFO - Order e0817987-5275-4a39-b22e-a735cc88d63d status changed: submitted -> pending_cancel (Updating quantity to -400.0)
2025-06-11 15:57:08,332 - src.order.manager - INFO - Cancelling order e0817987-5275-4a39-b22e-a735cc88d63d with broker ID 32
2025-06-11 15:57:08,333 - src.order.base - INFO - Order c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:57:08,334 - src.order.manager - INFO - Submitting order c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4 to TWS
2025-06-11 15:57:08,336 - src.order.manager - INFO - Got broker order ID 33 for order c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4
2025-06-11 15:57:08,337 - src.order.manager - INFO - Calling placeOrder with ID 33, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 400@0.000000 DAY
2025-06-11 15:57:08,338 - src.order.manager - INFO - placeOrder called successfully for order c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4
2025-06-11 15:57:08,339 - src.order.base - INFO - Order c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:57:08,341 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:57:08,341 - UnifiedFillManager - INFO - Created updated stop order c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4 for GLD at $308.31 for -400.0 shares
2025-06-11 15:57:08,342 - src.order.base - INFO - Order 2204546a-c948-4337-b000-67cea33f7911 status changed: submitted -> pending_cancel (Updating quantity to -400.0)
2025-06-11 15:57:08,343 - src.order.manager - INFO - Cancelling order 2204546a-c948-4337-b000-67cea33f7911 with broker ID 29
2025-06-11 15:57:08,345 - src.order.base - INFO - Order d5e67e79-7482-4872-9f42-5db9f854de50 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:57:08,345 - src.order.manager - INFO - Submitting order d5e67e79-7482-4872-9f42-5db9f854de50 to TWS
2025-06-11 15:57:08,346 - src.order.manager - INFO - Got broker order ID 34 for order d5e67e79-7482-4872-9f42-5db9f854de50
2025-06-11 15:57:08,347 - src.order.manager - INFO - Calling placeOrder with ID 34, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 400@308.450000 DAY
2025-06-11 15:57:08,348 - src.order.manager - INFO - placeOrder called successfully for order d5e67e79-7482-4872-9f42-5db9f854de50
2025-06-11 15:57:08,350 - src.order.base - INFO - Order d5e67e79-7482-4872-9f42-5db9f854de50 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:57:08,352 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:57:08,353 - UnifiedFillManager - INFO - Created updated target order d5e67e79-7482-4872-9f42-5db9f854de50 for GLD at $308.45 for -400.0 shares
2025-06-11 15:57:08,355 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:57:08,357 - __main__ - INFO -    Order ID: 9aff5d38-7409-4937-82f2-584e4e67c00a
2025-06-11 15:57:08,358 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:08,359 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:57:08,361 - __main__ - INFO -    Quantity: -400.0
2025-06-11 15:57:08,361 - __main__ - INFO -    Stop Price: $308.31
2025-06-11 15:57:08,362 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,364 - __main__ - INFO -    Order ID: 9aff5d38-7409-4937-82f2-584e4e67c00a
2025-06-11 15:57:08,364 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 28)
2025-06-11 15:57:08,365 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:57:08,366 - __main__ - INFO -    Previous: created
2025-06-11 15:57:08,367 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,368 - __main__ - INFO -    Order ID: 9aff5d38-7409-4937-82f2-584e4e67c00a
2025-06-11 15:57:08,369 - __main__ - INFO -    Status: submitted
2025-06-11 15:57:08,370 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:57:08,371 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:57:08,371 - __main__ - INFO -    Order ID: e0817987-5275-4a39-b22e-a735cc88d63d
2025-06-11 15:57:08,372 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:08,373 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:57:08,373 - __main__ - INFO -    Quantity: -400.0
2025-06-11 15:57:08,374 - __main__ - INFO -    Stop Price: $308.31
2025-06-11 15:57:08,375 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,376 - __main__ - INFO -    Order ID: e0817987-5275-4a39-b22e-a735cc88d63d
2025-06-11 15:57:08,377 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:57:08,378 - __main__ - INFO -    Previous: created
2025-06-11 15:57:08,379 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,380 - __main__ - INFO -    Order ID: e0817987-5275-4a39-b22e-a735cc88d63d
2025-06-11 15:57:08,381 - __main__ - INFO -    Status: submitted
2025-06-11 15:57:08,382 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:57:08,383 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:57:08,384 - __main__ - INFO -    Order ID: c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4
2025-06-11 15:57:08,385 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:08,386 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:57:08,386 - __main__ - INFO -    Quantity: -400.0
2025-06-11 15:57:08,387 - __main__ - INFO -    Stop Price: $308.31
2025-06-11 15:57:08,387 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,388 - __main__ - INFO -    Order ID: c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4
2025-06-11 15:57:08,388 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:57:08,389 - __main__ - INFO -    Previous: created
2025-06-11 15:57:08,390 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,391 - __main__ - INFO -    Order ID: c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4
2025-06-11 15:57:08,391 - __main__ - INFO -    Status: submitted
2025-06-11 15:57:08,392 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:57:08,392 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:57:08,393 - __main__ - INFO -    Order ID: d5e67e79-7482-4872-9f42-5db9f854de50
2025-06-11 15:57:08,394 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:08,394 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:57:08,395 - __main__ - INFO -    Quantity: -400.0
2025-06-11 15:57:08,396 - __main__ - INFO -    Limit Price: $308.45
2025-06-11 15:57:08,397 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,397 - __main__ - INFO -    Order ID: d5e67e79-7482-4872-9f42-5db9f854de50
2025-06-11 15:57:08,398 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:57:08,398 - __main__ - INFO -    Previous: created
2025-06-11 15:57:08,399 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,399 - __main__ - INFO -    Order ID: d5e67e79-7482-4872-9f42-5db9f854de50
2025-06-11 15:57:08,400 - __main__ - INFO -    Status: submitted
2025-06-11 15:57:08,401 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:57:08,402 - src.order.base - INFO - Order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8 status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-11 15:57:08,403 - src.order.base - INFO - Order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8 status changed: submitted -> partially_filled (Order partially filled)
2025-06-11 15:57:08,403 - src.order.base - INFO - Order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8 filled: 100.0 @ 308.35 (200.0/300)
2025-06-11 15:57:08,405 - src.order.base - INFO - Order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8 status changed: partially_filled -> submitted (IB status: Submitted)
2025-06-11 15:57:08,405 - src.order.manager - WARNING - Unknown IB order status: ApiCancelled for order 9aff5d38-7409-4937-82f2-584e4e67c00a
2025-06-11 15:57:08,406 - src.order.manager - WARNING - Unknown IB order status: ApiCancelled for order e0817987-5275-4a39-b22e-a735cc88d63d
2025-06-11 15:57:08,407 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:57:08,408 - __main__ - INFO -    Order ID: 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8
2025-06-11 15:57:08,409 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:08,410 - __main__ - INFO -    Filled Qty: 100.0
2025-06-11 15:57:08,410 - __main__ - INFO -    Fill Price: $308.35
2025-06-11 15:57:08,411 - __main__ - INFO -    Is Partial: False
2025-06-11 15:57:08,412 - UnifiedFillManager - INFO - Processing fill for GLD: 100.0 shares on order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8
2025-06-11 15:57:08,413 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-11 15:57:08,414 - UnifiedFillManager - INFO - Double down fill for GLD, new position size: 500.0
2025-06-11 15:57:08,415 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=500.0, protective_qty=-500.0
2025-06-11 15:57:08,416 - src.order.base - INFO - Order c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4 status changed: submitted -> pending_cancel (Updating quantity to -500.0)
2025-06-11 15:57:08,417 - src.order.manager - INFO - Cancelling order c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4 with broker ID 33
2025-06-11 15:57:08,419 - src.order.base - INFO - Order 7f9462cf-a187-4fb3-a1c8-ed7c010607b9 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:57:08,419 - src.order.manager - INFO - Submitting order 7f9462cf-a187-4fb3-a1c8-ed7c010607b9 to TWS
2025-06-11 15:57:08,421 - src.order.manager - INFO - Got broker order ID 35 for order 7f9462cf-a187-4fb3-a1c8-ed7c010607b9
2025-06-11 15:57:08,421 - src.order.manager - INFO - Calling placeOrder with ID 35, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 500@0.000000 DAY
2025-06-11 15:57:08,422 - src.order.manager - INFO - placeOrder called successfully for order 7f9462cf-a187-4fb3-a1c8-ed7c010607b9
2025-06-11 15:57:08,423 - src.order.base - INFO - Order 7f9462cf-a187-4fb3-a1c8-ed7c010607b9 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:57:08,424 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:57:08,425 - UnifiedFillManager - INFO - Created updated stop order 7f9462cf-a187-4fb3-a1c8-ed7c010607b9 for GLD at $308.31 for -500.0 shares
2025-06-11 15:57:08,426 - src.order.base - INFO - Order 7f9462cf-a187-4fb3-a1c8-ed7c010607b9 status changed: submitted -> pending_cancel (Updating quantity to -500.0)
2025-06-11 15:57:08,427 - src.order.manager - INFO - Cancelling order 7f9462cf-a187-4fb3-a1c8-ed7c010607b9 with broker ID 35
2025-06-11 15:57:08,428 - src.order.base - INFO - Order 92cbfa10-4301-41cd-89c9-d54a94432fbf status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:57:08,429 - src.order.manager - INFO - Submitting order 92cbfa10-4301-41cd-89c9-d54a94432fbf to TWS
2025-06-11 15:57:08,430 - src.order.manager - INFO - Got broker order ID 36 for order 92cbfa10-4301-41cd-89c9-d54a94432fbf
2025-06-11 15:57:08,431 - src.order.manager - INFO - Calling placeOrder with ID 36, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 500@0.000000 DAY
2025-06-11 15:57:08,432 - src.order.manager - INFO - placeOrder called successfully for order 92cbfa10-4301-41cd-89c9-d54a94432fbf
2025-06-11 15:57:08,433 - src.order.base - INFO - Order 92cbfa10-4301-41cd-89c9-d54a94432fbf status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:57:08,434 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:57:08,435 - UnifiedFillManager - INFO - Created updated stop order 92cbfa10-4301-41cd-89c9-d54a94432fbf for GLD at $308.31 for -500.0 shares
2025-06-11 15:57:08,435 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 29)
2025-06-11 15:57:08,436 - src.order.base - INFO - Order d5e67e79-7482-4872-9f42-5db9f854de50 status changed: submitted -> pending_cancel (Updating quantity to -500.0)
2025-06-11 15:57:08,438 - src.order.manager - INFO - Cancelling order d5e67e79-7482-4872-9f42-5db9f854de50 with broker ID 34
2025-06-11 15:57:08,440 - src.order.base - INFO - Order 8640d3f0-155e-4405-8b41-1d9236490ffe status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:57:08,441 - src.order.manager - INFO - Submitting order 8640d3f0-155e-4405-8b41-1d9236490ffe to TWS
2025-06-11 15:57:08,441 - src.tws_connection - INFO - Open Order - ID: 33, Symbol: GLD, Action: SELL, Quantity: 400.0
2025-06-11 15:57:08,443 - src.order.manager - INFO - Got broker order ID 37 for order 8640d3f0-155e-4405-8b41-1d9236490ffe
2025-06-11 15:57:08,445 - src.order.manager - INFO - Calling placeOrder with ID 37, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 500@308.450000 DAY
2025-06-11 15:57:08,447 - src.order.manager - INFO - placeOrder called successfully for order 8640d3f0-155e-4405-8b41-1d9236490ffe
2025-06-11 15:57:08,447 - src.order.base - INFO - Order 8640d3f0-155e-4405-8b41-1d9236490ffe status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:57:08,448 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:57:08,449 - UnifiedFillManager - INFO - Created updated target order 8640d3f0-155e-4405-8b41-1d9236490ffe for GLD at $308.45 for -500.0 shares
2025-06-11 15:57:08,449 - src.order.base - INFO - Order 8640d3f0-155e-4405-8b41-1d9236490ffe status changed: submitted -> pending_cancel (Updating quantity to -500.0)
2025-06-11 15:57:08,450 - src.order.manager - INFO - Cancelling order 8640d3f0-155e-4405-8b41-1d9236490ffe with broker ID 37
2025-06-11 15:57:08,451 - src.order.base - INFO - Order 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:57:08,452 - src.order.manager - INFO - Submitting order 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c to TWS
2025-06-11 15:57:08,453 - src.order.manager - INFO - Got broker order ID 38 for order 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c
2025-06-11 15:57:08,453 - src.order.manager - INFO - Calling placeOrder with ID 38, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 500@308.450000 DAY
2025-06-11 15:57:08,454 - src.order.manager - INFO - placeOrder called successfully for order 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c
2025-06-11 15:57:08,455 - src.order.base - INFO - Order 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:57:08,456 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:57:08,457 - UnifiedFillManager - INFO - Created updated target order 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c for GLD at $308.45 for -500.0 shares
2025-06-11 15:57:08,457 - src.order.base - INFO - Order 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c status changed: submitted -> pending_cancel (Updating quantity to -500.0)
2025-06-11 15:57:08,459 - src.order.manager - INFO - Cancelling order 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c with broker ID 38
2025-06-11 15:57:08,460 - src.order.base - INFO - Order 5fe4f01a-21c1-48fc-8d01-b872537e6370 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:57:08,461 - src.order.manager - INFO - Submitting order 5fe4f01a-21c1-48fc-8d01-b872537e6370 to TWS
2025-06-11 15:57:08,461 - src.order.manager - INFO - Got broker order ID 39 for order 5fe4f01a-21c1-48fc-8d01-b872537e6370
2025-06-11 15:57:08,462 - src.order.manager - INFO - Calling placeOrder with ID 39, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 500@308.450000 DAY
2025-06-11 15:57:08,463 - src.order.manager - INFO - placeOrder called successfully for order 5fe4f01a-21c1-48fc-8d01-b872537e6370
2025-06-11 15:57:08,464 - src.order.base - INFO - Order 5fe4f01a-21c1-48fc-8d01-b872537e6370 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:57:08,465 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:57:08,466 - UnifiedFillManager - INFO - Created updated target order 5fe4f01a-21c1-48fc-8d01-b872537e6370 for GLD at $308.45 for -500.0 shares
2025-06-11 15:57:08,467 - src.order.base - INFO - Order 5fe4f01a-21c1-48fc-8d01-b872537e6370 status changed: submitted -> pending_cancel (Updating quantity to -500.0)
2025-06-11 15:57:08,471 - src.order.manager - INFO - Cancelling order 5fe4f01a-21c1-48fc-8d01-b872537e6370 with broker ID 39
2025-06-11 15:57:08,472 - src.order.base - INFO - Order 312de226-658a-40dc-8f5c-4c20c3326fab status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:57:08,474 - src.order.manager - INFO - Submitting order 312de226-658a-40dc-8f5c-4c20c3326fab to TWS
2025-06-11 15:57:08,474 - src.order.manager - INFO - Got broker order ID 40 for order 312de226-658a-40dc-8f5c-4c20c3326fab
2025-06-11 15:57:08,475 - src.order.manager - INFO - Calling placeOrder with ID 40, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 500@308.450000 DAY
2025-06-11 15:57:08,476 - src.order.manager - INFO - placeOrder called successfully for order 312de226-658a-40dc-8f5c-4c20c3326fab
2025-06-11 15:57:08,477 - src.order.base - INFO - Order 312de226-658a-40dc-8f5c-4c20c3326fab status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:57:08,478 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:57:08,478 - UnifiedFillManager - INFO - Created updated target order 312de226-658a-40dc-8f5c-4c20c3326fab for GLD at $308.45 for -500.0 shares
2025-06-11 15:57:08,479 - src.order.base - INFO - Order 2627bac9-609a-4659-9a10-6492ef0e6016 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:57:08,480 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:57:08,481 - __main__ - INFO -    Order ID: 7f9462cf-a187-4fb3-a1c8-ed7c010607b9
2025-06-11 15:57:08,481 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:08,482 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:57:08,482 - __main__ - INFO -    Quantity: -500.0
2025-06-11 15:57:08,483 - __main__ - INFO -    Stop Price: $308.31
2025-06-11 15:57:08,483 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,484 - __main__ - INFO -    Order ID: 7f9462cf-a187-4fb3-a1c8-ed7c010607b9
2025-06-11 15:57:08,485 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:57:08,486 - __main__ - INFO -    Previous: created
2025-06-11 15:57:08,486 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,487 - __main__ - INFO -    Order ID: 7f9462cf-a187-4fb3-a1c8-ed7c010607b9
2025-06-11 15:57:08,488 - __main__ - INFO -    Status: submitted
2025-06-11 15:57:08,489 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:57:08,490 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:57:08,492 - __main__ - INFO -    Order ID: 92cbfa10-4301-41cd-89c9-d54a94432fbf
2025-06-11 15:57:08,493 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:08,493 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 33)
2025-06-11 15:57:08,495 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:57:08,495 - __main__ - INFO -    Quantity: -500.0
2025-06-11 15:57:08,496 - __main__ - INFO -    Stop Price: $308.31
2025-06-11 15:57:08,497 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,498 - __main__ - INFO -    Order ID: 92cbfa10-4301-41cd-89c9-d54a94432fbf
2025-06-11 15:57:08,498 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:57:08,499 - __main__ - INFO -    Previous: created
2025-06-11 15:57:08,500 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,502 - __main__ - INFO -    Order ID: 92cbfa10-4301-41cd-89c9-d54a94432fbf
2025-06-11 15:57:08,502 - __main__ - INFO -    Status: submitted
2025-06-11 15:57:08,503 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:57:08,504 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:57:08,505 - __main__ - INFO -    Order ID: 8640d3f0-155e-4405-8b41-1d9236490ffe
2025-06-11 15:57:08,506 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:08,507 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:57:08,508 - __main__ - INFO -    Quantity: -500.0
2025-06-11 15:57:08,508 - __main__ - INFO -    Limit Price: $308.45
2025-06-11 15:57:08,509 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,510 - __main__ - INFO -    Order ID: 8640d3f0-155e-4405-8b41-1d9236490ffe
2025-06-11 15:57:08,510 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:57:08,511 - __main__ - INFO -    Previous: created
2025-06-11 15:57:08,511 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,512 - __main__ - INFO -    Order ID: 8640d3f0-155e-4405-8b41-1d9236490ffe
2025-06-11 15:57:08,513 - __main__ - INFO -    Status: submitted
2025-06-11 15:57:08,513 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:57:08,514 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:57:08,515 - __main__ - INFO -    Order ID: 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c
2025-06-11 15:57:08,515 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:08,516 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:57:08,517 - __main__ - INFO -    Quantity: -500.0
2025-06-11 15:57:08,518 - __main__ - INFO -    Limit Price: $308.45
2025-06-11 15:57:08,518 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,520 - __main__ - INFO -    Order ID: 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c
2025-06-11 15:57:08,520 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:57:08,521 - __main__ - INFO -    Previous: created
2025-06-11 15:57:08,522 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,523 - __main__ - INFO -    Order ID: 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c
2025-06-11 15:57:08,523 - __main__ - INFO -    Status: submitted
2025-06-11 15:57:08,524 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:57:08,525 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:57:08,526 - __main__ - INFO -    Order ID: 5fe4f01a-21c1-48fc-8d01-b872537e6370
2025-06-11 15:57:08,526 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:08,527 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:57:08,527 - __main__ - INFO -    Quantity: -500.0
2025-06-11 15:57:08,528 - __main__ - INFO -    Limit Price: $308.45
2025-06-11 15:57:08,528 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,529 - __main__ - INFO -    Order ID: 5fe4f01a-21c1-48fc-8d01-b872537e6370
2025-06-11 15:57:08,529 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:57:08,529 - __main__ - INFO -    Previous: created
2025-06-11 15:57:08,530 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,530 - __main__ - INFO -    Order ID: 5fe4f01a-21c1-48fc-8d01-b872537e6370
2025-06-11 15:57:08,531 - __main__ - INFO -    Status: submitted
2025-06-11 15:57:08,531 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:57:08,532 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:57:08,532 - __main__ - INFO -    Order ID: 312de226-658a-40dc-8f5c-4c20c3326fab
2025-06-11 15:57:08,533 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:08,534 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:57:08,535 - __main__ - INFO -    Quantity: -500.0
2025-06-11 15:57:08,536 - __main__ - INFO -    Limit Price: $308.45
2025-06-11 15:57:08,537 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,537 - __main__ - INFO -    Order ID: 312de226-658a-40dc-8f5c-4c20c3326fab
2025-06-11 15:57:08,538 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:57:08,539 - __main__ - INFO -    Previous: created
2025-06-11 15:57:08,539 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:08,540 - __main__ - INFO -    Order ID: 312de226-658a-40dc-8f5c-4c20c3326fab
2025-06-11 15:57:08,541 - __main__ - INFO -    Status: submitted
2025-06-11 15:57:08,542 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:57:08,543 - src.order.manager - WARNING - Unknown IB order status: ApiCancelled for order 7f9462cf-a187-4fb3-a1c8-ed7c010607b9
2025-06-11 15:57:08,543 - src.order.base - INFO - Order 2204546a-c948-4337-b000-67cea33f7911 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:57:08,544 - src.order.base - INFO - Order c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:57:08,545 - src.order.manager - WARNING - Unknown IB order status: ApiCancelled for order 8640d3f0-155e-4405-8b41-1d9236490ffe
2025-06-11 15:57:08,549 - src.tws_connection - INFO - Open Order - ID: 36, Symbol: GLD, Action: SELL, Quantity: 500.0
2025-06-11 15:57:08,551 - src.order.base - INFO - Order 92cbfa10-4301-41cd-89c9-d54a94432fbf status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-11 15:57:08,557 - src.tws_connection - INFO - Open Order - ID: 34, Symbol: GLD, Action: SELL, Quantity: 400.0
2025-06-11 15:57:08,560 - src.order.base - INFO - Order d5e67e79-7482-4872-9f42-5db9f854de50 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:57:08,560 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 34)
2025-06-11 15:57:08,674 - src.tws_connection - INFO - Open Order - ID: 30, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:57:08,715 - src.tws_connection - INFO - Open Order - ID: 38, Symbol: GLD, Action: SELL, Quantity: 500.0
2025-06-11 15:57:08,763 - src.order.base - INFO - Order 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:57:08,763 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 38)
2025-06-11 15:57:08,901 - src.tws_connection - INFO - Open Order - ID: 39, Symbol: GLD, Action: SELL, Quantity: 500.0
2025-06-11 15:57:08,944 - src.order.base - INFO - Order 5fe4f01a-21c1-48fc-8d01-b872537e6370 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:57:08,943 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 39)
2025-06-11 15:57:09,135 - src.tws_connection - INFO - Open Order - ID: 40, Symbol: GLD, Action: SELL, Quantity: 500.0
2025-06-11 15:57:09,946 - src.order.base - INFO - Order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8 status changed: submitted -> filled (Order fully filled)
2025-06-11 15:57:09,947 - src.order.base - INFO - Order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8 filled: 100.0 @ 308.35 (300.0/300)
2025-06-11 15:57:09,948 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:57:09,949 - __main__ - INFO -    Order ID: 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8
2025-06-11 15:57:09,949 - src.tws_connection - INFO - Open Order - ID: 30, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:57:09,950 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:09,951 - __main__ - INFO -    Filled Qty: 100.0
2025-06-11 15:57:09,951 - src.tws_connection - INFO - Open Order - ID: 30, Symbol: GLD, Action: BUY, Quantity: 300.0
2025-06-11 15:57:09,952 - __main__ - INFO -    Fill Price: $308.35
2025-06-11 15:57:09,953 - __main__ - INFO -    Is Partial: False
2025-06-11 15:57:09,954 - UnifiedFillManager - INFO - Processing fill for GLD: 100.0 shares on order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8
2025-06-11 15:57:09,955 - UnifiedFillManager - INFO - Fill is for doubledown order
2025-06-11 15:57:09,955 - UnifiedFillManager - INFO - Double down fill for GLD, new position size: 600.0
2025-06-11 15:57:09,956 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=600.0, protective_qty=-600.0
2025-06-11 15:57:09,957 - src.order.base - INFO - Order 92cbfa10-4301-41cd-89c9-d54a94432fbf status changed: accepted -> pending_cancel (Updating quantity to -600.0)
2025-06-11 15:57:09,957 - src.order.manager - INFO - Cancelling order 92cbfa10-4301-41cd-89c9-d54a94432fbf with broker ID 36
2025-06-11 15:57:09,959 - src.order.base - INFO - Order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:57:09,960 - src.order.manager - INFO - Submitting order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 to TWS
2025-06-11 15:57:09,961 - src.order.manager - INFO - Got broker order ID 41 for order c71d9ceb-76a7-4058-a6fc-48e8712f26d7
2025-06-11 15:57:09,961 - src.order.manager - INFO - Calling placeOrder with ID 41, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 600@0.000000 DAY
2025-06-11 15:57:09,963 - src.order.manager - INFO - placeOrder called successfully for order c71d9ceb-76a7-4058-a6fc-48e8712f26d7
2025-06-11 15:57:09,964 - src.order.base - INFO - Order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:57:09,965 - src.position.position_manager - INFO - Added 1 stop orders to GLD position
2025-06-11 15:57:09,966 - UnifiedFillManager - INFO - Created updated stop order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 for GLD at $308.31 for -600.0 shares
2025-06-11 15:57:09,967 - src.order.base - INFO - Order 312de226-658a-40dc-8f5c-4c20c3326fab status changed: submitted -> pending_cancel (Updating quantity to -600.0)
2025-06-11 15:57:09,968 - src.order.manager - INFO - Cancelling order 312de226-658a-40dc-8f5c-4c20c3326fab with broker ID 40
2025-06-11 15:57:09,970 - src.order.base - INFO - Order fe307319-4f96-4a53-90c3-cb27bf89a77f status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:57:09,971 - src.order.manager - INFO - Submitting order fe307319-4f96-4a53-90c3-cb27bf89a77f to TWS
2025-06-11 15:57:09,972 - src.order.manager - INFO - Got broker order ID 42 for order fe307319-4f96-4a53-90c3-cb27bf89a77f
2025-06-11 15:57:09,973 - src.order.manager - INFO - Calling placeOrder with ID 42, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 600@308.450000 DAY
2025-06-11 15:57:09,974 - src.order.manager - INFO - placeOrder called successfully for order fe307319-4f96-4a53-90c3-cb27bf89a77f
2025-06-11 15:57:09,975 - src.order.base - INFO - Order fe307319-4f96-4a53-90c3-cb27bf89a77f status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:57:09,975 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:57:09,976 - UnifiedFillManager - INFO - Created updated target order fe307319-4f96-4a53-90c3-cb27bf89a77f for GLD at $308.45 for -600.0 shares
2025-06-11 15:57:09,977 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:57:09,978 - __main__ - INFO -    Order ID: c71d9ceb-76a7-4058-a6fc-48e8712f26d7
2025-06-11 15:57:09,978 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:09,979 - __main__ - INFO -    Type: OrderType.STOP
2025-06-11 15:57:09,980 - __main__ - INFO -    Quantity: -600.0
2025-06-11 15:57:09,980 - __main__ - INFO -    Stop Price: $308.31
2025-06-11 15:57:09,981 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:09,981 - __main__ - INFO -    Order ID: c71d9ceb-76a7-4058-a6fc-48e8712f26d7
2025-06-11 15:57:09,982 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:57:09,983 - __main__ - INFO -    Previous: created
2025-06-11 15:57:09,984 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:09,985 - __main__ - INFO -    Order ID: c71d9ceb-76a7-4058-a6fc-48e8712f26d7
2025-06-11 15:57:09,985 - __main__ - INFO -    Status: submitted
2025-06-11 15:57:09,986 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:57:09,987 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:57:09,988 - __main__ - INFO -    Order ID: fe307319-4f96-4a53-90c3-cb27bf89a77f
2025-06-11 15:57:09,988 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:57:09,989 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:57:09,990 - __main__ - INFO -    Quantity: -600.0
2025-06-11 15:57:09,991 - __main__ - INFO -    Limit Price: $308.45
2025-06-11 15:57:09,992 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:09,993 - __main__ - INFO -    Order ID: fe307319-4f96-4a53-90c3-cb27bf89a77f
2025-06-11 15:57:09,993 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:57:09,994 - __main__ - INFO -    Previous: created
2025-06-11 15:57:09,995 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:57:09,996 - __main__ - INFO -    Order ID: fe307319-4f96-4a53-90c3-cb27bf89a77f
2025-06-11 15:57:09,997 - __main__ - INFO -    Status: submitted
2025-06-11 15:57:09,998 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:57:09,998 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 36)
2025-06-11 15:57:09,999 - src.order.base - INFO - Order 92cbfa10-4301-41cd-89c9-d54a94432fbf status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:57:10,067 - src.order.base - INFO - Order 312de226-658a-40dc-8f5c-4c20c3326fab status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:57:10,068 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 40)
2025-06-11 15:57:10,072 - src.tws_connection - INFO - Open Order - ID: 41, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:57:10,074 - src.order.base - INFO - Order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-11 15:57:10,191 - src.tws_connection - INFO - Open Order - ID: 42, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:57:18,178 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:57:28,184 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:57:38,202 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:57:48,220 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:57:58,228 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:58:08,243 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:58:18,253 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:58:28,257 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:58:37,192 - src.tws_connection - INFO - Open Order - ID: 41, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:58:37,270 - src.order.base - INFO - Order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 status changed: accepted -> partially_filled (Order partially filled)
2025-06-11 15:58:37,272 - src.order.base - INFO - Order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 filled: 200.0 @ 308.32 (200.0/600.0)
2025-06-11 15:58:37,271 - src.tws_connection - INFO - Open Order - ID: 41, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:58:37,274 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:58:37,276 - __main__ - INFO -    Order ID: c71d9ceb-76a7-4058-a6fc-48e8712f26d7
2025-06-11 15:58:37,277 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:58:37,276 - src.tws_connection - INFO - Open Order - ID: 41, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:58:37,278 - __main__ - INFO -    Filled Qty: 200.0
2025-06-11 15:58:37,279 - __main__ - INFO -    Fill Price: $308.32
2025-06-11 15:58:37,280 - __main__ - INFO -    Is Partial: False
2025-06-11 15:58:37,280 - src.tws_connection - INFO - Open Order - ID: 41, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:58:37,282 - UnifiedFillManager - INFO - Processing fill for GLD: 200.0 shares on order c71d9ceb-76a7-4058-a6fc-48e8712f26d7
2025-06-11 15:58:37,284 - UnifiedFillManager - INFO - Fill is for stop order
2025-06-11 15:58:37,284 - UnifiedFillManager - INFO - Partial stop fill for GLD, remaining position: 800.0
2025-06-11 15:58:37,285 - UnifiedFillManager - INFO - Updating protective orders for GLD: position=800.0, protective_qty=-800.0
2025-06-11 15:58:37,286 - src.order.base - INFO - Order fe307319-4f96-4a53-90c3-cb27bf89a77f status changed: submitted -> pending_cancel (Updating quantity to -800.0)
2025-06-11 15:58:37,287 - src.order.manager - INFO - Cancelling order fe307319-4f96-4a53-90c3-cb27bf89a77f with broker ID 42
2025-06-11 15:58:37,290 - src.order.base - INFO - Order b3877387-21db-4ba1-9281-0e95c6e76d09 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:58:37,288 - src.tws_connection - INFO - Open Order - ID: 41, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:58:37,292 - src.order.manager - INFO - Submitting order b3877387-21db-4ba1-9281-0e95c6e76d09 to TWS
2025-06-11 15:58:37,295 - src.order.manager - INFO - Got broker order ID 43 for order b3877387-21db-4ba1-9281-0e95c6e76d09
2025-06-11 15:58:37,294 - src.tws_connection - INFO - Open Order - ID: 41, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:58:37,296 - src.order.manager - INFO - Calling placeOrder with ID 43, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 800@308.450000 DAY
2025-06-11 15:58:37,299 - src.order.manager - INFO - placeOrder called successfully for order b3877387-21db-4ba1-9281-0e95c6e76d09
2025-06-11 15:58:37,298 - src.tws_connection - INFO - Open Order - ID: 41, Symbol: GLD, Action: SELL, Quantity: 600.0
2025-06-11 15:58:37,300 - src.order.base - INFO - Order b3877387-21db-4ba1-9281-0e95c6e76d09 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:58:37,302 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:58:37,303 - UnifiedFillManager - INFO - Created updated target order b3877387-21db-4ba1-9281-0e95c6e76d09 for GLD at $308.45 for -800.0 shares
2025-06-11 15:58:37,304 - src.order.base - INFO - Order b3877387-21db-4ba1-9281-0e95c6e76d09 status changed: submitted -> pending_cancel (Updating quantity to -800.0)
2025-06-11 15:58:37,305 - src.order.manager - INFO - Cancelling order b3877387-21db-4ba1-9281-0e95c6e76d09 with broker ID 43
2025-06-11 15:58:37,306 - src.order.base - INFO - Order 0bfda918-b96b-47d0-b736-48b1ca5be867 status changed: created -> pending_submit (Submitting to broker)
2025-06-11 15:58:37,308 - src.order.manager - INFO - Submitting order 0bfda918-b96b-47d0-b736-48b1ca5be867 to TWS
2025-06-11 15:58:37,309 - src.order.manager - INFO - Got broker order ID 44 for order 0bfda918-b96b-47d0-b736-48b1ca5be867
2025-06-11 15:58:37,310 - src.order.manager - INFO - Calling placeOrder with ID 44, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 800@308.450000 DAY
2025-06-11 15:58:37,311 - src.order.manager - INFO - placeOrder called successfully for order 0bfda918-b96b-47d0-b736-48b1ca5be867
2025-06-11 15:58:37,312 - src.order.base - INFO - Order 0bfda918-b96b-47d0-b736-48b1ca5be867 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-11 15:58:37,313 - src.position.position_manager - INFO - Added 1 target orders to GLD position
2025-06-11 15:58:37,315 - UnifiedFillManager - INFO - Created updated target order 0bfda918-b96b-47d0-b736-48b1ca5be867 for GLD at $308.45 for -800.0 shares
2025-06-11 15:58:37,316 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:58:37,317 - __main__ - INFO -    Order ID: b3877387-21db-4ba1-9281-0e95c6e76d09
2025-06-11 15:58:37,318 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:58:37,319 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:58:37,320 - __main__ - INFO -    Quantity: -800.0
2025-06-11 15:58:37,321 - __main__ - INFO -    Limit Price: $308.45
2025-06-11 15:58:37,322 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:58:37,323 - __main__ - INFO -    Order ID: b3877387-21db-4ba1-9281-0e95c6e76d09
2025-06-11 15:58:37,324 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:58:37,325 - __main__ - INFO -    Previous: created
2025-06-11 15:58:37,326 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:58:37,327 - __main__ - INFO -    Order ID: b3877387-21db-4ba1-9281-0e95c6e76d09
2025-06-11 15:58:37,328 - __main__ - INFO -    Status: submitted
2025-06-11 15:58:37,329 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:58:37,330 - __main__ - INFO - 
ðŸ†• NEW ORDER CREATED:
2025-06-11 15:58:37,331 - __main__ - INFO -    Order ID: 0bfda918-b96b-47d0-b736-48b1ca5be867
2025-06-11 15:58:37,332 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:58:37,333 - __main__ - INFO -    Type: OrderType.LIMIT
2025-06-11 15:58:37,333 - __main__ - INFO -    Quantity: -800.0
2025-06-11 15:58:37,334 - __main__ - INFO -    Limit Price: $308.45
2025-06-11 15:58:37,335 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:58:37,336 - __main__ - INFO -    Order ID: 0bfda918-b96b-47d0-b736-48b1ca5be867
2025-06-11 15:58:37,337 - __main__ - INFO -    Status: pending_submit
2025-06-11 15:58:37,338 - __main__ - INFO -    Previous: created
2025-06-11 15:58:37,339 - __main__ - INFO - 
ðŸ“Š ORDER STATUS UPDATE:
2025-06-11 15:58:37,340 - __main__ - INFO -    Order ID: 0bfda918-b96b-47d0-b736-48b1ca5be867
2025-06-11 15:58:37,341 - __main__ - INFO -    Status: submitted
2025-06-11 15:58:37,341 - __main__ - INFO -    Previous: pending_submit
2025-06-11 15:58:37,343 - src.order.base - INFO - Order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-11 15:58:37,344 - src.order.base - INFO - Order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 status changed: accepted -> partially_filled (Order partially filled)
2025-06-11 15:58:37,345 - src.order.base - INFO - Order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 filled: 243.0 @ 308.32 (443.0/600.0)
2025-06-11 15:58:37,347 - src.order.base - INFO - Order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 status changed: partially_filled -> accepted (IB status: PreSubmitted)
2025-06-11 15:58:37,348 - src.order.base - INFO - Order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 status changed: accepted -> filled (Order fully filled)
2025-06-11 15:58:37,349 - src.order.base - INFO - Order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 filled: 157.0 @ 308.32 (600.0/600.0)
2025-06-11 15:58:37,350 - src.order.manager - WARNING - Unknown IB order status: ApiCancelled for order b3877387-21db-4ba1-9281-0e95c6e76d09
2025-06-11 15:58:37,351 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:58:37,352 - __main__ - INFO -    Order ID: c71d9ceb-76a7-4058-a6fc-48e8712f26d7
2025-06-11 15:58:37,353 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:58:37,354 - __main__ - INFO -    Filled Qty: 243.0
2025-06-11 15:58:37,355 - __main__ - INFO -    Fill Price: $308.32
2025-06-11 15:58:37,355 - __main__ - INFO -    Is Partial: False
2025-06-11 15:58:37,356 - UnifiedFillManager - INFO - Processing fill for GLD: 243.0 shares on order c71d9ceb-76a7-4058-a6fc-48e8712f26d7
2025-06-11 15:58:37,357 - UnifiedFillManager - INFO - Fill is for stop order
2025-06-11 15:58:37,358 - UnifiedFillManager - INFO - Closing position for GLD: Stop order fully filled
2025-06-11 15:58:37,359 - src.order.base - INFO - Order 2442c97b-cf3c-446c-864c-3dcd07eb688e status changed: submitted -> pending_cancel (Position closed: Stop order fully filled)
2025-06-11 15:58:37,360 - src.order.manager - INFO - Cancelling order 2442c97b-cf3c-446c-864c-3dcd07eb688e with broker ID 27
2025-06-11 15:58:37,361 - src.order.base - INFO - Order 0bfda918-b96b-47d0-b736-48b1ca5be867 status changed: submitted -> pending_cancel (Position closed: Stop order fully filled)
2025-06-11 15:58:37,362 - src.order.manager - INFO - Cancelling order 0bfda918-b96b-47d0-b736-48b1ca5be867 with broker ID 44
2025-06-11 15:58:37,364 - src.position.position_manager - INFO - Closed position for GLD
2025-06-11 15:58:37,365 - src.trade_tracker - INFO - Closed trade for GLD
2025-06-11 15:58:37,365 - UnifiedFillManager - INFO - Position closed for GLD: all orders cancelled, trackers updated
2025-06-11 15:58:37,367 - __main__ - INFO - 
âœ… ORDER FILLED:
2025-06-11 15:58:37,368 - __main__ - INFO -    Order ID: c71d9ceb-76a7-4058-a6fc-48e8712f26d7
2025-06-11 15:58:37,369 - __main__ - INFO -    Symbol: GLD
2025-06-11 15:58:37,370 - __main__ - INFO -    Filled Qty: 157.0
2025-06-11 15:58:37,370 - __main__ - INFO -    Fill Price: $308.32
2025-06-11 15:58:37,371 - __main__ - INFO -    Is Partial: False
2025-06-11 15:58:37,372 - UnifiedFillManager - INFO - Processing fill for GLD: 157.0 shares on order c71d9ceb-76a7-4058-a6fc-48e8712f26d7
2025-06-11 15:58:37,373 - UnifiedFillManager - INFO - Fill is for stop order
2025-06-11 15:58:37,374 - UnifiedFillManager - INFO - Closing position for GLD: Stop order fully filled
2025-06-11 15:58:37,375 - src.position.position_manager - INFO - Closed position for GLD
2025-06-11 15:58:37,376 - UnifiedFillManager - INFO - Position closed for GLD: all orders cancelled, trackers updated
2025-06-11 15:58:37,405 - src.order.base - INFO - Order fe307319-4f96-4a53-90c3-cb27bf89a77f status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:58:37,405 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 42)
2025-06-11 15:58:37,443 - src.order.base - INFO - Order 2442c97b-cf3c-446c-864c-3dcd07eb688e status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:58:37,442 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 27)
2025-06-11 15:58:37,475 - src.tws_connection - INFO - Open Order - ID: 44, Symbol: GLD, Action: SELL, Quantity: 800.0
2025-06-11 15:58:37,549 - src.order.base - INFO - Order 0bfda918-b96b-47d0-b736-48b1ca5be867 status changed: pending_cancel -> cancelled (IB status: Cancelled)
2025-06-11 15:58:37,548 - src.tws_connection - WARNING - âš ï¸ TWS Error 202: Order Canceled - reason: (reqId: 44)
2025-06-11 15:58:38,268 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:58:48,270 - __main__ - INFO - Still monitoring... (Press Ctrl+C to stop)
2025-06-11 15:58:50,842 - __main__ - INFO - 
================================================================================
2025-06-11 15:58:50,843 - __main__ - INFO - CLEANING UP TEST
2025-06-11 15:58:50,844 - __main__ - INFO - ================================================================================
2025-06-11 15:58:50,844 - __main__ - INFO - Cancelling 18 test orders...
2025-06-11 15:58:50,845 - src.order.manager - WARNING - Cannot cancel inactive order 2442c97b-cf3c-446c-864c-3dcd07eb688e with status cancelled
2025-06-11 15:58:50,846 - __main__ - INFO -    Cancelled order 2442c97b-cf3c-446c-864c-3dcd07eb688e
2025-06-11 15:58:50,846 - src.order.manager - WARNING - Cannot cancel inactive order 2627bac9-609a-4659-9a10-6492ef0e6016 with status cancelled
2025-06-11 15:58:50,847 - __main__ - INFO -    Cancelled order 2627bac9-609a-4659-9a10-6492ef0e6016
2025-06-11 15:58:50,847 - src.order.manager - WARNING - Cannot cancel inactive order 2204546a-c948-4337-b000-67cea33f7911 with status cancelled
2025-06-11 15:58:50,848 - __main__ - INFO -    Cancelled order 2204546a-c948-4337-b000-67cea33f7911
2025-06-11 15:58:50,849 - src.order.manager - WARNING - Cannot cancel inactive order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8 with status filled
2025-06-11 15:58:50,849 - __main__ - INFO -    Cancelled order 9b0fe5f6-d48c-4096-b331-acdb40d7e4a8
2025-06-11 15:58:50,850 - src.order.manager - WARNING - Cannot cancel inactive order 9aff5d38-7409-4937-82f2-584e4e67c00a with status pending_cancel
2025-06-11 15:58:50,851 - __main__ - INFO -    Cancelled order 9aff5d38-7409-4937-82f2-584e4e67c00a
2025-06-11 15:58:50,852 - src.order.manager - WARNING - Cannot cancel inactive order e0817987-5275-4a39-b22e-a735cc88d63d with status pending_cancel
2025-06-11 15:58:50,853 - __main__ - INFO -    Cancelled order e0817987-5275-4a39-b22e-a735cc88d63d
2025-06-11 15:58:50,854 - src.order.manager - WARNING - Cannot cancel inactive order c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4 with status cancelled
2025-06-11 15:58:50,854 - __main__ - INFO -    Cancelled order c60a92fd-0a02-4a6b-977d-0e5f09e8c5b4
2025-06-11 15:58:50,854 - src.order.manager - WARNING - Cannot cancel inactive order d5e67e79-7482-4872-9f42-5db9f854de50 with status cancelled
2025-06-11 15:58:50,855 - __main__ - INFO -    Cancelled order d5e67e79-7482-4872-9f42-5db9f854de50
2025-06-11 15:58:50,855 - src.order.manager - WARNING - Cannot cancel inactive order 7f9462cf-a187-4fb3-a1c8-ed7c010607b9 with status pending_cancel
2025-06-11 15:58:50,856 - __main__ - INFO -    Cancelled order 7f9462cf-a187-4fb3-a1c8-ed7c010607b9
2025-06-11 15:58:50,857 - src.order.manager - WARNING - Cannot cancel inactive order 92cbfa10-4301-41cd-89c9-d54a94432fbf with status cancelled
2025-06-11 15:58:50,857 - __main__ - INFO -    Cancelled order 92cbfa10-4301-41cd-89c9-d54a94432fbf
2025-06-11 15:58:50,857 - src.order.manager - WARNING - Cannot cancel inactive order 8640d3f0-155e-4405-8b41-1d9236490ffe with status pending_cancel
2025-06-11 15:58:50,858 - __main__ - INFO -    Cancelled order 8640d3f0-155e-4405-8b41-1d9236490ffe
2025-06-11 15:58:50,858 - src.order.manager - WARNING - Cannot cancel inactive order 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c with status cancelled
2025-06-11 15:58:50,859 - __main__ - INFO -    Cancelled order 5c65c85f-b860-4dd6-a667-ce5a5e80bd0c
2025-06-11 15:58:50,859 - src.order.manager - WARNING - Cannot cancel inactive order 5fe4f01a-21c1-48fc-8d01-b872537e6370 with status cancelled
2025-06-11 15:58:50,860 - __main__ - INFO -    Cancelled order 5fe4f01a-21c1-48fc-8d01-b872537e6370
2025-06-11 15:58:50,860 - src.order.manager - WARNING - Cannot cancel inactive order 312de226-658a-40dc-8f5c-4c20c3326fab with status cancelled
2025-06-11 15:58:50,861 - __main__ - INFO -    Cancelled order 312de226-658a-40dc-8f5c-4c20c3326fab
2025-06-11 15:58:50,861 - src.order.manager - WARNING - Cannot cancel inactive order c71d9ceb-76a7-4058-a6fc-48e8712f26d7 with status filled
2025-06-11 15:58:50,862 - __main__ - INFO -    Cancelled order c71d9ceb-76a7-4058-a6fc-48e8712f26d7
2025-06-11 15:58:50,862 - src.order.manager - WARNING - Cannot cancel inactive order fe307319-4f96-4a53-90c3-cb27bf89a77f with status cancelled
2025-06-11 15:58:50,863 - __main__ - INFO -    Cancelled order fe307319-4f96-4a53-90c3-cb27bf89a77f
2025-06-11 15:58:50,863 - src.order.manager - WARNING - Cannot cancel inactive order b3877387-21db-4ba1-9281-0e95c6e76d09 with status pending_cancel
2025-06-11 15:58:50,864 - __main__ - INFO -    Cancelled order b3877387-21db-4ba1-9281-0e95c6e76d09
2025-06-11 15:58:50,864 - src.order.manager - WARNING - Cannot cancel inactive order 0bfda918-b96b-47d0-b736-48b1ca5be867 with status cancelled
2025-06-11 15:58:50,865 - __main__ - INFO -    Cancelled order 0bfda918-b96b-47d0-b736-48b1ca5be867
2025-06-11 15:58:50,865 - src.rule.engine - INFO - Rule engine stopped
2025-06-11 15:58:50,866 - __main__ - INFO - Rule engine stopped
2025-06-11 15:58:50,866 - __main__ - INFO - UnifiedFillManager cleanup not needed (event-based)
2025-06-11 15:58:50,867 - __main__ - INFO - 
Test cleanup complete
2025-06-11 15:58:50,867 - src.tws_connection - INFO - Disconnecting from TWS
2025-06-11 15:58:50,868 - src.tws_connection - INFO - âš ï¸ Connection to TWS closed
2025-06-11 15:58:50,869 - src.tws_connection - INFO - âœ… Disconnect request sent
2025-06-11 15:58:50,869 - __main__ - INFO - Disconnected from TWS
2025-06-11 15:58:50,870 - __main__ - INFO - 
================================================================================
2025-06-11 15:58:50,870 - __main__ - INFO - TEST COMPLETE
2025-06-11 15:58:50,870 - __main__ - INFO - ================================================================================
