2025-06-04 10:52:05,731 - __main__ - INFO - Starting multi-symbol test...
2025-06-04 10:52:05,732 - src.trade_tracker - INFO - TradeTracker initialized
2025-06-04 10:52:05,732 - src.trade_tracker - INFO - Cleared all trades from tracker
2025-06-04 10:52:05,735 - __main__ - INFO - Connecting to TWS...
2025-06-04 10:52:05,735 - src.tws_connection - INFO - Connecting to TWS at 127.0.0.1:7497
2025-06-04 10:52:05,736 - src.tws_connection - INFO - Connection thread: Connecting to 127.0.0.1:7497 (client ID: 2)
2025-06-04 10:52:07,467 - ibapi.client - INFO - sent startApi
2025-06-04 10:52:07,468 - ibapi.client - INFO - REQUEST startApi {}
2025-06-04 10:52:07,468 - ibapi.client - INFO - SENDING startApi b'\x00\x00\x00\x0871\x002\x002\x00\x00'
2025-06-04 10:52:07,475 - ibapi.client - INFO - REQUEST startApi {}
2025-06-04 10:52:07,476 - ibapi.client - INFO - SENDING startApi b'\x00\x00\x00\x0871\x002\x002\x00\x00'
2025-06-04 10:52:07,476 - src.tws_connection - INFO - Connection thread: Socket connected, starting message loop
2025-06-04 10:52:07,514 - src.tws_connection - INFO - Requesting additional order IDs from TWS
2025-06-04 10:52:07,514 - ibapi.client - INFO - REQUEST reqIds {'numIds': 50}
2025-06-04 10:52:07,514 - ibapi.client - INFO - SENDING reqIds b'\x00\x00\x00\x078\x001\x0050\x00'
2025-06-04 10:52:07,531 - src.order.manager - INFO - OrderManager callbacks set up with TWSConnection
2025-06-04 10:52:07,531 - src.position.tracker - INFO - PositionTracker async initialization completed
2025-06-04 10:52:07,531 - src.rule.linked_order_actions - INFO - LinkedOrderConclusionManager initialized - monitoring for position conclusions
2025-06-04 10:52:07,532 - src.rule.engine - INFO - Rule engine started
2025-06-04 10:52:07,532 - __main__ - INFO - 
================================================================================
2025-06-04 10:52:07,532 - __main__ - INFO - TEST 1: BUY SIGNALS FOR DIFFERENT SYMBOLS
2025-06-04 10:52:07,532 - __main__ - INFO - ================================================================================
2025-06-04 10:52:07,532 - __main__ - INFO - 
Sending BUY signal for SLV...
2025-06-04 10:52:07,533 - src.trade_tracker - INFO - Started tracking BUY trade for SLV
2025-06-04 10:52:07,533 - ibapi.client - INFO - REQUEST reqMktData {'reqId': 1000, 'contract': 2272256661488: 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'genericTickList': '', 'snapshot': False, 'regulatorySnapshot': False, 'mktDataOptions': []}
2025-06-04 10:52:07,533 - ibapi.client - INFO - SENDING reqMktData b'\x00\x00\x0001\x0011\x001000\x000\x00SLV\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x000\x00\x000\x000\x00\x00'
2025-06-04 10:52:07,568 - ibapi.wrapper - INFO - ANSWER tickReqParams {'tickerId': 1000, 'minTick': 0.01, 'bboExchange': 'a60001', 'snapshotPermissions': 3}
2025-06-04 10:52:07,568 - ibapi.wrapper - INFO - ANSWER marketDataType {'reqId': 1000, 'marketDataType': 1}
2025-06-04 10:52:07,569 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1000, 'tickType': 1, 'price': 31.36, 'attrib': 2272256662496: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:07,569 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1000, 'tickType': 0, 'size': 885}
2025-06-04 10:52:07,569 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1000, 'tickType': 2, 'price': 31.37, 'attrib': 2272256077456: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:07,570 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1000, 'tickType': 3, 'size': 1275}
2025-06-04 10:52:07,571 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1000, 'tickType': 4, 'price': 31.36, 'attrib': 2272256077456: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:07,571 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1000, 'tickType': 5, 'size': 1}
2025-06-04 10:52:07,571 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1000, 'tickType': 0, 'size': 885}
2025-06-04 10:52:07,571 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1000, 'tickType': 3, 'size': 1275}
2025-06-04 10:52:07,572 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1000, 'tickType': 5, 'size': 1}
2025-06-04 10:52:07,572 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1000, 'tickType': 8, 'size': 79347}
2025-06-04 10:52:07,572 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1000, 'tickType': 6, 'price': 31.43, 'attrib': 2272256045920: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:07,572 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1000, 'tickType': 7, 'price': 31.25, 'attrib': 2272256045920: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:07,572 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1000, 'tickType': 9, 'price': 31.44, 'attrib': 2272255786544: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:07,572 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1000, 'tickType': 14, 'price': 31.32, 'attrib': 2272256574608: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:07,573 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1000, 'tickType': 32, 'value': 'NJKPTVZUH'}
2025-06-04 10:52:07,573 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1000, 'tickType': 33, 'value': 'ANJKPTVZUH'}
2025-06-04 10:52:07,573 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1000, 'tickType': 84, 'value': 'D'}
2025-06-04 10:52:07,573 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1000, 'tickType': 45, 'value': '1749048726'}
2025-06-04 10:52:07,573 - ibapi.wrapper - INFO - ANSWER tickGeneric {'reqId': 1000, 'tickType': 49, 'value': 0.0}
2025-06-04 10:52:07,648 - ibapi.wrapper - INFO - ANSWER tickGeneric {'reqId': 1000, 'tickType': 49, 'value': 0.0}
2025-06-04 10:52:08,316 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1000, 'tickType': 0, 'size': 903}
2025-06-04 10:52:08,316 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1000, 'tickType': 3, 'size': 1408}
2025-06-04 10:52:08,316 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1000, 'tickType': 32, 'value': 'ANJKPTVZUH'}
2025-06-04 10:52:08,317 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1000, 'tickType': 33, 'value': 'ANJKPTVYZUH'}
2025-06-04 10:52:08,540 - ibapi.client - INFO - REQUEST cancelMktData {'reqId': 1000}
2025-06-04 10:52:08,540 - ibapi.client - INFO - SENDING cancelMktData b'\x00\x00\x00\t2\x002\x001000\x00'
2025-06-04 10:52:08,541 - src.position.sizer - INFO - BUY position size: 63 shares @ $31.36 = $1975.68 (98.8% of $2000.00 allocation)
2025-06-04 10:52:08,541 - src.order.base - INFO - Order 4a3c8a96-2445-44d3-906a-dd419f3903c2 status changed: created -> pending_submit (Submitting to broker)
2025-06-04 10:52:08,542 - src.order.manager - INFO - Submitting order 4a3c8a96-2445-44d3-906a-dd419f3903c2 to TWS
2025-06-04 10:52:08,542 - src.order.manager - INFO - Got broker order ID 59 for order 4a3c8a96-2445-44d3-906a-dd419f3903c2
2025-06-04 10:52:08,542 - src.order.manager - INFO - Calling placeOrder with ID 59, contract 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 63@0.000000 DAY
2025-06-04 10:52:08,543 - ibapi.client - INFO - REQUEST placeOrder {'orderId': 59, 'contract': 2272256078096: 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'order': 2272256662496: 0,0,0: MKT BUY 63@0.000000 DAY}
2025-06-04 10:52:08,543 - ibapi.client - INFO - SENDING placeOrder b'\x00\x00\x01:3\x0059\x000\x00SLV\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x00\x00\x00BUY\x0063\x00MKT\x000\x000\x00DAY\x00\x00\x00\x000\x00\x001\x000\x000\x000\x000\x000\x000\x000\x00\x000\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00-1\x000\x00\x00\x000\x00\x00\x000\x000\x00\x000\x00\x00\x00\x00\x00\x000\x00\x00\x00\x00\x000\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00\x000\x000\x00\x00\x000\x00\x000\x000\x000\x000\x00\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x000\x00\x00\x00\x001.7976931348623157e+308\x00\x00\x00\x00\x000\x000\x000\x00\x00'
2025-06-04 10:52:08,544 - src.order.manager - INFO - placeOrder called successfully for order 4a3c8a96-2445-44d3-906a-dd419f3903c2
2025-06-04 10:52:08,544 - src.order.base - INFO - Order 4a3c8a96-2445-44d3-906a-dd419f3903c2 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-04 10:52:08,544 - src.rule.linked_order_actions - INFO - Created new order context for SLV BUY position
2025-06-04 10:52:08,545 - ibapi.client - INFO - REQUEST reqMktData {'reqId': 1001, 'contract': 2272256077456: 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'genericTickList': '', 'snapshot': False, 'regulatorySnapshot': False, 'mktDataOptions': []}
2025-06-04 10:52:08,545 - ibapi.client - INFO - SENDING reqMktData b'\x00\x00\x0001\x0011\x001001\x000\x00SLV\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x000\x00\x000\x000\x00\x00'
2025-06-04 10:52:08,546 - __main__ - INFO - 
Sending BUY signal for GLD...
2025-06-04 10:52:08,617 - ibapi.wrapper - INFO - ANSWER tickReqParams {'tickerId': 1001, 'minTick': 0.01, 'bboExchange': 'a60001', 'snapshotPermissions': 3}
2025-06-04 10:52:08,617 - ibapi.wrapper - INFO - ANSWER marketDataType {'reqId': 1001, 'marketDataType': 1}
2025-06-04 10:52:08,618 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1001, 'tickType': 1, 'price': 31.36, 'attrib': 2272256574608: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:08,618 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1001, 'tickType': 0, 'size': 903}
2025-06-04 10:52:08,618 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1001, 'tickType': 2, 'price': 31.37, 'attrib': 2272256283472: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:08,618 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1001, 'tickType': 3, 'size': 1408}
2025-06-04 10:52:08,618 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1001, 'tickType': 4, 'price': 31.36, 'attrib': 2272256283472: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:08,619 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1001, 'tickType': 5, 'size': 1}
2025-06-04 10:52:08,619 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1001, 'tickType': 0, 'size': 903}
2025-06-04 10:52:08,619 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1001, 'tickType': 3, 'size': 1408}
2025-06-04 10:52:08,619 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1001, 'tickType': 5, 'size': 1}
2025-06-04 10:52:08,619 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1001, 'tickType': 8, 'size': 79347}
2025-06-04 10:52:08,619 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1001, 'tickType': 6, 'price': 31.43, 'attrib': 2272256430624: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:08,620 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1001, 'tickType': 7, 'price': 31.25, 'attrib': 2272256430624: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:08,620 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1001, 'tickType': 9, 'price': 31.44, 'attrib': 2272256548144: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:08,621 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1001, 'tickType': 14, 'price': 31.32, 'attrib': 2272256548144: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:08,622 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1001, 'tickType': 32, 'value': 'ANJKPTVZUH'}
2025-06-04 10:52:08,623 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1001, 'tickType': 33, 'value': 'ANJKPTVYZUH'}
2025-06-04 10:52:08,623 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1001, 'tickType': 84, 'value': 'D'}
2025-06-04 10:52:08,623 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1001, 'tickType': 45, 'value': '1749048726'}
2025-06-04 10:52:08,624 - ibapi.wrapper - INFO - ANSWER tickGeneric {'reqId': 1001, 'tickType': 49, 'value': 0.0}
2025-06-04 10:52:08,676 - src.tws_connection - INFO - Open Order - ID: 59, Symbol: SLV, Action: BUY, Quantity: 63.0
2025-06-04 10:52:08,677 - ibapi.client - INFO - REQUEST cancelMktData {'reqId': 1001}
2025-06-04 10:52:08,677 - ibapi.client - INFO - SENDING cancelMktData b'\x00\x00\x00\t2\x002\x001001\x00'
2025-06-04 10:52:08,677 - src.rule.linked_order_actions - INFO - Percentage-based stop: SLV stop at $30.42 (3.0%)
2025-06-04 10:52:08,678 - src.order.base - INFO - Order a617d371-c5e1-4f76-a5f0-40c37b66ff40 status changed: created -> pending_submit (Submitting to broker)
2025-06-04 10:52:08,678 - src.order.manager - INFO - Submitting order a617d371-c5e1-4f76-a5f0-40c37b66ff40 to TWS
2025-06-04 10:52:08,679 - src.order.manager - INFO - Got broker order ID 60 for order a617d371-c5e1-4f76-a5f0-40c37b66ff40
2025-06-04 10:52:08,679 - src.order.manager - INFO - Calling placeOrder with ID 60, contract 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 63@0.000000 DAY
2025-06-04 10:52:08,679 - ibapi.client - INFO - REQUEST placeOrder {'orderId': 60, 'contract': 2272256048656: 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'order': 2272256080656: 0,0,0: STP SELL 63@0.000000 DAY}
2025-06-04 10:52:08,679 - ibapi.client - INFO - SENDING placeOrder b'\x00\x00\x01?3\x0060\x000\x00SLV\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x00\x00\x00SELL\x0063\x00STP\x000\x0030.42\x00DAY\x00\x00\x00\x000\x00\x001\x000\x000\x000\x000\x000\x000\x000\x00\x000\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00-1\x000\x00\x00\x000\x00\x00\x000\x000\x00\x000\x00\x00\x00\x00\x00\x000\x00\x00\x00\x00\x000\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00\x000\x000\x00\x00\x000\x00\x000\x000\x000\x000\x00\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x000\x00\x00\x00\x001.7976931348623157e+308\x00\x00\x00\x00\x000\x000\x000\x00\x00'
2025-06-04 10:52:08,680 - src.order.manager - INFO - placeOrder called successfully for order a617d371-c5e1-4f76-a5f0-40c37b66ff40
2025-06-04 10:52:08,680 - src.order.base - INFO - Order a617d371-c5e1-4f76-a5f0-40c37b66ff40 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-04 10:52:08,680 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss a617d371-c5e1-4f76-a5f0-40c37b66ff40 at $30.42
2025-06-04 10:52:08,681 - src.rule.linked_order_actions - INFO - Percentage-based target: SLV target at $33.24 (6.0%)
2025-06-04 10:52:08,681 - src.order.base - INFO - Order ca61a0a4-0363-4f47-8a32-8bbb8d645aa3 status changed: created -> pending_submit (Submitting to broker)
2025-06-04 10:52:08,681 - src.order.manager - INFO - Submitting order ca61a0a4-0363-4f47-8a32-8bbb8d645aa3 to TWS
2025-06-04 10:52:08,682 - src.order.manager - INFO - Got broker order ID 61 for order ca61a0a4-0363-4f47-8a32-8bbb8d645aa3
2025-06-04 10:52:08,682 - src.order.manager - INFO - Calling placeOrder with ID 61, contract 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 63@33.240000 DAY
2025-06-04 10:52:08,682 - ibapi.client - INFO - REQUEST placeOrder {'orderId': 61, 'contract': 2272256623248: 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'order': 2272256081296: 0,0,0: LMT SELL 63@33.240000 DAY}
2025-06-04 10:52:08,682 - ibapi.client - INFO - SENDING placeOrder b'\x00\x00\x01?3\x0061\x000\x00SLV\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x00\x00\x00SELL\x0063\x00LMT\x0033.24\x000\x00DAY\x00\x00\x00\x000\x00\x001\x000\x000\x000\x000\x000\x000\x000\x00\x000\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00-1\x000\x00\x00\x000\x00\x00\x000\x000\x00\x000\x00\x00\x00\x00\x00\x000\x00\x00\x00\x00\x000\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00\x000\x000\x00\x00\x000\x00\x000\x000\x000\x000\x00\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x000\x00\x00\x00\x001.7976931348623157e+308\x00\x00\x00\x00\x000\x000\x000\x00\x00'
2025-06-04 10:52:08,683 - src.order.manager - INFO - placeOrder called successfully for order ca61a0a4-0363-4f47-8a32-8bbb8d645aa3
2025-06-04 10:52:08,683 - src.order.base - INFO - Order ca61a0a4-0363-4f47-8a32-8bbb8d645aa3 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-04 10:52:08,683 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit ca61a0a4-0363-4f47-8a32-8bbb8d645aa3 at $33.24
2025-06-04 10:52:08,684 - src.rule.linked_order_actions - INFO - Starting double down order creation for SLV
2025-06-04 10:52:08,684 - src.order.base - INFO - Order 4a3c8a96-2445-44d3-906a-dd419f3903c2 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-04 10:52:08,720 - src.order.base - INFO - Order 4a3c8a96-2445-44d3-906a-dd419f3903c2 status changed: accepted -> filled (Order fully filled)
2025-06-04 10:52:08,725 - src.order.base - INFO - Order 4a3c8a96-2445-44d3-906a-dd419f3903c2 filled: 63.0 @ 31.37 (63.0/63)
2025-06-04 10:52:08,723 - src.tws_connection - INFO - Open Order - ID: 59, Symbol: SLV, Action: BUY, Quantity: 63.0
2025-06-04 10:52:08,731 - src.tws_connection - INFO - Open Order - ID: 59, Symbol: SLV, Action: BUY, Quantity: 63.0
2025-06-04 10:52:08,733 - ibapi.wrapper - INFO - ANSWER commissionReport {'commissionReport': 2272256662832: ExecId: 00025b49.68405bf7.01.01, Commission: 1.002205, Currency: USD, RealizedPnL: , Yield: , YieldRedemptionDate: 0}
2025-06-04 10:52:08,765 - src.tws_connection - INFO - Open Order - ID: 60, Symbol: SLV, Action: SELL, Quantity: 63.0
2025-06-04 10:52:08,767 - src.order.base - INFO - Order a617d371-c5e1-4f76-a5f0-40c37b66ff40 status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-04 10:52:08,818 - src.tws_connection - INFO - Open Order - ID: 61, Symbol: SLV, Action: SELL, Quantity: 63.0
2025-06-04 10:52:09,189 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SLV: ['a617d371-c5e1-4f76-a5f0-40c37b66ff40']
2025-06-04 10:52:09,190 - src.rule.linked_order_actions - INFO - Executing double down action for SLV
2025-06-04 10:52:09,190 - ibapi.client - INFO - REQUEST reqMktData {'reqId': 1002, 'contract': 2272256430624: 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'genericTickList': '', 'snapshot': False, 'regulatorySnapshot': False, 'mktDataOptions': []}
2025-06-04 10:52:09,191 - ibapi.client - INFO - SENDING reqMktData b'\x00\x00\x0001\x0011\x001002\x000\x00SLV\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x000\x00\x000\x000\x00\x00'
2025-06-04 10:52:09,230 - ibapi.wrapper - INFO - ANSWER tickReqParams {'tickerId': 1002, 'minTick': 0.01, 'bboExchange': 'a60001', 'snapshotPermissions': 3}
2025-06-04 10:52:09,231 - ibapi.wrapper - INFO - ANSWER marketDataType {'reqId': 1002, 'marketDataType': 1}
2025-06-04 10:52:09,232 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1002, 'tickType': 1, 'price': 31.36, 'attrib': 2272257740944: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,232 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1002, 'tickType': 0, 'size': 867}
2025-06-04 10:52:09,233 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1002, 'tickType': 2, 'price': 31.37, 'attrib': 2272256939344: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,233 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1002, 'tickType': 3, 'size': 1444}
2025-06-04 10:52:09,233 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1002, 'tickType': 4, 'price': 31.36, 'attrib': 2272256939344: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,234 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1002, 'tickType': 5, 'size': 1}
2025-06-04 10:52:09,235 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1002, 'tickType': 0, 'size': 867}
2025-06-04 10:52:09,235 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1002, 'tickType': 3, 'size': 1444}
2025-06-04 10:52:09,235 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1002, 'tickType': 5, 'size': 1}
2025-06-04 10:52:09,236 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1002, 'tickType': 8, 'size': 79348}
2025-06-04 10:52:09,236 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1002, 'tickType': 6, 'price': 31.43, 'attrib': 2272256175888: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,236 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1002, 'tickType': 7, 'price': 31.25, 'attrib': 2272256175888: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,236 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1002, 'tickType': 9, 'price': 31.44, 'attrib': 2272256647216: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,238 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1002, 'tickType': 14, 'price': 31.32, 'attrib': 2272256647216: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,239 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1002, 'tickType': 32, 'value': 'NJKPTVZUH'}
2025-06-04 10:52:09,240 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1002, 'tickType': 33, 'value': 'ACNJKPTVYZUH'}
2025-06-04 10:52:09,241 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1002, 'tickType': 84, 'value': 'D'}
2025-06-04 10:52:09,241 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1002, 'tickType': 45, 'value': '1749048728'}
2025-06-04 10:52:09,241 - ibapi.wrapper - INFO - ANSWER tickGeneric {'reqId': 1002, 'tickType': 49, 'value': 0.0}
2025-06-04 10:52:09,560 - ibapi.client - INFO - REQUEST cancelMktData {'reqId': 1002}
2025-06-04 10:52:09,563 - ibapi.client - INFO - SENDING cancelMktData b'\x00\x00\x00\t2\x002\x001002\x00'
2025-06-04 10:52:09,568 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SLV: 0.0814
2025-06-04 10:52:09,568 - src.rule.linked_order_actions - INFO - Double down calc for SLV (BUY): current=$31.36, stop_distance=$0.08, dd_distance=$0.04, dd_price=$31.32, original_qty=63, dd_qty=63
2025-06-04 10:52:09,569 - src.order.base - INFO - Order 0f874b4d-588a-431e-a610-de6e9caa521c status changed: created -> pending_submit (Submitting to broker)
2025-06-04 10:52:09,569 - src.order.manager - INFO - Submitting order 0f874b4d-588a-431e-a610-de6e9caa521c to TWS
2025-06-04 10:52:09,569 - src.order.manager - INFO - Got broker order ID 62 for order 0f874b4d-588a-431e-a610-de6e9caa521c
2025-06-04 10:52:09,569 - src.order.manager - INFO - Calling placeOrder with ID 62, contract 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 63@31.320000 DAY
2025-06-04 10:52:09,569 - ibapi.client - INFO - REQUEST placeOrder {'orderId': 62, 'contract': 2272256430624: 0,SLV,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'order': 2272256079376: 0,0,0: LMT BUY 63@31.320000 DAY}
2025-06-04 10:52:09,570 - ibapi.client - INFO - SENDING placeOrder b'\x00\x00\x01>3\x0062\x000\x00SLV\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x00\x00\x00BUY\x0063\x00LMT\x0031.32\x000\x00DAY\x00\x00\x00\x000\x00\x001\x000\x000\x000\x000\x000\x000\x000\x00\x000\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00-1\x000\x00\x00\x000\x00\x00\x000\x000\x00\x000\x00\x00\x00\x00\x00\x000\x00\x00\x00\x00\x000\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00\x000\x000\x00\x00\x000\x00\x000\x000\x000\x000\x00\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x000\x00\x00\x00\x001.7976931348623157e+308\x00\x00\x00\x00\x000\x000\x000\x00\x00'
2025-06-04 10:52:09,570 - src.order.manager - INFO - placeOrder called successfully for order 0f874b4d-588a-431e-a610-de6e9caa521c
2025-06-04 10:52:09,573 - src.order.base - INFO - Order 0f874b4d-588a-431e-a610-de6e9caa521c status changed: pending_submit -> submitted (Submitted to broker)
2025-06-04 10:52:09,574 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for SLV: 63 shares @ $31.32
2025-06-04 10:52:09,576 - src.rule.linked_order_actions - INFO - Auto-created double down order for SLV
2025-06-04 10:52:09,577 - src.rule.linked_order_actions - INFO - Created and linked BUY main order 4a3c8a96-2445-44d3-906a-dd419f3903c2 for SLV
2025-06-04 10:52:09,578 - __main__ - INFO - 
Sending BUY signal for SPY...
2025-06-04 10:52:09,579 - src.trade_tracker - INFO - Started tracking BUY trade for SPY
2025-06-04 10:52:09,579 - ibapi.client - INFO - REQUEST reqMktData {'reqId': 1003, 'contract': 2272256430624: 0,SPY,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'genericTickList': '', 'snapshot': False, 'regulatorySnapshot': False, 'mktDataOptions': []}
2025-06-04 10:52:09,579 - ibapi.client - INFO - SENDING reqMktData b'\x00\x00\x0001\x0011\x001003\x000\x00SPY\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x000\x00\x000\x000\x00\x00'
2025-06-04 10:52:09,580 - src.trade_tracker - INFO - Started tracking BUY trade for GLD
2025-06-04 10:52:09,580 - ibapi.client - INFO - REQUEST reqMktData {'reqId': 1004, 'contract': 2272256430144: 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'genericTickList': '', 'snapshot': False, 'regulatorySnapshot': False, 'mktDataOptions': []}
2025-06-04 10:52:09,580 - ibapi.client - INFO - SENDING reqMktData b'\x00\x00\x0001\x0011\x001004\x000\x00GLD\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x000\x00\x000\x000\x00\x00'
2025-06-04 10:52:09,649 - ibapi.wrapper - INFO - ANSWER tickReqParams {'tickerId': 1003, 'minTick': 0.01, 'bboExchange': 'a60001', 'snapshotPermissions': 3}
2025-06-04 10:52:09,650 - ibapi.wrapper - INFO - ANSWER marketDataType {'reqId': 1003, 'marketDataType': 1}
2025-06-04 10:52:09,650 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1003, 'tickType': 1, 'price': 596.9, 'attrib': 2272257314976: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,651 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1003, 'tickType': 0, 'size': 1}
2025-06-04 10:52:09,651 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1003, 'tickType': 2, 'price': 596.91, 'attrib': 2272257717840: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,651 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1003, 'tickType': 3, 'size': 23}
2025-06-04 10:52:09,651 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1003, 'tickType': 4, 'price': 596.91, 'attrib': 2272257717840: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,651 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1003, 'tickType': 5, 'size': 1}
2025-06-04 10:52:09,651 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1003, 'tickType': 0, 'size': 1}
2025-06-04 10:52:09,651 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1003, 'tickType': 3, 'size': 23}
2025-06-04 10:52:09,652 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1003, 'tickType': 5, 'size': 1}
2025-06-04 10:52:09,652 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1003, 'tickType': 8, 'size': 172412}
2025-06-04 10:52:09,652 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1003, 'tickType': 6, 'price': 597.95, 'attrib': 2272256256816: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,652 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1003, 'tickType': 7, 'price': 595.49, 'attrib': 2272256256816: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,652 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1003, 'tickType': 9, 'price': 596.09, 'attrib': 2272257757200: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,657 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1003, 'tickType': 14, 'price': 597.0, 'attrib': 2272257757200: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,659 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1003, 'tickType': 32, 'value': 'P'}
2025-06-04 10:52:09,660 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1003, 'tickType': 33, 'value': 'JKPTVZUH'}
2025-06-04 10:52:09,660 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1003, 'tickType': 84, 'value': 'V'}
2025-06-04 10:52:09,661 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1003, 'tickType': 45, 'value': '1749048728'}
2025-06-04 10:52:09,662 - ibapi.wrapper - INFO - ANSWER tickGeneric {'reqId': 1003, 'tickType': 49, 'value': 0.0}
2025-06-04 10:52:09,687 - ibapi.wrapper - INFO - ANSWER tickGeneric {'reqId': 1003, 'tickType': 49, 'value': 0.0}
2025-06-04 10:52:09,714 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1003, 'tickType': 2, 'price': 596.92, 'attrib': 2272257757200: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,715 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1003, 'tickType': 3, 'size': 50}
2025-06-04 10:52:09,715 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1003, 'tickType': 0, 'size': 13}
2025-06-04 10:52:09,715 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1003, 'tickType': 3, 'size': 50}
2025-06-04 10:52:09,715 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1003, 'tickType': 32, 'value': 'PTVZ'}
2025-06-04 10:52:09,715 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1003, 'tickType': 33, 'value': 'NJKPTVXZUH'}
2025-06-04 10:52:09,734 - src.tws_connection - INFO - Open Order - ID: 62, Symbol: SLV, Action: BUY, Quantity: 63.0
2025-06-04 10:52:09,735 - ibapi.client - INFO - REQUEST cancelMktData {'reqId': 1003}
2025-06-04 10:52:09,735 - ibapi.client - INFO - SENDING cancelMktData b'\x00\x00\x00\t2\x002\x001003\x00'
2025-06-04 10:52:09,735 - src.position.sizer - INFO - BUY position size: 3 shares @ $596.92 = $1790.76 (89.5% of $2000.00 allocation)
2025-06-04 10:52:09,736 - src.order.base - INFO - Order 239ff870-c1f1-4b51-b6ea-b3aaae0df93e status changed: created -> pending_submit (Submitting to broker)
2025-06-04 10:52:09,736 - src.order.manager - INFO - Submitting order 239ff870-c1f1-4b51-b6ea-b3aaae0df93e to TWS
2025-06-04 10:52:09,736 - src.order.manager - INFO - Got broker order ID 63 for order 239ff870-c1f1-4b51-b6ea-b3aaae0df93e
2025-06-04 10:52:09,736 - src.order.manager - INFO - Calling placeOrder with ID 63, contract 0,SPY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 3@0.000000 DAY
2025-06-04 10:52:09,736 - ibapi.client - INFO - REQUEST placeOrder {'orderId': 63, 'contract': 2272256431344: 0,SPY,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'order': 2272257900624: 0,0,0: MKT BUY 3@0.000000 DAY}
2025-06-04 10:52:09,737 - ibapi.client - INFO - SENDING placeOrder b'\x00\x00\x0193\x0063\x000\x00SPY\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x00\x00\x00BUY\x003\x00MKT\x000\x000\x00DAY\x00\x00\x00\x000\x00\x001\x000\x000\x000\x000\x000\x000\x000\x00\x000\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00-1\x000\x00\x00\x000\x00\x00\x000\x000\x00\x000\x00\x00\x00\x00\x00\x000\x00\x00\x00\x00\x000\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00\x000\x000\x00\x00\x000\x00\x000\x000\x000\x000\x00\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x000\x00\x00\x00\x001.7976931348623157e+308\x00\x00\x00\x00\x000\x000\x000\x00\x00'
2025-06-04 10:52:09,738 - src.order.manager - INFO - placeOrder called successfully for order 239ff870-c1f1-4b51-b6ea-b3aaae0df93e
2025-06-04 10:52:09,738 - src.order.base - INFO - Order 239ff870-c1f1-4b51-b6ea-b3aaae0df93e status changed: pending_submit -> submitted (Submitted to broker)
2025-06-04 10:52:09,739 - src.rule.linked_order_actions - INFO - Created new order context for SPY BUY position
2025-06-04 10:52:09,739 - ibapi.client - INFO - REQUEST reqMktData {'reqId': 1005, 'contract': 2272256431344: 0,SPY,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'genericTickList': '', 'snapshot': False, 'regulatorySnapshot': False, 'mktDataOptions': []}
2025-06-04 10:52:09,739 - ibapi.client - INFO - SENDING reqMktData b'\x00\x00\x0001\x0011\x001005\x000\x00SPY\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x000\x00\x000\x000\x00\x00'
2025-06-04 10:52:09,777 - ibapi.wrapper - INFO - ANSWER marketDataType {'reqId': 1004, 'marketDataType': 1}
2025-06-04 10:52:09,778 - ibapi.wrapper - INFO - ANSWER tickReqParams {'tickerId': 1004, 'minTick': 0.01, 'bboExchange': 'a60001', 'snapshotPermissions': 3}
2025-06-04 10:52:09,780 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1004, 'tickType': 45, 'value': '1749048727'}
2025-06-04 10:52:09,780 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1004, 'tickType': 84, 'value': 'D'}
2025-06-04 10:52:09,782 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1004, 'tickType': 4, 'price': 311.48, 'attrib': 2272257757200: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,782 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1004, 'tickType': 5, 'size': 1}
2025-06-04 10:52:09,782 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1004, 'tickType': 5, 'size': 1}
2025-06-04 10:52:09,782 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1004, 'tickType': 8, 'size': 29095}
2025-06-04 10:52:09,783 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1004, 'tickType': 6, 'price': 311.88, 'attrib': 2272257757200: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,783 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1004, 'tickType': 7, 'price': 308.74, 'attrib': 2272257757200: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,783 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1004, 'tickType': 9, 'price': 308.91, 'attrib': 2272257757200: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,784 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1004, 'tickType': 14, 'price': 309.41, 'attrib': 2272257757200: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,784 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1004, 'tickType': 1, 'price': 311.46, 'attrib': 2272257757200: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,784 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1004, 'tickType': 0, 'size': 16}
2025-06-04 10:52:09,784 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1004, 'tickType': 2, 'price': 311.49, 'attrib': 2272257757200: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,784 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1004, 'tickType': 3, 'size': 13}
2025-06-04 10:52:09,785 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1004, 'tickType': 0, 'size': 16}
2025-06-04 10:52:09,785 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1004, 'tickType': 3, 'size': 13}
2025-06-04 10:52:09,785 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1004, 'tickType': 32, 'value': 'NKPVZU'}
2025-06-04 10:52:09,785 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1004, 'tickType': 33, 'value': 'NKPTVZU'}
2025-06-04 10:52:09,892 - src.tws_connection - INFO - Open Order - ID: 63, Symbol: SPY, Action: BUY, Quantity: 3.0
2025-06-04 10:52:09,892 - ibapi.client - INFO - REQUEST cancelMktData {'reqId': 1004}
2025-06-04 10:52:09,893 - ibapi.client - INFO - SENDING cancelMktData b'\x00\x00\x00\t2\x002\x001004\x00'
2025-06-04 10:52:09,893 - src.position.sizer - INFO - BUY position size: 6 shares @ $311.49 = $1868.94 (93.4% of $2000.00 allocation)
2025-06-04 10:52:09,893 - src.order.base - INFO - Order b068d3fb-8ecf-4d67-95d5-2edb6a6edddc status changed: created -> pending_submit (Submitting to broker)
2025-06-04 10:52:09,893 - src.order.manager - INFO - Submitting order b068d3fb-8ecf-4d67-95d5-2edb6a6edddc to TWS
2025-06-04 10:52:09,894 - src.order.manager - INFO - Got broker order ID 64 for order b068d3fb-8ecf-4d67-95d5-2edb6a6edddc
2025-06-04 10:52:09,894 - src.order.manager - INFO - Calling placeOrder with ID 64, contract 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: MKT BUY 6@0.000000 DAY
2025-06-04 10:52:09,894 - ibapi.client - INFO - REQUEST placeOrder {'orderId': 64, 'contract': 2272256430144: 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'order': 2272257900944: 0,0,0: MKT BUY 6@0.000000 DAY}
2025-06-04 10:52:09,894 - ibapi.client - INFO - SENDING placeOrder b'\x00\x00\x0193\x0064\x000\x00GLD\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x00\x00\x00BUY\x006\x00MKT\x000\x000\x00DAY\x00\x00\x00\x000\x00\x001\x000\x000\x000\x000\x000\x000\x000\x00\x000\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00-1\x000\x00\x00\x000\x00\x00\x000\x000\x00\x000\x00\x00\x00\x00\x00\x000\x00\x00\x00\x00\x000\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00\x000\x000\x00\x00\x000\x00\x000\x000\x000\x000\x00\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x000\x00\x00\x00\x001.7976931348623157e+308\x00\x00\x00\x00\x000\x000\x000\x00\x00'
2025-06-04 10:52:09,895 - src.order.manager - INFO - placeOrder called successfully for order b068d3fb-8ecf-4d67-95d5-2edb6a6edddc
2025-06-04 10:52:09,895 - src.order.base - INFO - Order b068d3fb-8ecf-4d67-95d5-2edb6a6edddc status changed: pending_submit -> submitted (Submitted to broker)
2025-06-04 10:52:09,895 - src.rule.linked_order_actions - INFO - Created new order context for GLD BUY position
2025-06-04 10:52:09,895 - ibapi.client - INFO - REQUEST reqMktData {'reqId': 1006, 'contract': 2272256430144: 0,GLD,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'genericTickList': '', 'snapshot': False, 'regulatorySnapshot': False, 'mktDataOptions': []}
2025-06-04 10:52:09,895 - ibapi.client - INFO - SENDING reqMktData b'\x00\x00\x0001\x0011\x001006\x000\x00GLD\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x000\x00\x000\x000\x00\x00'
2025-06-04 10:52:09,896 - src.order.base - INFO - Order 239ff870-c1f1-4b51-b6ea-b3aaae0df93e status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-04 10:52:09,935 - src.order.base - INFO - Order 239ff870-c1f1-4b51-b6ea-b3aaae0df93e status changed: accepted -> filled (Order fully filled)
2025-06-04 10:52:09,935 - src.order.base - INFO - Order 239ff870-c1f1-4b51-b6ea-b3aaae0df93e filled: 3.0 @ 596.92 (3.0/3)
2025-06-04 10:52:09,936 - src.tws_connection - INFO - Open Order - ID: 63, Symbol: SPY, Action: BUY, Quantity: 3.0
2025-06-04 10:52:09,936 - ibapi.wrapper - INFO - ANSWER tickReqParams {'tickerId': 1005, 'minTick': 0.01, 'bboExchange': 'a60001', 'snapshotPermissions': 3}
2025-06-04 10:52:09,937 - ibapi.wrapper - INFO - ANSWER marketDataType {'reqId': 1005, 'marketDataType': 1}
2025-06-04 10:52:09,938 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1005, 'tickType': 1, 'price': 596.91, 'attrib': 2272257757296: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,939 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1005, 'tickType': 0, 'size': 1}
2025-06-04 10:52:09,939 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1005, 'tickType': 2, 'price': 596.92, 'attrib': 2272257757296: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,940 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1005, 'tickType': 3, 'size': 48}
2025-06-04 10:52:09,941 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1005, 'tickType': 4, 'price': 596.91, 'attrib': 2272257757296: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,941 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1005, 'tickType': 5, 'size': 1}
2025-06-04 10:52:09,942 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1005, 'tickType': 0, 'size': 1}
2025-06-04 10:52:09,942 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1005, 'tickType': 3, 'size': 48}
2025-06-04 10:52:09,942 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1005, 'tickType': 5, 'size': 1}
2025-06-04 10:52:09,942 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1005, 'tickType': 8, 'size': 172412}
2025-06-04 10:52:09,943 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1005, 'tickType': 6, 'price': 597.95, 'attrib': 2272257757296: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,943 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1005, 'tickType': 7, 'price': 595.49, 'attrib': 2272257757296: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,943 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1005, 'tickType': 9, 'price': 596.09, 'attrib': 2272257757296: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,943 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1005, 'tickType': 14, 'price': 597.0, 'attrib': 2272257757296: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,944 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1005, 'tickType': 32, 'value': 'P'}
2025-06-04 10:52:09,944 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1005, 'tickType': 33, 'value': 'NJKPTVXZUH'}
2025-06-04 10:52:09,944 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1005, 'tickType': 84, 'value': 'V'}
2025-06-04 10:52:09,944 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1005, 'tickType': 45, 'value': '1749048728'}
2025-06-04 10:52:09,944 - ibapi.wrapper - INFO - ANSWER tickGeneric {'reqId': 1005, 'tickType': 49, 'value': 0.0}
2025-06-04 10:52:09,945 - src.tws_connection - INFO - Open Order - ID: 63, Symbol: SPY, Action: BUY, Quantity: 3.0
2025-06-04 10:52:09,945 - ibapi.wrapper - INFO - ANSWER tickGeneric {'reqId': 1005, 'tickType': 49, 'value': 0.0}
2025-06-04 10:52:09,945 - ibapi.client - INFO - REQUEST cancelMktData {'reqId': 1005}
2025-06-04 10:52:09,945 - ibapi.wrapper - INFO - ANSWER commissionReport {'commissionReport': 2272257900944: ExecId: 00025b49.68405bfd.01.01, Commission: 1.000105, Currency: USD, RealizedPnL: , Yield: , YieldRedemptionDate: 0}
2025-06-04 10:52:09,946 - ibapi.client - INFO - SENDING cancelMktData b'\x00\x00\x00\t2\x002\x001005\x00'
2025-06-04 10:52:09,946 - src.rule.linked_order_actions - INFO - Percentage-based stop: SPY stop at $579.00 (3.0%)
2025-06-04 10:52:09,946 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1005, 'tickType': 1, 'price': 596.9, 'attrib': 2272257757296: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:09,946 - src.order.base - INFO - Order 1d4424bd-0d95-4177-8d21-f3c2a3366f9d status changed: created -> pending_submit (Submitting to broker)
2025-06-04 10:52:09,947 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1005, 'tickType': 0, 'size': 14}
2025-06-04 10:52:09,947 - src.order.manager - INFO - Submitting order 1d4424bd-0d95-4177-8d21-f3c2a3366f9d to TWS
2025-06-04 10:52:09,947 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1005, 'tickType': 0, 'size': 14}
2025-06-04 10:52:09,947 - src.order.manager - INFO - Got broker order ID 65 for order 1d4424bd-0d95-4177-8d21-f3c2a3366f9d
2025-06-04 10:52:09,947 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1005, 'tickType': 3, 'size': 52}
2025-06-04 10:52:09,948 - src.order.manager - INFO - Calling placeOrder with ID 65, contract 0,SPY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: STP SELL 3@0.000000 DAY
2025-06-04 10:52:09,948 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1005, 'tickType': 32, 'value': 'PTVZH'}
2025-06-04 10:52:09,948 - ibapi.client - INFO - REQUEST placeOrder {'orderId': 65, 'contract': 2272256430624: 0,SPY,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'order': 2272257901584: 0,0,0: STP SELL 3@0.000000 DAY}
2025-06-04 10:52:09,948 - ibapi.client - INFO - SENDING placeOrder b'\x00\x00\x01>3\x0065\x000\x00SPY\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x00\x00\x00SELL\x003\x00STP\x000\x00579.0\x00DAY\x00\x00\x00\x000\x00\x001\x000\x000\x000\x000\x000\x000\x000\x00\x000\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00-1\x000\x00\x00\x000\x00\x00\x000\x000\x00\x000\x00\x00\x00\x00\x00\x000\x00\x00\x00\x00\x000\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00\x000\x000\x00\x00\x000\x00\x000\x000\x000\x000\x00\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x000\x00\x00\x00\x001.7976931348623157e+308\x00\x00\x00\x00\x000\x000\x000\x00\x00'
2025-06-04 10:52:09,948 - src.order.manager - INFO - placeOrder called successfully for order 1d4424bd-0d95-4177-8d21-f3c2a3366f9d
2025-06-04 10:52:09,949 - src.order.base - INFO - Order 1d4424bd-0d95-4177-8d21-f3c2a3366f9d status changed: pending_submit -> submitted (Submitted to broker)
2025-06-04 10:52:09,949 - src.rule.linked_order_actions - INFO - Auto-created BUY stop loss 1d4424bd-0d95-4177-8d21-f3c2a3366f9d at $579.00
2025-06-04 10:52:09,949 - src.rule.linked_order_actions - INFO - Percentage-based target: SPY target at $632.72 (6.0%)
2025-06-04 10:52:09,949 - src.order.base - INFO - Order 61625afe-2c90-45e3-acda-8c9cee4bc87d status changed: created -> pending_submit (Submitting to broker)
2025-06-04 10:52:09,950 - src.order.manager - INFO - Submitting order 61625afe-2c90-45e3-acda-8c9cee4bc87d to TWS
2025-06-04 10:52:09,950 - src.order.manager - INFO - Got broker order ID 66 for order 61625afe-2c90-45e3-acda-8c9cee4bc87d
2025-06-04 10:52:09,950 - src.order.manager - INFO - Calling placeOrder with ID 66, contract 0,SPY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT SELL 3@632.720000 DAY
2025-06-04 10:52:09,950 - ibapi.client - INFO - REQUEST placeOrder {'orderId': 66, 'contract': 2272256430624: 0,SPY,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'order': 2272257901904: 0,0,0: LMT SELL 3@632.720000 DAY}
2025-06-04 10:52:09,950 - ibapi.client - INFO - SENDING placeOrder b'\x00\x00\x01?3\x0066\x000\x00SPY\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x00\x00\x00SELL\x003\x00LMT\x00632.72\x000\x00DAY\x00\x00\x00\x000\x00\x001\x000\x000\x000\x000\x000\x000\x000\x00\x000\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00-1\x000\x00\x00\x000\x00\x00\x000\x000\x00\x000\x00\x00\x00\x00\x00\x000\x00\x00\x00\x00\x000\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00\x000\x000\x00\x00\x000\x00\x000\x000\x000\x000\x00\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x000\x00\x00\x00\x001.7976931348623157e+308\x00\x00\x00\x00\x000\x000\x000\x00\x00'
2025-06-04 10:52:09,950 - src.order.manager - INFO - placeOrder called successfully for order 61625afe-2c90-45e3-acda-8c9cee4bc87d
2025-06-04 10:52:09,951 - src.order.base - INFO - Order 61625afe-2c90-45e3-acda-8c9cee4bc87d status changed: pending_submit -> submitted (Submitted to broker)
2025-06-04 10:52:09,951 - src.rule.linked_order_actions - INFO - Auto-created BUY take profit 61625afe-2c90-45e3-acda-8c9cee4bc87d at $632.72
2025-06-04 10:52:09,951 - src.rule.linked_order_actions - INFO - Starting double down order creation for SPY
2025-06-04 10:52:10,078 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1005, 'tickType': 2, 'price': 596.91, 'attrib': 2272257757008: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,078 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1005, 'tickType': 3, 'size': 1}
2025-06-04 10:52:10,078 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1005, 'tickType': 0, 'size': 13}
2025-06-04 10:52:10,079 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1005, 'tickType': 3, 'size': 1}
2025-06-04 10:52:10,079 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1005, 'tickType': 32, 'value': 'PTVZ'}
2025-06-04 10:52:10,079 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1005, 'tickType': 33, 'value': 'T'}
2025-06-04 10:52:10,111 - src.tws_connection - INFO - Open Order - ID: 64, Symbol: GLD, Action: BUY, Quantity: 6.0
2025-06-04 10:52:10,112 - src.order.base - INFO - Order b068d3fb-8ecf-4d67-95d5-2edb6a6edddc status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-04 10:52:10,159 - src.order.base - INFO - Order b068d3fb-8ecf-4d67-95d5-2edb6a6edddc status changed: accepted -> filled (Order fully filled)
2025-06-04 10:52:10,159 - src.tws_connection - INFO - Open Order - ID: 64, Symbol: GLD, Action: BUY, Quantity: 6.0
2025-06-04 10:52:10,159 - src.order.base - INFO - Order b068d3fb-8ecf-4d67-95d5-2edb6a6edddc filled: 6.0 @ 311.49 (6.0/6)
2025-06-04 10:52:10,160 - src.tws_connection - INFO - Open Order - ID: 64, Symbol: GLD, Action: BUY, Quantity: 6.0
2025-06-04 10:52:10,161 - ibapi.wrapper - INFO - ANSWER commissionReport {'commissionReport': 2272256080976: ExecId: 00025b44.6840397e.01.01, Commission: 1.000210, Currency: USD, RealizedPnL: , Yield: , YieldRedemptionDate: 0}
2025-06-04 10:52:10,210 - ibapi.wrapper - INFO - ANSWER marketDataType {'reqId': 1006, 'marketDataType': 1}
2025-06-04 10:52:10,211 - ibapi.wrapper - INFO - ANSWER tickReqParams {'tickerId': 1006, 'minTick': 0.01, 'bboExchange': 'a60001', 'snapshotPermissions': 3}
2025-06-04 10:52:10,212 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 1, 'price': 311.46, 'attrib': 2272257757392: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,212 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 16}
2025-06-04 10:52:10,213 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 16}
2025-06-04 10:52:10,213 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 2, 'price': 311.49, 'attrib': 2272257757392: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,213 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 13}
2025-06-04 10:52:10,214 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 13}
2025-06-04 10:52:10,214 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 45, 'value': '1749048727'}
2025-06-04 10:52:10,214 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 84, 'value': 'D'}
2025-06-04 10:52:10,214 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 4, 'price': 311.48, 'attrib': 2272257757392: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,214 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 5, 'size': 1}
2025-06-04 10:52:10,215 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 5, 'size': 1}
2025-06-04 10:52:10,215 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 8, 'size': 29095}
2025-06-04 10:52:10,216 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 6, 'price': 311.88, 'attrib': 2272257757392: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,216 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 7, 'price': 308.74, 'attrib': 2272257757392: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,216 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 9, 'price': 308.91, 'attrib': 2272257757392: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,217 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 14, 'price': 309.41, 'attrib': 2272257757392: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,217 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 32, 'value': 'NKPVZU'}
2025-06-04 10:52:10,217 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 33, 'value': 'NKPTVZU'}
2025-06-04 10:52:10,275 - src.tws_connection - INFO - Open Order - ID: 65, Symbol: SPY, Action: SELL, Quantity: 3.0
2025-06-04 10:52:10,276 - src.order.base - INFO - Order 1d4424bd-0d95-4177-8d21-f3c2a3366f9d status changed: submitted -> accepted (IB status: PreSubmitted)
2025-06-04 10:52:10,399 - src.tws_connection - INFO - Open Order - ID: 66, Symbol: SPY, Action: SELL, Quantity: 3.0
2025-06-04 10:52:10,462 - src.rule.linked_order_actions - INFO - Found 1 stop orders for SPY: ['1d4424bd-0d95-4177-8d21-f3c2a3366f9d']
2025-06-04 10:52:10,462 - src.rule.linked_order_actions - INFO - Executing double down action for SPY
2025-06-04 10:52:10,463 - ibapi.client - INFO - REQUEST reqMktData {'reqId': 1007, 'contract': 2272256430624: 0,SPY,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'genericTickList': '', 'snapshot': False, 'regulatorySnapshot': False, 'mktDataOptions': []}
2025-06-04 10:52:10,463 - ibapi.client - INFO - SENDING reqMktData b'\x00\x00\x0001\x0011\x001007\x000\x00SPY\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x000\x00\x000\x000\x00\x00'
2025-06-04 10:52:10,496 - ibapi.wrapper - INFO - ANSWER tickReqParams {'tickerId': 1007, 'minTick': 0.01, 'bboExchange': 'a60001', 'snapshotPermissions': 3}
2025-06-04 10:52:10,497 - ibapi.wrapper - INFO - ANSWER marketDataType {'reqId': 1007, 'marketDataType': 1}
2025-06-04 10:52:10,499 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1007, 'tickType': 1, 'price': 596.9, 'attrib': 2272257757200: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,499 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1007, 'tickType': 0, 'size': 15}
2025-06-04 10:52:10,499 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1007, 'tickType': 2, 'price': 596.91, 'attrib': 2272257757200: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,499 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1007, 'tickType': 3, 'size': 1}
2025-06-04 10:52:10,499 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1007, 'tickType': 4, 'price': 596.9, 'attrib': 2272257757200: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,500 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1007, 'tickType': 5, 'size': 1}
2025-06-04 10:52:10,500 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1007, 'tickType': 0, 'size': 15}
2025-06-04 10:52:10,500 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1007, 'tickType': 3, 'size': 1}
2025-06-04 10:52:10,500 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1007, 'tickType': 5, 'size': 1}
2025-06-04 10:52:10,501 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1007, 'tickType': 8, 'size': 172413}
2025-06-04 10:52:10,501 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1007, 'tickType': 6, 'price': 597.95, 'attrib': 2272257757200: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,501 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1007, 'tickType': 7, 'price': 595.49, 'attrib': 2272257757200: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,501 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1007, 'tickType': 9, 'price': 596.09, 'attrib': 2272257757200: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,501 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1007, 'tickType': 14, 'price': 597.0, 'attrib': 2272257757200: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,502 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1007, 'tickType': 32, 'value': 'PTVZ'}
2025-06-04 10:52:10,502 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1007, 'tickType': 33, 'value': 'T'}
2025-06-04 10:52:10,502 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1007, 'tickType': 84, 'value': 'P'}
2025-06-04 10:52:10,502 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1007, 'tickType': 45, 'value': '1749048729'}
2025-06-04 10:52:10,503 - ibapi.wrapper - INFO - ANSWER tickGeneric {'reqId': 1007, 'tickType': 49, 'value': 0.0}
2025-06-04 10:52:10,591 - ibapi.client - INFO - REQUEST cancelMktData {'reqId': 1007}
2025-06-04 10:52:10,592 - ibapi.client - INFO - SENDING cancelMktData b'\x00\x00\x00\t2\x002\x001007\x00'
2025-06-04 10:52:10,592 - ibapi.client - INFO - REQUEST reqHistoricalData {'reqId': 1000, 'contract': 2272256433264: 0,SPY,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'endDateTime': '20250604 14:52:10 UTC', 'durationStr': '1 D', 'barSizeSetting': '10 secs', 'whatToShow': 'TRADES', 'useRTH': True, 'formatDate': 2, 'keepUpToDate': False, 'chartOptions': []}
2025-06-04 10:52:10,592 - ibapi.client - INFO - SENDING reqHistoricalData b'\x00\x00\x00X20\x001000\x000\x00SPY\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x000\x0020250604 14:52:10 UTC\x0010 secs\x001 D\x001\x00TRADES\x002\x000\x00\x00'
2025-06-04 10:52:10,609 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 1, 'price': 311.45, 'attrib': 2272257757200: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,609 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 4}
2025-06-04 10:52:10,610 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 2, 'price': 311.47, 'attrib': 2272257757200: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,610 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 12}
2025-06-04 10:52:10,611 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 4}
2025-06-04 10:52:10,611 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 12}
2025-06-04 10:52:10,611 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 32, 'value': 'PV'}
2025-06-04 10:52:10,611 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 33, 'value': 'KPZU'}
2025-06-04 10:52:10,871 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 2, 'price': 311.46, 'attrib': 2272257767760: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:10,873 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 1}
2025-06-04 10:52:10,873 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 1}
2025-06-04 10:52:10,874 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 1}
2025-06-04 10:52:10,874 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 32, 'value': 'P'}
2025-06-04 10:52:10,874 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 33, 'value': 'P'}
2025-06-04 10:52:11,359 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 8, 'size': 29177}
2025-06-04 10:52:11,360 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 2, 'price': 311.47, 'attrib': 2272257767760: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:11,360 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 12}
2025-06-04 10:52:11,360 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 12}
2025-06-04 10:52:11,361 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 33, 'value': 'KPTZU'}
2025-06-04 10:52:11,611 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 1, 'price': 311.44, 'attrib': 2272257767760: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:11,612 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 1}
2025-06-04 10:52:11,612 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 13}
2025-06-04 10:52:11,613 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 32, 'value': 'U'}
2025-06-04 10:52:11,613 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 33, 'value': 'KPTVZ'}
2025-06-04 10:52:11,857 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 1, 'price': 311.45, 'attrib': 2272257767760: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:11,858 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 1}
2025-06-04 10:52:11,858 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 2, 'price': 311.46, 'attrib': 2272257767760: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:11,859 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 1}
2025-06-04 10:52:11,859 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 1}
2025-06-04 10:52:11,860 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 32, 'value': 'P'}
2025-06-04 10:52:11,860 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 33, 'value': 'P'}
2025-06-04 10:52:12,108 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 8, 'size': 29178}
2025-06-04 10:52:12,109 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 45, 'value': '1749048731'}
2025-06-04 10:52:12,109 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 4, 'price': 311.45, 'attrib': 2272257767760: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:12,110 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 5, 'size': 1}
2025-06-04 10:52:12,110 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 2, 'price': 311.47, 'attrib': 2272257767760: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:12,110 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 2}
2025-06-04 10:52:12,111 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 15}
2025-06-04 10:52:12,111 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 2}
2025-06-04 10:52:12,111 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 32, 'value': 'PVU'}
2025-06-04 10:52:12,111 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 33, 'value': 'PT'}
2025-06-04 10:52:12,279 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 2}
2025-06-04 10:52:12,280 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 6}
2025-06-04 10:52:12,284 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 32, 'value': 'P'}
2025-06-04 10:52:12,285 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 33, 'value': 'NPTV'}
2025-06-04 10:52:12,610 - src.rule.linked_order_actions - INFO - Using ATR-based stop distance for SPY: 0.5700
2025-06-04 10:52:12,612 - src.rule.linked_order_actions - INFO - Double down calc for SPY (BUY): current=$596.90, stop_distance=$0.57, dd_distance=$0.29, dd_price=$596.61, original_qty=3, dd_qty=3
2025-06-04 10:52:12,613 - src.order.base - INFO - Order d69641fc-af4e-45c3-9499-e5ee38898609 status changed: created -> pending_submit (Submitting to broker)
2025-06-04 10:52:12,614 - src.order.manager - INFO - Submitting order d69641fc-af4e-45c3-9499-e5ee38898609 to TWS
2025-06-04 10:52:12,614 - src.order.manager - INFO - Got broker order ID 67 for order d69641fc-af4e-45c3-9499-e5ee38898609
2025-06-04 10:52:12,615 - src.order.manager - INFO - Calling placeOrder with ID 67, contract 0,SPY,STK,,0.0,,,SMART,,USD,,,False,,combo:, order 0,0,0: LMT BUY 3@596.610000 DAY
2025-06-04 10:52:12,615 - ibapi.client - INFO - REQUEST placeOrder {'orderId': 67, 'contract': 2272256433264: 0,SPY,STK,,0.0,,,SMART,,USD,,,False,,combo:, 'order': 2272257903504: 0,0,0: LMT BUY 3@596.610000 DAY}
2025-06-04 10:52:12,616 - ibapi.client - INFO - SENDING placeOrder b'\x00\x00\x01>3\x0067\x000\x00SPY\x00STK\x00\x000.0\x00\x00\x00SMART\x00\x00USD\x00\x00\x00\x00\x00BUY\x003\x00LMT\x00596.61\x000\x00DAY\x00\x00\x00\x000\x00\x001\x000\x000\x000\x000\x000\x000\x000\x00\x000\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00-1\x000\x00\x00\x000\x00\x00\x000\x000\x00\x000\x00\x00\x00\x00\x00\x000\x00\x00\x00\x00\x000\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00\x000\x000\x00\x00\x000\x00\x000\x000\x000\x000\x00\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x001.7976931348623157e+308\x000\x00\x00\x00\x001.7976931348623157e+308\x00\x00\x00\x00\x000\x000\x000\x00\x00'
2025-06-04 10:52:12,617 - src.order.manager - INFO - placeOrder called successfully for order d69641fc-af4e-45c3-9499-e5ee38898609
2025-06-04 10:52:12,619 - src.order.base - INFO - Order d69641fc-af4e-45c3-9499-e5ee38898609 status changed: pending_submit -> submitted (Submitted to broker)
2025-06-04 10:52:12,626 - src.rule.linked_order_actions - INFO - Created BUY double down order 'doubledown1' for SPY: 3 shares @ $596.61
2025-06-04 10:52:12,626 - src.rule.linked_order_actions - INFO - Auto-created double down order for SPY
2025-06-04 10:52:12,627 - src.rule.linked_order_actions - INFO - Created and linked BUY main order 239ff870-c1f1-4b51-b6ea-b3aaae0df93e for SPY
2025-06-04 10:52:12,627 - __main__ - INFO - 
Active trades: 3
2025-06-04 10:52:12,628 - __main__ - INFO -   SLV: BUY trade started at 2025-06-04 10:52:07.533272
2025-06-04 10:52:12,628 - __main__ - INFO -   SPY: BUY trade started at 2025-06-04 10:52:09.579414
2025-06-04 10:52:12,629 - __main__ - INFO -   GLD: BUY trade started at 2025-06-04 10:52:09.580149
2025-06-04 10:52:12,634 - __main__ - INFO - 
================================================================================
2025-06-04 10:52:12,634 - __main__ - INFO - TEST 2: DUPLICATE BUY SIGNAL FOR SLV
2025-06-04 10:52:12,634 - __main__ - INFO - ================================================================================
2025-06-04 10:52:12,635 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SLV - already have active BUY trade
2025-06-04 10:52:12,727 - src.tws_connection - INFO - Open Order - ID: 67, Symbol: SPY, Action: BUY, Quantity: 3.0
2025-06-04 10:52:13,028 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 8, 'size': 29179}
2025-06-04 10:52:13,029 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 45, 'value': '1749048732'}
2025-06-04 10:52:13,030 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 4, 'price': 311.46, 'attrib': 2272257767664: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:13,030 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 5, 'size': 1}
2025-06-04 10:52:13,031 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 1, 'price': 311.44, 'attrib': 2272257767664: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:13,031 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 1}
2025-06-04 10:52:13,031 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 1}
2025-06-04 10:52:13,031 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 32, 'value': 'U'}
2025-06-04 10:52:13,448 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 2, 'price': 311.46, 'attrib': 2272257767664: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:13,449 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 11}
2025-06-04 10:52:13,450 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 11}
2025-06-04 10:52:13,450 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 33, 'value': 'NKPZ'}
2025-06-04 10:52:13,640 - src.rule.linked_order_actions - INFO - Ignoring BUY signal for SLV - already have active BUY trade
2025-06-04 10:52:13,779 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 2, 'price': 311.45, 'attrib': 2272257767664: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:13,780 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 2}
2025-06-04 10:52:13,781 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 2}
2025-06-04 10:52:13,781 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 33, 'value': 'P'}
2025-06-04 10:52:14,030 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 8, 'size': 29183}
2025-06-04 10:52:14,031 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 45, 'value': '1749048733'}
2025-06-04 10:52:14,032 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 84, 'value': 'U'}
2025-06-04 10:52:14,033 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 4, 'price': 311.44, 'attrib': 2272257767664: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:14,033 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 5, 'size': 1}
2025-06-04 10:52:14,034 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 1, 'price': 311.43, 'attrib': 2272257767664: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:14,035 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 1}
2025-06-04 10:52:14,035 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 2, 'price': 311.44, 'attrib': 2272257767664: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:14,036 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 1}
2025-06-04 10:52:14,036 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 1}
2025-06-04 10:52:14,276 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 8, 'size': 29189}
2025-06-04 10:52:14,277 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 84, 'value': 'D'}
2025-06-04 10:52:14,278 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 4, 'price': 311.43, 'attrib': 2272257767664: CanAutoExecute: 0, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:14,278 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 5, 'size': 4}
2025-06-04 10:52:14,278 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 5, 'size': 4}
2025-06-04 10:52:14,279 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 1, 'price': 311.42, 'attrib': 2272257767664: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:14,279 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 12}
2025-06-04 10:52:14,279 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 12}
2025-06-04 10:52:14,280 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 2}
2025-06-04 10:52:14,280 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 32, 'value': 'P'}
2025-06-04 10:52:14,281 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 33, 'value': 'PV'}
2025-06-04 10:52:14,451 - ibapi.wrapper - INFO - ANSWER tickPrice {'reqId': 1006, 'tickType': 2, 'price': 311.45, 'attrib': 2272257767664: CanAutoExecute: 1, PastLimit: 0, PreOpen: 0}
2025-06-04 10:52:14,452 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 1}
2025-06-04 10:52:14,452 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 0, 'size': 53}
2025-06-04 10:52:14,453 - ibapi.wrapper - INFO - ANSWER tickSize {'reqId': 1006, 'tickType': 3, 'size': 1}
2025-06-04 10:52:14,453 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 32, 'value': 'NKPTVZU'}
2025-06-04 10:52:14,459 - ibapi.wrapper - INFO - ANSWER tickString {'reqId': 1006, 'tickType': 33, 'value': 'P'}
2025-06-04 10:52:14,651 - __main__ - INFO - 
================================================================================
2025-06-04 10:52:14,651 - __main__ - INFO - FINAL SUMMARY
2025-06-04 10:52:14,651 - __main__ - INFO - ================================================================================
2025-06-04 10:52:14,651 - __main__ - INFO - Total active trades: 3
2025-06-04 10:52:14,652 - __main__ - INFO - Symbols with trades: ['SLV', 'SPY', 'GLD']
2025-06-04 10:52:14,652 - src.rule.engine - INFO - Rule engine stopped
2025-06-04 10:52:14,652 - __main__ - INFO - 
Cleaning up orders...
2025-06-04 10:52:14,652 - src.order.base - INFO - Order d69641fc-af4e-45c3-9499-e5ee38898609 status changed: submitted -> pending_cancel (Test cleanup)
2025-06-04 10:52:14,652 - src.order.manager - INFO - Cancelling order d69641fc-af4e-45c3-9499-e5ee38898609 with broker ID 67
2025-06-04 10:52:14,653 - ibapi.client - INFO - REQUEST cancelOrder {'orderId': 67}
2025-06-04 10:52:14,653 - ibapi.client - INFO - SENDING cancelOrder b'\x00\x00\x00\x074\x001\x0067\x00'
2025-06-04 10:52:14,653 - src.order.base - INFO - Order a617d371-c5e1-4f76-a5f0-40c37b66ff40 status changed: accepted -> pending_cancel (Test cleanup)
2025-06-04 10:52:14,653 - src.order.manager - INFO - Cancelling order a617d371-c5e1-4f76-a5f0-40c37b66ff40 with broker ID 60
2025-06-04 10:52:14,653 - ibapi.client - INFO - REQUEST cancelOrder {'orderId': 60}
2025-06-04 10:52:14,659 - ibapi.client - INFO - SENDING cancelOrder b'\x00\x00\x00\x074\x001\x0060\x00'
2025-06-04 10:52:14,660 - src.order.base - INFO - Order 1d4424bd-0d95-4177-8d21-f3c2a3366f9d status changed: accepted -> pending_cancel (Test cleanup)
2025-06-04 10:52:14,660 - src.order.manager - INFO - Cancelling order 1d4424bd-0d95-4177-8d21-f3c2a3366f9d with broker ID 65
2025-06-04 10:52:14,660 - ibapi.client - INFO - REQUEST cancelOrder {'orderId': 65}
2025-06-04 10:52:14,661 - ibapi.client - INFO - SENDING cancelOrder b'\x00\x00\x00\x074\x001\x0065\x00'
2025-06-04 10:52:14,661 - src.order.base - INFO - Order ca61a0a4-0363-4f47-8a32-8bbb8d645aa3 status changed: submitted -> pending_cancel (Test cleanup)
2025-06-04 10:52:14,661 - src.order.manager - INFO - Cancelling order ca61a0a4-0363-4f47-8a32-8bbb8d645aa3 with broker ID 61
2025-06-04 10:52:14,662 - ibapi.client - INFO - REQUEST cancelOrder {'orderId': 61}
2025-06-04 10:52:14,662 - ibapi.client - INFO - SENDING cancelOrder b'\x00\x00\x00\x074\x001\x0061\x00'
2025-06-04 10:52:14,662 - src.order.base - INFO - Order 61625afe-2c90-45e3-acda-8c9cee4bc87d status changed: submitted -> pending_cancel (Test cleanup)
2025-06-04 10:52:14,662 - src.order.manager - INFO - Cancelling order 61625afe-2c90-45e3-acda-8c9cee4bc87d with broker ID 66
2025-06-04 10:52:14,663 - ibapi.client - INFO - REQUEST cancelOrder {'orderId': 66}
2025-06-04 10:52:14,663 - ibapi.client - INFO - SENDING cancelOrder b'\x00\x00\x00\x074\x001\x0066\x00'
2025-06-04 10:52:14,663 - src.order.base - INFO - Order 0f874b4d-588a-431e-a610-de6e9caa521c status changed: submitted -> pending_cancel (Test cleanup)
2025-06-04 10:52:14,664 - src.order.manager - INFO - Cancelling order 0f874b4d-588a-431e-a610-de6e9caa521c with broker ID 62
2025-06-04 10:52:14,664 - ibapi.client - INFO - REQUEST cancelOrder {'orderId': 62}
2025-06-04 10:52:14,664 - ibapi.client - INFO - SENDING cancelOrder b'\x00\x00\x00\x074\x001\x0062\x00'
2025-06-04 10:52:14,664 - src.trade_tracker - INFO - Cleared all trades from tracker
2025-06-04 10:52:14,665 - __main__ - INFO - Disconnecting from TWS...
2025-06-04 10:52:14,666 - src.tws_connection - INFO - Disconnecting from TWS
2025-06-04 10:52:14,666 - ibapi.client - INFO - disconnecting
2025-06-04 10:52:14,864 - src.tws_connection - WARNING - Not connected to TWS
2025-06-04 10:52:14,865 - src.tws_connection - INFO - Connection thread: Message loop ended
2025-06-04 10:52:14,910 - ibapi.client - INFO - REQUEST cancelMktData {'reqId': 1006}
2025-06-04 10:52:15,002 - src.price.service - WARNING - Timeout getting price for GLD
2025-06-04 10:52:15,003 - src.rule.linked_order_actions - WARNING - No price available for GLD protective orders
2025-06-04 10:52:15,003 - src.rule.linked_order_actions - INFO - Starting double down order creation for GLD
2025-06-04 10:52:15,514 - src.rule.linked_order_actions - INFO - Found 0 stop orders for GLD: []
2025-06-04 10:52:15,514 - src.rule.linked_order_actions - WARNING - No stop orders found yet for GLD, skipping double down creation
2025-06-04 10:52:15,515 - src.rule.linked_order_actions - INFO - Created and linked BUY main order b068d3fb-8ecf-4d67-95d5-2edb6a6edddc for GLD
2025-06-04 10:52:15,515 - src.trade_tracker - INFO - Started tracking BUY trade for SPY
2025-06-04 10:52:15,516 - src.price.service - WARNING - TWS not connected - cannot get price
2025-06-04 10:52:15,516 - src.rule.linked_order_actions - ERROR - Could not get price for SPY
2025-06-04 10:52:15,516 - src.rule.linked_order_actions - WARNING - Could not calculate position size for SPY
